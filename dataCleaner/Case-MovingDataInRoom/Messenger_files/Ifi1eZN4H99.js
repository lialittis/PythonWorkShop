if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }

__d("MWChatContact_profile.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"MWChatContact_profile",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"first",value:1}],concreteType:"DirectInboxBroadcastBucketConnection",kind:"LinkedField",name:"story_bucket",plural:!1,selections:[{alias:null,args:null,concreteType:"DirectMessageThreadBucket",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"first_story_to_show",plural:!1,selections:[a,{alias:null,args:null,concreteType:"StoryCardSeenState",kind:"LinkedField",name:"story_card_seen_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_seen_by_viewer",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"story_bucket(first:1)"},{alias:null,args:[{kind:"Literal",name:"height",value:36},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:36}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_active_time",storageKey:null}]}],type:"User",abstractKey:null}],type:"Profile",abstractKey:"__isProfile"}}();e.exports=a}),null);
__d("MWChatContact_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatContact_viewer",selections:[{alias:null,args:null,kind:"ScalarField",name:"chat_visibility",storageKey:null},{alias:null,args:null,concreteType:"PresenceViewerBasedSettings",kind:"LinkedField",name:"presence_view_side_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_active_status_viewable",storageKey:null}],storageKey:null}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("MWChatContactsContainerQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7684217751592085"}),null);
__d("MWChatContactsContainerQuery.graphql",["MWChatContactsContainerQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"numContactsToFetch"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],c=[{kind:"Variable",name:"count",variableName:"numContactsToFetch"}],d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatContactsContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:c,kind:"FragmentSpread",name:"MWChatContacts_viewer"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatContactsContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"chat_sidebar_contacts",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,{kind:"TypeDiscriminator",abstractKey:"__isProfile"},{kind:"InlineFragment",selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_active_time",storageKey:null}]},{alias:null,args:[{kind:"Literal",name:"first",value:1}],concreteType:"DirectInboxBroadcastBucketConnection",kind:"LinkedField",name:"story_bucket",plural:!1,selections:[{alias:null,args:null,concreteType:"DirectMessageThreadBucket",kind:"LinkedField",name:"nodes",plural:!0,selections:[d,{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"first_story_to_show",plural:!1,selections:[d,{alias:null,args:null,concreteType:"StoryCardSeenState",kind:"LinkedField",name:"story_card_seen_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_seen_by_viewer",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"story_bucket(first:1)"},{alias:null,args:[{kind:"Literal",name:"height",value:36},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:36}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],type:"User",abstractKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chat_visibility",storageKey:null},{alias:null,args:null,concreteType:"PresenceViewerBasedSettings",kind:"LinkedField",name:"presence_view_side_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_active_status_viewable",storageKey:null},d],storageKey:null}],storageKey:null}]},params:{id:b("MWChatContactsContainerQuery_facebookRelayOperation"),metadata:{},name:"MWChatContactsContainerQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWChatContacts_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"count"}],kind:"Fragment",metadata:null,name:"MWChatContacts_viewer",selections:[{alias:null,args:[{kind:"Variable",name:"count",variableName:"count"}],concreteType:null,kind:"LinkedField",name:"chat_sidebar_contacts",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null}]}],type:"User",abstractKey:null},{args:null,kind:"FragmentSpread",name:"MWChatContact_profile"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chat_visibility",storageKey:null},{alias:null,args:null,concreteType:"PresenceViewerBasedSettings",kind:"LinkedField",name:"presence_view_side_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_active_status_viewable",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"MWChatContact_viewer"}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometHomeContactsPresenceAwareList.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx("ul",{className:a.active?"pedkr2u6":"ggwglk7f",children:a.children})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSRestrictedAccountsListIcons.bs",["MDSPlusSvgIcon.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){return h.jsx(b("MDSPlusSvgIcon.bs").make,{color:"black",size:"32"})}function a(a){return i}function c(a){return{color:"gray",size:40,disabled:!1,shape:"circle",icon:i,type:"contained-icon"}}d={make:i,toMWIcon:a,toPrimaryAddOn:c};f.Plus=d}),null);
__d("MWRestrictedAccountsListIcons.bs",["cr:10560"],(function(a,b,c,d,e,f){"use strict";a=b("cr:10560").Plus;f.$MDSRestrictedAccountsListIcons$OR$TetraRestrictedAccountsListIcons$requireCond=b("cr:10560");f.Plus=a}),null);
__d("MWRestrictedAccountsList.bs",["fbt","CometLazyDialogTrigger.react","CometLink.react","CometScrollView.react","CometTopNavListDropdown.react","FBID.bs","JSResourceForInteraction","LSContactBitOffset.bs","LSContactCapabilityBitOffset.bs","LSMediaUrl.bs","LsSystemFolder.bs","MDSText.react","MWChatOpenTabForUser.bs","MWInboxRestrictedAccountsRouteBuilder.bs","MWInboxRouteBuilder.bs","MWLSJewelLoadMoreThreads.bs","MWRestrictedAccountsListIcons.bs","ReQL.bs","ReQLSubscription.bs","TetraListCell.react","bs_belt_Option","bs_caml_obj","bs_curry","bs_int64","gkx","react","stylex","useCometRouterDispatcher","useReStore","useShouldShowMessagingEntrypointInCometRoot"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={infoBox:{marginTop:"qjjbsfad",marginEnd:"cxmmr5t8",marginBottom:"w0hvl6rk",marginStart:"hcukyx3x",paddingTop:"pybr56ya",paddingEnd:"oj5qckz4",paddingBottom:"f10w8fjw",paddingStart:"lb8aey2d"}},l=b("gkx")("1950")?{buildURL:b("MWInboxRestrictedAccountsRouteBuilder.bs").buildURL}:{buildURL:b("MWInboxRouteBuilder.bs").buildURL};function a(a){var c=a.hidePage,d=a.onClose,e=a.selectedThreadKey,f=b("useReStore")(),h=b("useCometRouterDispatcher")(),m=b("MWLSJewelLoadMoreThreads.bs").useHook(b("LsSystemFolder.bs").restricted),n=b("useShouldShowMessagingEntrypointInCometRoot")("CHAT");a=b("bs_curry")._2(b("MWChatOpenTabForUser.bs").useHook,void 0,"inboxRestricted");var o=a[0];j.useEffect(function(){m()},[]);a=b("ReQLSubscription.bs").useArray(j.useMemo(function(){return b("ReQL.bs").filter(b("ReQL.bs").fromTableAscending(f.table("contacts")),function(a){return b("bs_belt_Option").getWithDefault(b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").restrictPlaced,a),!1)})},[f]));var p=g._(/*FBT_CALL*/"\u53d7\u9650\u5e10\u6237"/*FBT_CALL*/),q=g._(/*FBT_CALL*/"\u901a\u8fc7\u8bbe\u9650\u529f\u80fd\uff0c\u4f60\u53ef\u4ee5\u5bf9\u81ea\u5df1\u8ba4\u8bc6\u7684\u7528\u6237\u8bbe\u5b9a\u4e92\u52a8\u9650\u5236\uff0c\u800c\u65e0\u9700\u62c9\u9ed1\u5bf9\u65b9\u3002{=Learn how it works}"/*FBT_CALL*/,[g._param("=Learn how it works",j.jsx(b("CometLink.react"),{href:"https://www.facebook.com/help/messenger-app/1021314848608781",children:j.jsx(b("MDSText.react"),{color:"primary",type:"bodyLink4",children:g._(/*FBT_CALL*/"\u4e86\u89e3\u5982\u4f55\u64cd\u4f5c"/*FBT_CALL*/)})}))]),r=g._(/*FBT_CALL*/"\u6dfb\u52a0\u7528\u6237"/*FBT_CALL*/);return j.jsxs(b("CometScrollView.react"),{showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!0,children:[c!==void 0?j.jsx(b("CometTopNavListDropdown.react").Title,{actions:[],onReturn:c,title:p}):j.jsx(b("CometTopNavListDropdown.react").Title,{actions:[],title:p}),j.jsx("div",{className:(i||(i=b("stylex")))(k.infoBox),children:j.jsx(b("MDSText.react"),{color:"secondary",type:"body4",children:q})}),j.jsxs("ul",{children:[j.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResourceForInteraction")("MWRestrictedAccountsListAddRestricteeDialog",{name:"MWRestrictedAccountsListAddRestricteeDialog","class":"fluid"}).__setRef("MWRestrictedAccountsList.bs"),dialogProps:{onClose:d},children:function(a){return j.jsx(b("TetraListCell.react"),{headline:r,addOnPrimary:b("bs_curry")._1(b("MWRestrictedAccountsListIcons.bs").Plus.toPrimaryAddOn,void 0),headlineLineLimit:1,level:4,onPress:function(c){return b("bs_curry")._1(a,void 0)},testid:"mw_restrict_messages_button"})}}),a.map(function(a){var c=a.secondaryName,f=a.name!==a.secondaryName;return j.jsx("li",{children:j.jsx(b("TetraListCell.react"),{body:c!==void 0&&f?c:null,headline:a.name,addOnPrimary:{addOn:void 0,shape:void 0,size:40,source:{uri:b("LSMediaUrl.bs").Contact.profilePictureUrl(a)},alt:void 0,linkProps:void 0,type:"profile-photo"},level:4,onPress:function(c){if(n){o(b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.id)),!1);return b("bs_curry")._1(d,void 0)}if(h==null)return;c=b("bs_curry")._1(l.buildURL,{thread_key:b("bs_int64").to_string(a.id)});h.go(c)},selected:b("bs_caml_obj").caml_equal(a.id,e)},b("bs_int64").to_string(a.id))},b("bs_int64").to_string(a.id))})]})]})}c=l;d=a;f.styles=k;f.itemRouteBuilder=l;f.ItemRouteBuilder=c;f.make=d}),null);
__d("MessageRequestsBulkActionsContextProvider.react",["MessageRequestsBulkActionsContext.react","qex","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useMemo,k=b.useState;function a(a){var b;a=a.children;var d=(b=c("qex")._("132"))!=null?b:!1;b=k(!1);var e=b[0],f=b[1];b=k(new Set());var g=b[0],l=b[1];i(function(){l(function(){return new Set()})},[e,l]);b=j(function(){return{bulkActionsSelectedThreads:g,isBulkActionsEditMode:e,isBulkActionsEnabled:d,setBulkActionsSelectedThreads:l,setIsBulkActionsEditMode:f}},[g,e,d]);return h.jsx(c("MessageRequestsBulkActionsContext.react").Provider,{value:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatContact.react",["CometRelay","CurrentEnvironment","JSResourceForInteraction","JSScheduler","LSThreadAttributionStore.re","MWChatContact_profile.graphql","MWChatContact_viewer.graphql","MWLSPreloadThreadForContact.re","TetraListCell.react","XCometActiveContactsControllerRouteBuilder","XCometMessengerControllerRouteBuilder","XCometStoriesControllerRouteBuilder","gkx","qex","react","recoverableViolation","useCometPreloader"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=d("react"),k=d("react").useCallback,l=c("JSResourceForInteraction")("MWV2ChatTab.bs").__setRef("MWChatContact.react");function a(a){var e=a.entryPoint,f=a.openTabForUser,g=a.preventLocalNavigation;g=g===void 0?!0:g;var m=a.profile,n=a.selected;n=n===void 0?!1:n;a=a.viewer;a=d("CometRelay").useFragment(h!==void 0?h:h=b("MWChatContact_viewer.graphql"),a);var o=c("qex")._("1285");o=o===!0?(a==null?void 0:(o=a.presence_view_side_settings)==null?void 0:o.is_active_status_viewable)===!0:(a==null?void 0:a.chat_visibility)===!0;a=d("CometRelay").useFragment(i!==void 0?i:i=b("MWChatContact_profile.graphql"),m);m=a.availability;var p=a.id,q=a.last_active_time,r=a.name,s=a.profile_picture,t,u="none";a=(a=a.story_bucket)==null?void 0:a.nodes;a=a?a[0]:null;if(a!=null){var v,w=a.id;v=(v=a.first_story_to_show)==null?void 0:v.id;a=a==null?void 0:(a=a.first_story_to_show)==null?void 0:(a=a.story_card_seen_state)==null?void 0:a.is_seen_by_viewer;a!=null&&(u=a?"seen":"unseen");if(u!=="none"&&w!=null&&v!=null){a=c("XCometStoriesControllerRouteBuilder").buildURL({bucket_id:w,card_id:v,view_single:!0});t={prefetchQueriesOnHover:!0,url:a}}}w=k(function(){c("gkx")("1512630")&&d("JSScheduler").scheduleSpeculativeCallback(function(){l.preload()})},[]);var x=c("MWLSPreloadThreadForContact.re").usePreloaderForUser();v=k(function(){p!=null&&x(p)},[p,x]);a=c("useCometPreloader")("button",w,v);var y=a[0];w=a[1];var z=a[2],A=a[3];v=k(function(a){z!=null&&z(a),p!=null&&f(p,!1)},[z,p,f]);a=k(function(a){z!=null&&z(a),p!=null&&c("LSThreadAttributionStore.re").setSource(p,e)},[z,p,e]);var B=k(function(a){y(a),A(!0)},[y,A]);s=s==null?void 0:s.uri;if(p==null)return c("recoverableViolation")("Chat contact list cell is missing id","comet_ui");if(r==null)return c("recoverableViolation")("Chat contact list cell is missing name","comet_ui");if(s==null)return c("recoverableViolation")("Chat contact list cell is missing profileUri","comet_ui");m=m==="ACTIVE";o=o?q:void 0;q={addOn:m?{type:"availabilityBadge"}:o!=null?{border:"web-wash",time:o,type:"lastActiveTimeBadge"}:void 0,linkProps:t!=null?t:void 0,shape:"circle",size:36,source:{uri:s},storyStatus:u,type:"profile-photo"};m=c("gkx")("1950");o=m?c("XCometActiveContactsControllerRouteBuilder"):c("XCometMessengerControllerRouteBuilder");s=c("CurrentEnvironment").facebookdotcom?o.buildURL({thread_key:p}):(m?"/active":"")+"/t/"+p+"/";return j.jsx(c("TetraListCell.react"),{addOnPrimary:q,disabled:!1,headline:r,level:4,linkProps:{preventLocalNavigation:g,url:s},onHoverIn:B,onHoverOut:w,onPress:g?v:a,selected:n,testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatContacts.react",["fbt","CometHomeContactsConfig","CometHomeContactsPresenceAwareList.react","CometRelay","MWChatContact.react","MWChatContacts_viewer.graphql","TetraText.react","qex","react","useMWChatOpenTabForUser"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react");function a(a){var e=a.entryPoint,f=a.preventLocalNavigation,g=a.selectedThreadKey,k=a.showCount;k=k===void 0?!1:k;a=a.viewer$key;var l=d("CometRelay").useFragment(i!==void 0?i:i=b("MWChatContacts_viewer.graphql"),a);a=(a=l==null?void 0:l.chat_sidebar_contacts)!=null?a:[];var m=c("useMWChatOpenTabForUser")(e),n=m[0];m[1];m=c("qex")._("1285");m=m===!0?(l==null?void 0:(m=l.presence_view_side_settings)==null?void 0:m.is_active_status_viewable)===!0:(l==null?void 0:l.chat_visibility)===!0;a=a.filter(function(a){return(a==null?void 0:a.id)!=null&&a.availability==="ACTIVE"});a=a.slice(0,c("CometHomeContactsConfig").numContactsToFetch).map(function(a){var b=j.jsx(c("MWChatContact.react"),{entryPoint:e,openTabForUser:n,preventLocalNavigation:f,profile:a,selected:g!=null&&g===a.id,viewer:l});return j.jsx("li",{children:b},a.id)});return j.jsxs(j.Fragment,{children:[k?j.jsx(c("TetraText.react"),{color:"secondary",type:"body4",children:j.jsx("div",{className:"lb8aey2d f10w8fjw oj5qckz4 pybr56ya hcukyx3x w0hvl6rk cxmmr5t8 qjjbsfad",children:h._(/*FBT_CALL*/"\u5728\u7ebf\u8054\u7cfb\u4eba ({active count})"/*FBT_CALL*/,[h._param("active count",a.length)])})}):null,j.jsx(c("CometHomeContactsPresenceAwareList.react"),{active:m,children:a})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatContactsContainer.react",["CometHomeContactsConfig","CometRelay","MWChatContacts.react","MWChatContactsContainerQuery.graphql","WebPixelRatio","react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){var e=d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("MWChatContactsContainerQuery.graphql"),{numContactsToFetch:c("CometHomeContactsConfig").numContactsToFetch,scale:d("WebPixelRatio").get()});e=e==null?void 0:e.viewer;if(e==null){c("recoverableViolation")("Viewer is null so we're unable to render the contact list container","messenger_web_product");return null}var f=a.entryPoint||"unknown";return i.jsx(c("MWChatContacts.react"),babelHelpers["extends"]({viewer$key:e},a,{entryPoint:f}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerDesktopDeeplinkEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1856945");c=b("FalcoLoggerInternal").create("messenger_desktop_deeplink_event",a);e.exports=c}),null);
__d("XMessengerDotComDesktopLaunchAppInterstitialControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/desktop/launch/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("MessengerThreadlistFooterOpenInAppLink.bs",["fbt","ix","Actor.re","CometPressable.react","MDSRow.react","MDSRowItem.react","MDSText.react","MessengerDesktopDeeplinkEventFalcoEvent","TetraIcon.react","XMessengerDotComDesktopLaunchAppInterstitialControllerRouteBuilder","bs_caml_option","fbicon","react","stylex","uuid"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||b("react"),l={root:{boxShadow:"usczdcwk",minHeight:"iihba337",":hover":{textDecoration:"p8dawk7l"},paddingTop:"jb3vyjys",paddingEnd:"gl4o1x5y",paddingBottom:"qt6c0cv9",paddingStart:"lt9micmv","@media (max-width: 900px)":{width:"g0mhvs5p"}},button:{display:"j83agx80",justifyContent:"taijpn5t",alignItems:"bp9cbjyn"},icon:{marginEnd:"fv0vnmcu"},content:{"@media (max-width: 900px)":{display:"ahb00how"}}};function a(a){a=b("Actor.re").useActor();var c=k.useRef(!1),d=k.useRef(b("uuid")()).current;k.useEffect(function(){c.current||(c.current=!0,b("MessengerDesktopDeeplinkEventFalcoEvent").log(function(a){return{event:"messenger_threadlist_open_in_app_impression",eventLocation:"browser",eventType:"thread",funnelSessionId:d,mobile_app_source:"unknown"}}))});a=b("XMessengerDotComDesktopLaunchAppInterstitialControllerRouteBuilder").buildUri({funnel_session_id:d,id:b("bs_caml_option").some(a[0]),thread:void 0,origin:"MSG"}).setDomain("www.messenger.com").setProtocol("https").toString();var e=k.useCallback(function(a){b("MessengerDesktopDeeplinkEventFalcoEvent").log(function(a){return{event:"messenger_threadlist_open_in_app_click",eventLocation:"browser",eventType:"thread",funnelSessionId:d,mobile_app_source:"unknown"}})},[]),f=g._(/*FBT_CALL*/"\u6253\u5f00 Messenger \u5e94\u7528"/*FBT_CALL*/);return k.jsx(b("MDSRow.react"),{paddingHorizontal:8,paddingVertical:8,verticalAlign:"center",expanding:!0,spacing:0,xstyle:[l.root],children:k.jsx(b("MDSRowItem.react"),{expanding:!0,children:k.jsx(b("CometPressable.react"),{"aria-label":f,expanding:!0,linkProps:{target:"_blank",url:a},onPress:e,overlayOffset:10,overlayRadius:6,children:k.jsxs("div",{className:(j||(j=b("stylex")))(l.button),children:[k.jsx("span",{className:j(l.icon),children:k.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(h("505620"),20),color:"primary"})}),k.jsx("span",{className:j(l.content),children:k.jsx(b("MDSText.react"),{align:"center",type:"bodyLink3",children:f.toString()})})]})})})})}c=a;f.styles=l;f.make=c}),null);
__d("FDSInboxNavigationHeaderWithBackButton.bs",["fbt","ix","CometTopNavListDropdown.react","MDSCircleButton.react","MessageRequestsBulkActionsContext.react","bs_caml_option","bs_curry","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){var c=a.title,d=a.onReturn;a=a.entryPoint;var e=j.useContext(b("MessageRequestsBulkActionsContext.react")),f=e.setIsBulkActionsEditMode,i=e.setBulkActionsSelectedThreads,k=e.isBulkActionsEditMode;a=a!==void 0?a==="inboxPendingRequests"?"message-requests-bulk-actions-edit-button":a==="inboxSpam"?"spam-bulk-actions-edit-button":"bulk-actions-edit-button":"bulk-actions-edit-button";e=e.isBulkActionsEnabled?[j.jsx("div",{id:a,"aria-controls":"message-requests-bulk-actions-buttons","aria-expanded":k,children:j.jsx(b("MDSCircleButton.react"),{icon:b("fbicon")._(h("477825"),16),size:32,label:g._(/*FBT_CALL*/"\u7f16\u8f91"/*FBT_CALL*/),onPress:function(a){return b("bs_curry")._1(f,!k)},onPressOut:function(a){return b("bs_curry")._1(i,function(a){return new Set()})}})})]:[];a={actions:e,title:c};d!==void 0&&(a.onReturn=b("bs_caml_option").valFromOption(d));return j.jsx(b("CometTopNavListDropdown.react").Title,a)}c=a;f.make=c}),null);
__d("MWInboxLeftRailHeader.bs",["cr:1774123"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1774123").make;f.$MWMDSInboxLeftRailHeader$OR$MWTetraInboxLeftRailHeader$requireCond=b("cr:1774123");f.make=a}),null);
__d("MWInboxNavigationHeaderWithBackButton.bs",["cr:884"],(function(a,b,c,d,e,f){"use strict";a=b("cr:884").make;f.$MDSInboxNavigationHeaderWithBackButton$OR$FDSInboxNavigationHeaderWithBackButton$requireCond=b("cr:884");f.make=a}),null);
__d("MWInboxLeftRail.bs",["fbt","CometErrorBoundary.re","CometPagelet.react","CometPlaceholder.react","CometScrollView.react","CometTransientDialogProvider.react","LS.bs","LSClearMessageSearchTable","LSClearTables","LSIssueMessageSearchQuery","LSMessageSearchType.bs","LSTransaction.bs","Locale","LsMessageRequestsEntryPoint.bs","LsSystemFolder.bs","MAWUnsupportedBrowsersNuxWrapper.react","MDSText.react","MWChatContactsContainer.react","MWInboxActiveNowTrayContainerGK.bs","MWInboxLeftRailHeader.bs","MWInboxLeftRailSearch.bs","MWInboxNavigationHeaderWithBackButton.bs","MWInboxSelectedThread.bs","MWLSActor.bs","MWLSJewelLoadMoreThreads.bs","MWLeftRailComponent.react","MWQuickPromotionThreadlistBannerContainer.react","MWRestrictedAccountsList.bs","MWThreadList.bs","MWThreadListNewMessage.bs","MWThreadListNewMessageState.bs","MWThreadSearchResults.bs","MessageRequestsBulkActionsContext.react","MessageRequestsBulkActionsContextProvider.react","MessageRequestsLog.bs","MessengerThreadlistFooterDesktopAppLink.bs","MessengerThreadlistFooterOpenInAppLink.bs","MessengerWebEntryPoint","Promise","bs_belt_Option","bs_caml","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","cr:1047","cr:1143","cr:2615","cr:369","cr:4097","gkx","promiseDone","react","recoverableViolation","requestAnimationFrame","stylex","useDebounced","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k=b("Locale").isRTL(),l={header:{"@media (max-width: 900px)":{display:"ahb00how"}},page:{position:"pmk7jnqg",opacity:"b5wmifdl",transitionDuration:"ms05siws",transitionProperty:"pnx7fd3z",transitionTimingFunction:"b7h9ocf4",width:"k4urcfbm",height:"datstx6m",display:"j83agx80"},pageHidden:{visibility:"kr9hpln1"},pageVisible:{opacity:"pedkr2u6"},root:{backgroundColor:"hybvsw6c",borderEnd:"hop1g133",outline:"lzcic4wl",overflowX:"ni8dbmo4",overflowY:"stjgntxs",position:"l9j0dhe7",width:"k4urcfbm",height:"datstx6m",minHeight:"dp1hu0rb"},rootWithAnimations:{transform:"h3qk65th",transitionDuration:"ms05siws",transitionProperty:"s48hqc9n",transitionTimingFunction:"b7h9ocf4"},infoBox:{marginTop:"qjjbsfad",marginEnd:"cxmmr5t8",marginBottom:"w0hvl6rk",marginStart:"hcukyx3x",paddingTop:"pybr56ya",paddingEnd:"oj5qckz4",paddingBottom:"f10w8fjw",paddingStart:"lb8aey2d"},messageRequestsContainer:{display:"j83agx80",flexDirection:"cbu4d94t",maxWidth:"d2edcug0"},messageRequestsBulkActionsButtons:{boxShadow:"usczdcwk"}},m=b("cr:4097")==null?void 0:b("bs_caml_option").some(b("cr:4097"));function n(a){var c=a.hidePage,d=a.info,e=a.parentThreadKey,f=a.title,g=a.onOpenSpamMessages;a=a.entryPoint;var h=b("MWInboxSelectedThread.bs").useHook(void 0),k=j.useContext(b("MessageRequestsBulkActionsContext.react")),m=k.setIsBulkActionsEditMode;k.isBulkActionsEnabled&&j.useEffect(function(){b("bs_curry")._1(m,!1)},[c]);k={parentThreadKey:e,searchTypeahead:void 0,onOpenMessageRequests:void 0,threadListMessagingEntrypoint:b("MessengerWebEntryPoint").INBOX,responsive:!0,lsEntryPoint:a,gridLabel:f};g!==void 0&&(k.onOpenSpamMessages=b("bs_caml_option").valFromOption(g));h!==void 0&&(k.selectedThreadKey=h);return j.jsxs(b("CometScrollView.react"),{showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!0,children:[j.jsx(b("MWInboxNavigationHeaderWithBackButton.bs").make,{title:f,onReturn:c,entryPoint:a}),d!==void 0?j.jsx("div",{className:(i||(i=b("stylex")))(l.infoBox),children:j.jsx(b("MDSText.react"),{color:"secondary",type:"body4",children:b("bs_caml_option").valFromOption(d)})}):null,j.jsx(b("MWThreadList.bs").make,k)]})}c={make:n};function o(a){a=a.hidePage;return j.jsx(b("MessageRequestsBulkActionsContextProvider.react"),{children:j.jsxs("div",{className:(i||(i=b("stylex")))(l.messageRequestsContainer),children:[j.jsx(n,{hidePage:a,parentThreadKey:b("LsSystemFolder.bs").other,title:g._(/*FBT_CALL*/"\u5783\u573e\u4fe1\u606f"/*FBT_CALL*/),entryPoint:"inboxSpam"}),b("cr:2615")==null?null:j.jsx("div",{className:(i||(i=b("stylex")))(l.messageRequestsBulkActionsButtons),children:j.jsx(b("cr:2615").make,{entryPoint:"spam"})})]})})}d={make:o};function p(a){a=a.hidePage;return j.jsx(n,{hidePage:a,parentThreadKey:b("LsSystemFolder.bs").mplace,title:g._(/*FBT_CALL*/"Marketplace"/*FBT_CALL*/),entryPoint:"inboxFolder"})}e={make:p};function q(a){a=a.hidePage;return j.jsx(n,{hidePage:a,parentThreadKey:b("LsSystemFolder.bs").jobs,title:g._(/*FBT_CALL*/"\u62db\u8058\u6c42\u804c"/*FBT_CALL*/),entryPoint:"inboxFolder"})}var r={make:q};function s(a){var c=a.hidePage,d=a.pushPage,e=b("MWLSJewelLoadMoreThreads.bs").useLoadSpamThreads(void 0);a=g._(/*FBT_CALL*/"\u70b9\u5f00\u964c\u751f\u6d88\u606f\u80fd\u591f\u67e5\u770b\u6d88\u606f\u6765\u6e90\u3002\u9664\u975e\u4f60\u56de\u590d\u5bf9\u65b9\uff0c\u5426\u5219\u5bf9\u65b9\u4e0d\u4f1a\u770b\u5230\u6d88\u606f\u5df2\u8bfb\u3002"/*FBT_CALL*/);var f=g._(/*FBT_CALL*/"\u964c\u751f\u6d88\u606f"/*FBT_CALL*/),h,k=0,m;b("cr:369")==null?b("cr:1143")==null?h=j.jsx(n,{hidePage:c,info:a,parentThreadKey:b("LsSystemFolder.bs").pending,title:f,onOpenSpamMessages:function(a){b("MessageRequestsLog.bs").logMessageRequestsView(b("bs_caml_int64").to_int32(b("LsMessageRequestsEntryPoint.bs").pendingRequests),b("bs_caml_int64").to_int32(b("LsSystemFolder.bs").other));b("bs_curry")._1(e,void 0);return b("bs_curry")._1(d,o)},entryPoint:"inboxPendingRequests"}):(m=b("cr:1143"),k=1):(m=b("cr:369"),k=1);k===1&&(h=j.jsx(m.make,{hidePage:c,parentThreadKey:b("LsSystemFolder.bs").pending,entryPoint:"inboxPendingRequests"}));return j.jsx(b("MessageRequestsBulkActionsContextProvider.react"),{children:j.jsxs("div",{className:(i||(i=b("stylex")))(l.messageRequestsContainer),children:[h,b("cr:2615")==null?null:j.jsx("div",{className:(i||(i=b("stylex")))(l.messageRequestsBulkActionsButtons),children:j.jsx(b("cr:2615").make,{})})]})})}var t={make:s};function u(a){a=a.hidePage;var c=b("MWInboxSelectedThread.bs").useHook(void 0);return j.jsx(b("MWRestrictedAccountsList.bs").make,{hidePage:a,onClose:function(a){},selectedThreadKey:c})}var v={make:u};function w(a){a=a.hidePage;return j.jsx(n,{hidePage:a,parentThreadKey:b("LsSystemFolder.bs").archived,title:g._(/*FBT_CALL*/"\u5df2\u5f52\u6863\u7684\u804a\u5929"/*FBT_CALL*/),entryPoint:"inboxArchived"})}var x={make:w};function y(a){a=a.hidePage;var c=b("MWInboxSelectedThread.bs").useHook(void 0),d={preventLocalNavigation:!1,showCount:!0,entryPoint:"inboxActiveContacts"};c=b("bs_belt_Option").map(c,b("bs_int64").to_string);c!==void 0&&(d.selectedThreadKey=c);return j.jsxs(b("CometScrollView.react"),{showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!0,children:[j.jsx(b("MWInboxNavigationHeaderWithBackButton.bs").make,{title:g._(/*FBT_CALL*/"\u7528\u6237"/*FBT_CALL*/),onReturn:a}),j.jsx(b("MWChatContactsContainer.react"),d)]})}var z={make:y};function A(a){var c=a.hidePage,d=a.query;a=a.setIsConversationSearchVisible;var e=b("useReStore")(),f=b("MWInboxSelectedThread.bs").useHook(void 0),g=j.useRef(!1),h=j.useCallback(function(a){if(!g.current){g.current=!0;b("promiseDone")(b("LSTransaction.bs").run(e,function(a){var c=b("LS.bs").make(a);return b("LSClearMessageSearchTable")(b("LSMessageSearchType.bs").message,c).then(function(a){return b("LSClearMessageSearchTable")(b("LSMessageSearchType.bs").thread,c)})},"readWrite"),c);return}},[e,c]);return j.jsx(b("MWThreadSearchResults.bs").make,{query:d,clearSearchResultsAndHidePage:h,selectedThreadKey:f,setIsConversationSearchVisible:a})}var B={make:A};function a(a){var c=a.setIsConversationSearchVisible,d=a.queries,e=b("MWLSActor.bs").useActor(void 0),f=b("MWLSJewelLoadMoreThreads.bs").useHook(b("LsSystemFolder.bs").archived),h=b("MWInboxSelectedThread.bs").useHook(void 0);a=j.useState(function(){return!1});var n=a[1],o=a[0];a=j.useState(function(){return[]});var r=a[1];a=a[0];var t=j.useState(function(){return 0}),v=t[1],x=t[0];t=j.useCallback(function(a){return b("bs_curry")._1(n,function(a){return!1})},[]);var z=b("useReStore")(),B=b("useDebounced")(j.useCallback(function(a){b("requestAnimationFrame")(function(c){b("bs_curry")._1(n,function(a){return!0});return b("bs_curry")._1(v,function(c){b("bs_curry")._1(r,function(b){return b.slice(0,c).concat([a])});return c+1|0})})},[n,v,r]),350,!0),C=j.useCallback(function(a){b("requestAnimationFrame")(function(a){if(x<1){b("recoverableViolation")("Attempting to close a page that does not exist anymore.","messenger_comet");return}else{b("bs_curry")._1(n,function(a){return!0});return b("bs_curry")._1(v,function(a){return a-1|0})}})},[a,x,n,v]),D=j.useCallback(function(a){return b("bs_curry")._1(B,s)},[B]),E=j.useCallback(function(a){return b("bs_curry")._1(B,u)},[B]),F=j.useCallback(function(a){if(b("bs_caml").i64_eq(a,b("LsSystemFolder.bs").jobs))return b("bs_curry")._1(B,q);else if(b("bs_caml").i64_eq(a,b("LsSystemFolder.bs").mplace))return b("bs_curry")._1(B,p);else{b("recoverableViolation")("Attempted to show an unimplemented nested system folder","messenger_web_product");return}},[B]),G=j.useCallback(function(a){f();return b("bs_curry")._1(B,w)},[f,B]),H=j.useCallback(function(a){return b("bs_curry")._1(B,y)},[B]),I=j.useCallback(function(a){b("promiseDone")(b("LSTransaction.bs").run(z,function(c){var d=b("LS.bs").make(c);return b("LSClearTables")(d).then(function(c){return b("LSIssueMessageSearchQuery")(a,b("LSMessageSearchType.bs").thread,void 0,void 0,d)})},"readWrite").then(function(c){if(b("cr:1047")==null)return b("Promise").resolve(void 0);else return b("bs_curry")._3(b("cr:1047").searchSecureDatabaseThreads,a,e,z)}),function(d){b("bs_curry")._1(B,function(b){return A({hidePage:b.hidePage,query:a,setIsConversationSearchVisible:c})});return b("bs_curry")._1(c,function(a){return!0})},function(a){b("recoverableViolation")("Error performing search","messenger_web_product",{error:a.Error})})},[z,h,B,c,e]);j.useEffect(function(){return function(a){b("promiseDone")(b("LSTransaction.bs").run(z,function(a){return b("LSClearMessageSearchTable")(b("LSMessageSearchType.bs").thread,b("LS.bs").make(a))},"readWrite"),void 0,void 0)}},[z]);var J=j.useContext(b("MWThreadListNewMessageState.bs").context),K=J.isActive?j.jsx(b("MWThreadListNewMessage.bs").make,{entries:J.entries}):null;J=j.useMemo(function(){return j.jsx(b("MWInboxLeftRailHeader.bs").make,{xstyle:b("bs_caml_option").some(l.header),showMessageRequests:D,showHidden:G,showActiveContacts:H,showRestrictedAccounts:E})},[D,G,H,E]);var L=j.useMemo(function(){return j.jsxs(j.Fragment,{children:[j.jsx(b("MWInboxLeftRailSearch.bs").make,{searchMessagesClicked:I,testid:"mw-search-bar"}),j.jsx(b("CometPlaceholder.react"),{children:j.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return null},children:j.jsx(b("MAWUnsupportedBrowsersNuxWrapper.react"),{children:j.jsx(b("MWQuickPromotionThreadlistBannerContainer.react"),{})})}),fallback:null})]})},[I]),M=j.useCallback(function(a){},[]),N=j.useMemo(function(){var a=d.actionNowTrayQueryRef,c={parentThreadKey:b("LsSystemFolder.bs").inbox,searchTypeahead:void 0,onOpenMessageRequests:void 0,threadListMessagingEntrypoint:b("MessengerWebEntryPoint").INBOX,onClose:M,responsive:!0,preamble:K,lsEntryPoint:"inboxThreadList",onClickNestedFolderThread:F,gridLabel:g._(/*FBT_CALL*/"\u804a\u5929"/*FBT_CALL*/)};h!==void 0&&(c.selectedThreadKey=h);return j.jsxs(b("CometPagelet.react").Placeholder,{fallback:null,name:"MWThreadList",children:[a!==void 0?j.jsx(b("MWInboxActiveNowTrayContainerGK.bs").make,{actionNowTrayQueryRef:b("bs_caml_option").valFromOption(a)}):null,j.jsx(b("MWThreadList.bs").make,c)]})},[K,h,F]);J=j.jsxs(j.Fragment,{children:[j.jsx("div",{style:{transform:"translateX("+(String(Math.imul(k?1:-1,x))+"00%) translateZ(1px)")},className:(i||(i=b("stylex")))(l.page,!o&&x!==0?l.pageHidden:!1,x===0?l.pageVisible:!1),children:j.jsx(b("MWLeftRailComponent.react"),{footer:b("gkx")("1817606")?j.createElement(b("MessengerThreadlistFooterDesktopAppLink.bs").make,{}):b("gkx")("1732")?j.createElement(b("MessengerThreadlistFooterOpenInAppLink.bs").make,{}):null,header:J,primaryNav:N,search:L})}),a.map(function(a,c){return j.jsx("div",{style:{transform:"translateX("+(String(Math.imul(k?1:-1,(x-c|0)-1|0))+"00%) translateZ(1px)")},className:(i||(i=b("stylex")))(l.page,!o&&x!==(c+1|0)?l.pageHidden:!1,x===(c+1|0)?l.pageVisible:!1),children:j.createElement(a,{hidePage:C,pushPage:B})},String(c))})]});return j.jsx(b("CometTransientDialogProvider.react"),{children:j.jsx("div",{className:i(l.root,o?l.rootWithAnimations:!1),onTransitionEnd:t,children:b("cr:4097")==null?J:j.jsx(m.make,{children:J,activeIndex:x})})})}var C=b("cr:1047"),D=b("cr:2615");a=a;f.styles=l;f.$MWThreadListKeyCommandContext$OR$null$requireCond=b("cr:4097");f.$MWInboxSecureContentSearch$requireCond=b("cr:1047");f.mWInboxSecureContentSearch=C;f.$MessageRequestsBulkActionsButtons$requireCond=b("cr:2615");f.messageRequestsBulkActionsButtons=D;f.ThreadListPage=c;f.Spam=d;f.Marketplace=e;f.Jobs=r;f.$MAWRequestAndSpamThreadListPage$requireCond=b("cr:1143");f.$MAWRequestAndSpamThreadListPage$requireCond$1=b("cr:369");f.MessageRequests=t;f.RestrictedAccounts=v;f.Hidden=x;f.ActiveContacts=z;f.ThreadSearchResults=B;f.make=a}),null);
__d("MWInboxLeftRailHeaderAuxiliary.bs",["fbt","MWInboxLeftRailHeaderIcons.bs","MWInboxRouteBuilder.bs","MWInboxSettingsMenuButton.bs","MWPSearchSystem.bs","MeetupExperiments","MessengerLSCreateVideoCallLink.react","TetraCircleButton.react","bs_caml_option","bs_curry","react","stylex","useCometPreloader","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={button:{marginStart:"ozuftl9m"}},l=b("bs_curry")._1(b("MWInboxRouteBuilder.bs").buildNewThreadURL,{}),m=b("MessengerLSCreateVideoCallLink.react");c={make:m};function n(a){}function a(a){var c=a.showMessageRequests,d=a.showHidden,e=a.showActiveContacts;a=a.showRestrictedAccounts;var f=b("useReStore")(),h=j.useCallback(function(a){return b("MWPSearchSystem.bs").makeAll(f)},[f]),o=b("useCometPreloader")("button_aggressive",n,h);return j.jsxs(j.Fragment,{children:[j.jsx("div",{className:(i||(i=b("stylex")))(k.button),children:j.jsx(b("MWInboxSettingsMenuButton.bs").make,{children:function(a,c){return j.jsx(b("TetraCircleButton.react"),{color:"primary",icon:b("MWInboxLeftRailHeaderIcons.bs").Settings.icon,label:g._(/*FBT_CALL*/"\u8bbe\u7f6e\u3001\u5e2e\u52a9\u548c\u66f4\u591a"/*FBT_CALL*/),onPress:function(a){return b("bs_curry")._1(c,void 0)},ref:a,size:36,testid:"skytale-settings-button"})},showMessageRequests:c,showHidden:d,showActiveContacts:e,showRestrictedAccounts:a})}),b("MeetupExperiments").supportLinkCreation()?j.jsx("div",{className:(i||(i=b("stylex")))(k.button),children:j.jsx(m,{children:function(a){var c=a.ref,d={color:"primary",icon:a.icon,label:a.label,onPress:function(c){return b("bs_curry")._1(a.onPress,void 0)},size:36};c=c!==void 0?b("bs_caml_option").some(c):void 0;c!==void 0&&(d.ref=b("bs_caml_option").valFromOption(c));a.testid!==void 0&&(d.testid=a.testid);return j.jsx(b("TetraCircleButton.react"),d)}})}):null,j.jsx("div",{className:i(k.button),children:j.jsx(b("TetraCircleButton.react"),{color:"primary",icon:b("MWInboxLeftRailHeaderIcons.bs").Compose.icon,label:g._(/*FBT_CALL*/"\u65b0\u6d88\u606f"/*FBT_CALL*/),onFocusIn:function(a){return b("bs_curry")._1(h,void 0)},onHoverIn:o[0],onHoverOut:o[1],size:36,testid:"skytale-new-thread-button",linkProps:{url:l}})})]})}d=a;f.styles=k;f.newThreadUrl=l;f.MessengerLSCreateVideoCallLink=c;f.emptyFunc=n;f.make=d}),null);
__d("MWSetupPresenceReportingDeferred.react",["CometPlaceholder.react","deferredLoadComponent","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("deferredLoadComponent")(c("requireDeferred")("MWSetupPresenceReporting.react").__setRef("MWSetupPresenceReportingDeferred.react"));function a(){return h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(i,{})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWSetupPresenceReportingDeferred.bs",["MWSetupPresenceReportingDeferred.react"],(function(a,b,c,d,e,f){"use strict";a=b("MWSetupPresenceReportingDeferred.react");f.make=a}),null);
__d("MWUseGlobalMuteUntil.bs",["ReQL.bs","ReQLSubscription.bs","bs_belt_Option","bs_caml_int64","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useReStore")();return b("bs_belt_Option").mapWithDefault(b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").fromTableAscending(c.table("notification_settings"))},[c])),b("bs_caml_int64").zero,function(a){return a.globalMuteUntil})}f.useGlobalMuteUntil=a}),null);
__d("MWInboxRoot.bs",["fbt","BaseHeadingContext","BaseRow.react","BaseRowItem.react","CometLeftRailLayoutContext","CometLeftRailPrimaryContext","CometPlaceholder.react","CometRouterFocusRegion.react","CurrentEnvironment","FBID.bs","LS.bs","LSClearMessageSearchTable","LSMessageSearchType.bs","LSTransaction.bs","MWInboxLeftRail.bs","MWInboxMaster.bs","MWInboxMasterView.bs","MWLSActor.bs","MWSetupPresenceReportingDeferred.bs","MWThreadListNewMessageState.bs","MWUseGlobalMuteUntil.bs","MWVisibleMessageContext.bs","ReQL.bs","ReQLSubscription.bs","bs_belt_Option","bs_caml_int64","bs_caml_obj","bs_caml_option","bs_curry","bs_int64","cr:557","gkx","promiseDone","react","stylex","usePrevious","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react");c={};d={Provider:c};e={};c={Provider:e};var k={container:{display:"j83agx80",flexGrow:"buofh1pr",minHeight:"dp1hu0rb",position:"l9j0dhe7",zIndex:"du4w35lb"},contentArea:{display:"j83agx80",flexDirection:"cbu4d94t",flexGrow:"buofh1pr",minHeight:"dp1hu0rb",minWidth:"hpfvmrgz",position:"l9j0dhe7",zIndex:"du4w35lb"},leftRail:{flexShrink:"pfnyh3mw",minHeight:"dp1hu0rb",overflowAnchor:"rek2kq2y",width:"o36gj0jk",zIndex:"tkr6xdv7","@media (max-width: 900px)":{width:"g0mhvs5p"}},leftRailForMessengerDotCom:{"@media (max-width: 900px)":{width:"ezfq3ill"}},mainContent:{display:"j83agx80",minHeight:"dp1hu0rb"}};function a(a){a=a.queries;var c=j.useState(function(){return!1}),d=c[1],e=j.useState(function(){}),f=e[1],h=e[0];e=j.useMemo(function(){return{setVisibleMessage:f,visibleMessage:h}},[h,f]);var l=b("MWInboxMasterView.bs").useHook(void 0),m=b("usePrevious")(l),n=m==null?void 0:b("bs_caml_option").some(m),o=b("useReStore")(),p=b("bs_belt_Option").isSome(b("ReQLSubscription.bs").useFirst(j.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(o.table("message_search_queries")),{hd:b("LSMessageSearchType.bs").thread,tl:0})},[o])));j.useEffect(function(){!p&&b("bs_caml_obj").caml_notequal(l,n)&&(b("bs_curry")._1(d,function(a){return!1}),b("promiseDone")(b("LSTransaction.bs").run(o,function(a){return b("LSClearMessageSearchTable")(b("LSMessageSearchType.bs").message,b("LS.bs").make(a))},"readWrite"),void 0,void 0))},[l,p,o,d,n]);var q=b("MWLSActor.bs").useActor(void 0),r=b("MWUseGlobalMuteUntil.bs").useGlobalMuteUntil(void 0);j.useEffect(function(){!(b("cr:557")==null)&&b("CurrentEnvironment").messengerdotcom&&b("bs_curry")._2(b("cr:557").updateMute,b("FBID.bs").ofStringExn(b("bs_int64").to_string(q)),b("bs_caml_int64").to_float(r))},[q,JSON.stringify(r)]);if(typeof l==="number")m="";else{var s=l._0;m=s===0?g._(/*FBT_CALL*/"\u65b0\u6d88\u606f"/*FBT_CALL*/):""}s=j.useContext(b("BaseHeadingContext"));e=j.jsx("div",{className:(i||(i=b("stylex")))(k.contentArea),children:j.jsx(b("CometRouterFocusRegion.react"),{children:j.jsx(b("CometLeftRailLayoutContext").Provider,{value:!0,children:j.jsx(b("MWVisibleMessageContext.bs").Provider.make,{value:e,children:j.createElement(b("BaseHeadingContext").Provider,{value:s+1|0,children:j.jsx(j.Fragment,{children:j.jsx(b("MWInboxMaster.bs").make,{isConversationSearchVisible:c[0],setIsConversationSearchVisible:d})})})})})})});s=j.jsx(b("MWThreadListNewMessageState.bs").Provider.make,{children:j.jsx(j.Fragment,{children:j.jsx(b("BaseRow.react"),{align:"start",children:j.jsxs(b("CometLeftRailPrimaryContext").Provider,{value:!1,children:[j.jsx(b("BaseRowItem.react"),{"aria-label":"",children:j.jsx(b("CometPlaceholder.react"),{children:j.jsx(b("MWInboxLeftRail.bs").make,{setIsConversationSearchVisible:d,queries:a}),fallback:null}),role:"navigation",xstyle:[k.leftRail,b("CurrentEnvironment").messengerdotcom&&b("gkx")("571")?k.leftRailForMessengerDotCom:!1]}),j.jsx(b("BaseRowItem.react"),{"aria-label":m,expanding:!0,children:e,role:"main",xstyle:[k.mainContent]})]}),xstyle:[k.container]})})});return j.jsxs(j.Fragment,{children:[j.jsx(b("MWSetupPresenceReportingDeferred.bs").make,{}),s]})}e=a;f.CometLeftRailPrimaryContext=d;f.CometLeftRailLayoutContext=c;f.styles=k;f.$MessengerNotificationsWriter$requireCond=b("cr:557");f.make=e}),null);
__d("MWInboxRoot.re",["MWInboxRoot.bs"],(function(a,b,c,d,e,f){a=b("MWInboxRoot.bs").make;f.make=a}),null);
__d("MWLSInbox.react",["CometErrorBoundary.react","CometPlaceholder.react","LSPlatformClientProviderWithDeferredLoadingStrategy.re","LSPlatformConfig.re","LSPlatformMessengerConfig.re","MWCommonSetup.re","MWInbox.re","MWInboxRoot.re","cr:2009197","qex","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");c("qex")._("1506");d("MWCommonSetup.re").make();function a(a){var e,f=a.props.routeProps;a=a.queries;return h.jsxs(h.Fragment,{children:[h.jsx(c("CometErrorBoundary.react"),{children:h.jsx(d("LSPlatformConfig.re").Provider_make,{config:d("LSPlatformMessengerConfig.re").configEagerlyLoaded,children:h.jsx(d("LSPlatformClientProviderWithDeferredLoadingStrategy.re").make,{children:h.jsx(d("MWInbox.re").make,{queries:a,refParam:(e=f.ref_param)!=null?e:void 0,threadKey:(e=f.thread_key)!=null?e:void 0,children:h.jsx(d("MWInboxRoot.re").make,{queries:a})})})})}),h.jsx(c("CometErrorBoundary.react"),{children:h.jsx(c("CometPlaceholder.react"),{fallback:null,children:b("cr:2009197")?h.jsx(b("cr:2009197").make,{}):null})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMDSInboxLeftRailHeaderCommon.bs",["cr:1197"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1197").make;f.$MWMDSV2InboxLeftRailHeader$OR$MWMDSV1InboxLeftRailHeader$requireCond=b("cr:1197");f.make=a}),null);
__d("MWMDSInboxLeftRailHeader.bs",["MWMDSInboxLeftRailHeaderCommon.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.xstyle,d=a.showMessageRequests,e=a.showHidden,f=a.showActiveContacts;a=a.showRestrictedAccounts;return h.jsx(b("MWMDSInboxLeftRailHeaderCommon.bs").make,{xstyle:c,showMessageRequests:d,showHidden:e,showActiveContacts:f,showRestrictedAccounts:a})}c=a;f.make=c}),null);
__d("MWMDSV1InboxLeftRailHeader.bs",["fbt","Actor.re","BaseHeading.react","BaseRow.react","BaseRowItem.react","LSMediaUrl.bs","MDSNoProfilePictureSvg.bs","MDSTextPairing.react","MWInboxLeftRailHeaderAuxiliary.bs","ReQL.bs","ReQLSubscription.bs","TetraProfilePhoto.react","bs_caml_format","bs_caml_option","react","stylex","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={auxiliary:{alignItems:"aovydwv3",display:"j83agx80",flexBasis:"dz1kfvuc",flexGrow:"kb5gq1qc",flexShrink:"pfnyh3mw",justifyContent:"taijpn5t",maxHeight:"b0upgy8r"},auxiliaryInner:{display:"j83agx80",flexShrink:"pfnyh3mw"},headingRows:{marginTop:"jei6r52m",marginEnd:"wkznzc2l",marginBottom:"n851cfcs",marginStart:"dhix69tm"},titleBlock:{flexBasis:"kud993qy",flexGrow:"buofh1pr"},titleBlockInner:{alignItems:"bp9cbjyn",display:"j83agx80"},titleBlockSpacer:{width:"fwizqjfa"},pressable:{borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv"}};function a(a){return[k.pressable]}function c(a){var c=a.xstyle,d=a.showMessageRequests,e=a.showHidden,f=a.showActiveContacts;a=a.showRestrictedAccounts;var h=b("Actor.re").useActor(),l=h[0],m=b("useReStore")();h=b("ReQLSubscription.bs").useFirst(j.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(m.table("contacts")),{hd:b("bs_caml_format").caml_int64_of_string(l),tl:0})},[m,l]));var n=h!==void 0?b("LSMediaUrl.bs").Contact.profilePictureUrl(h):"";h=h!==void 0?h.name:"";c=c!==void 0?b("bs_caml_option").valFromOption(c):!1;return j.jsx(b("BaseRow.react"),{testid:"mw_skytale_left_rail_header",verticalAlign:"center",children:j.jsx(b("BaseRowItem.react"),{expanding:!0,children:j.jsxs(b("BaseRow.react"),{verticalAlign:"center",children:[j.jsx(b("BaseRowItem.react"),{expanding:!0,children:j.jsxs("div",{className:(i||(i=b("stylex")))(k.titleBlockInner),children:[n===""?j.jsx(b("MDSNoProfilePictureSvg.bs").make,{}):j.jsx(b("TetraProfilePhoto.react"),{alt:h,size:36,source:{uri:n}}),j.jsx("div",{className:i(k.titleBlockSpacer)}),j.jsx(b("MDSTextPairing.react"),{headline:j.jsx(b("BaseHeading.react"),{children:g._(/*FBT_CALL*/"\u804a\u5929"/*FBT_CALL*/),isPrimaryHeading:!0}),level:1})]}),xstyle:[k.titleBlock]}),j.jsx(b("BaseRowItem.react"),{children:j.jsx("div",{className:i(k.auxiliaryInner),children:j.jsx(b("MWInboxLeftRailHeaderAuxiliary.bs").make,{showMessageRequests:d,showHidden:e,showActiveContacts:f,showRestrictedAccounts:a})}),xstyle:[k.auxiliary]})]})}),xstyle:[k.headingRows,c]})}d=c;f.styles=k;f.getPressableXstyle=a;f.make=d}),null);
__d("MessengerNotificationsWriter",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";var h="mw_notifications_db",i="users_mute";function a(a,b){var d,e=self.indexedDB.open(h);e.onupgradeneeded=function(){var b=e.result,c=b.createObjectStore(i,{keyPath:"userId"});c.transaction.oncomplete=function(c){c=b.transaction(i,"readwrite").objectStore(i);c=c.add({isMuted:0,userId:a});c.onsuccess=function(){}}};e.onsuccess=function(){d=e.result;var f=d.transaction([i],"readwrite").objectStore(i),g=f.get(a);g.onerror=function(a){c("FBLogger")("messenger_writer").catching(a).mustfix("Failed to get value in db")};g.onsuccess=function(a){a=a.target.result;a.isMuted=b;a=f.put(a);a.onerror=function(a){c("FBLogger")("messenger_writer").catching(a).mustfix("Failed to write new mute value to db")};a.onsuccess=function(a){}}};e.onerror=function(a){c("FBLogger")("messenger_writer").catching(a).mustfix("Failed to create db")}}g.updateMute=a}),98);
__d("MessengerNotificationsWriter.bs",["MessengerNotificationsWriter"],(function(a,b,c,d,e,f){"use strict";function a(a,c){b("MessengerNotificationsWriter").updateMute(a,c)}f.updateMute=a}),null);