if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }

__d("MessengerDotComStyleXTheme",[],(function(a,b,c,d,e,f){e.exports={"fds-black":"#000000","fds-black-alpha-05":"rgba(0, 0, 0, 0.05)","fds-black-alpha-10":"rgba(0, 0, 0, 0.1)","fds-black-alpha-15":"rgba(0, 0, 0, 0.15)","fds-black-alpha-20":"rgba(0, 0, 0, 0.2)","fds-black-alpha-30":"rgba(0, 0, 0, 0.3)","fds-black-alpha-40":"rgba(0, 0, 0, 0.4)","fds-black-alpha-50":"rgba(0, 0, 0, 0.5)","fds-black-alpha-60":"rgba(0, 0, 0, 0.6)","fds-black-alpha-80":"rgba(0, 0, 0, 0.8)","fds-blue-05":"#ECF3FF","fds-blue-30":"#AAC9FF","fds-blue-40":"#77A7FF","fds-blue-60":"#1877F2","fds-blue-70":"#2851A3","fds-blue-80":"#1D3C78","fds-button-text":"#444950","fds-comment-background":"#F2F3F5","fds-dark-mode-gray-35":"#CCCCCC","fds-dark-mode-gray-50":"#828282","fds-dark-mode-gray-70":"#4A4A4A","fds-dark-mode-gray-80":"#373737","fds-dark-mode-gray-90":"#282828","fds-dark-mode-gray-100":"#1C1C1C","fds-gray-00":"#F5F6F7","fds-gray-05":"#F2F3F5","fds-gray-10":"#EBEDF0","fds-gray-20":"#DADDE1","fds-gray-25":"#CCD0D5","fds-gray-30":"#BEC3C9","fds-gray-45":"#8D949E","fds-gray-70":"#606770","fds-gray-80":"#444950","fds-gray-90":"#303338","fds-gray-100":"#1C1E21","fds-green-55":"#00A400","fds-highlight":"#3578E5","fds-highlight-cell-background":"#ECF3FF","fds-primary-icon":"#1C1E21","fds-primary-text":"#1C1E21","fds-red-55":"#FA383E","fds-soft":"cubic-bezier(.08,.52,.52,1)","fds-spectrum-aluminum-tint-70":"#E4F0F6","fds-spectrum-blue-gray-tint-70":"#CFD1D5","fds-spectrum-cherry":"#F35369","fds-spectrum-cherry-tint-70":"#FBCCD2","fds-spectrum-grape-tint-70":"#DDD5F0","fds-spectrum-grape-tint-90":"#F4F1FA","fds-spectrum-lemon-dark-1":"#F5C33B","fds-spectrum-lemon-tint-70":"#FEF2D1","fds-spectrum-lime":"#A3CE71","fds-spectrum-lime-tint-70":"#E4F0D5","fds-spectrum-orange-tint-70":"#FCDEC5","fds-spectrum-orange-tint-90":"#FEF4EC","fds-spectrum-seafoam-tint-70":"#CAEEF9","fds-spectrum-slate-dark-2":"#89A1AC","fds-spectrum-slate-tint-70":"#EAEFF2","fds-spectrum-teal":"#6BCEBB","fds-spectrum-teal-dark-1":"#4DBBA6","fds-spectrum-teal-dark-2":"#31A38D","fds-spectrum-teal-tint-70":"#D2F0EA","fds-spectrum-teal-tint-90":"#F0FAF8","fds-spectrum-tomato":"#FB724B","fds-spectrum-tomato-tint-30":"#F38E7B","fds-spectrum-tomato-tint-90":"#FDEFED","fds-strong":"cubic-bezier(.12,.8,.32,1)","fds-white":"#FFFFFF","fds-white-alpha-05":"rgba(255, 255, 255, 0.05)","fds-white-alpha-10":"rgba(255, 255, 255, 0.1)","fds-white-alpha-20":"rgba(255, 255, 255, 0.2)","fds-white-alpha-30":"rgba(255, 255, 255, 0.3)","fds-white-alpha-40":"rgba(255, 255, 255, 0.4)","fds-white-alpha-50":"rgba(255, 255, 255, 0.5)","fds-white-alpha-60":"rgba(255, 255, 255, 0.6)","fds-white-alpha-80":"rgba(255, 255, 255, 0.8)","fds-yellow-20":"#FFBA00",accent:"#0099FF","always-white":"#FFFFFF","always-black":"black","always-dark-gradient":"linear-gradient(rgba(0,0,0,0), rgba(0,0,0,0.6))","always-dark-overlay":"rgba(0, 0, 0, 0.4)","always-light-overlay":"rgba(255, 255, 255, 0.4)","always-gray-40":"#65676B","always-gray-75":"#BCC0C4","always-gray-95":"#F0F2F5","attachment-footer-background":"#F0F2F5","background-deemphasized":"#F0F2F5","base-blue":"#1877F2","base-cherry":"#F3425F","base-grape":"#9360F7","base-lemon":"#F7B928","base-lime":"#45BD62","base-pink":"#FF66BF","base-seafoam":"#54C7EC","base-teal":"#2ABBA7","base-tomato":"#FB724B","blue-link":"#216FDB","card-background":"#FFFFFF","card-background-flat":"#F7F8FA","comment-background":"rgba(134, 142, 153, 0.1)","comment-footer-background":"#F6F9FA","dataviz-primary-1":"rgb(48,200,180)","disabled-button-background":"#E4E6EB","disabled-button-text":"#BCC0C4","disabled-icon":"#BCC0C4","disabled-text":"#BCC0C4",divider:"#CED0D4","event-date":"#F3425F","fb-wordmark":"#FFFFFF","filter-accent":"invert(50%) sepia(94%) saturate(3979%) hue-rotate(183deg) brightness(104%) contrast(103%)","filter-always-white":"invert(100%)","filter-disabled-icon":"invert(80%) sepia(6%) saturate(200%) saturate(120%) hue-rotate(173deg) brightness(98%) contrast(89%)","filter-placeholder-icon":"invert(59%) sepia(11%) saturate(200%) saturate(135%) hue-rotate(176deg) brightness(96%) contrast(94%)","filter-primary-icon":"invert(8%) sepia(10%) saturate(200%) saturate(200%) saturate(166%) hue-rotate(177deg) brightness(104%) contrast(91%)","filter-secondary-icon":"invert(39%) sepia(21%) saturate(200%) saturate(109.5%) hue-rotate(174deg) brightness(94%) contrast(86%)","filter-warning-icon":"invert(77%) sepia(29%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(128%) hue-rotate(359deg) brightness(102%) contrast(107%)","filter-blue-link-icon":"invert(30%) sepia(98%) saturate(200%) saturate(200%) saturate(200%) saturate(166.5%) hue-rotate(192deg) brightness(91%) contrast(101%)","filter-positive":"invert(37%) sepia(61%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(115%) hue-rotate(91deg) brightness(97%) contrast(105%)","filter-negative":"invert(25%) sepia(33%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(110%) hue-rotate(345deg) brightness(132%) contrast(96%)","glimmer-spinner-icon":"#65676B","hero-banner-background":"#FFFFFF","hosted-view-selected-state":"rgba(0, 0, 0, 0.04)","highlight-bg":"#E7F3FF","hover-overlay":"rgba(0, 0, 0, 0.05)","media-hover":"rgba(68, 73, 80, 0.15)","media-inner-border":"rgba(0, 0, 0, 0.1)","media-outer-border":"#FFFFFF","media-pressed":"rgba(68, 73, 80, 0.35)","messenger-card-background":"#FFFFFF","messenger-reply-background":"#F0F2F5","overlay-alpha-80":"rgba(244, 244, 244, 0.8)","overlay-on-media":"rgba(0, 0, 0, 0.6)","nav-bar-background":"#FFFFFF","nav-bar-background-gradient":"linear-gradient(to top, #FFFFFF, rgba(255,255,255.9), rgba(255,255,255,.7), rgba(255,255,255,.4), rgba(255,255,255,0))","nav-bar-background-gradient-wash":"linear-gradient(to top, #F0F2F5, rgba(240,242,245.9), rgba(240,242,245,.7), rgba(240,242,245,.4), rgba(240,242,245,0))",negative:"hsl(350, 87%, 55%)","negative-background":"hsl(350, 87%, 55%, 20%)","new-notification-background":"#E7F3FF","non-media-pressed":"rgba(68, 73, 80, 0.15)","non-media-pressed-on-dark":"rgba(255, 255, 255, 0.3)","notification-badge":"#e41e3f","placeholder-icon":"#8A8D91","placeholder-text":"#8A8D91","placeholder-text-on-media":"rgba(255, 255, 255, 0.5)","popover-background":"#FFFFFF",positive:"#5AD539","positive-background":"#DEEFE1","press-overlay":"rgba(0, 0, 0, 0.10)","primary-button-background":"#0099FF","primary-button-pressed":"#77A7FF","primary-button-text":"#FFFFFF","primary-deemphasized-button-background":"#E7F3FF","primary-deemphasized-button-pressed":"rgba(0, 0, 0, 0.05)","primary-deemphasized-button-pressed-overlay":"rgba(25, 110, 255, 0.15)","primary-deemphasized-button-text":"#1877F2","primary-icon":"#050505","primary-text":"#050505","primary-text-on-media":"#FFFFFF","primary-web-focus-indicator":"#D24294","progress-ring-neutral-background":"rgba(0, 0, 0, 0.2)","progress-ring-neutral-foreground":"#000000","progress-ring-on-media-background":"rgba(255, 255, 255, 0.2)","progress-ring-on-media-foreground":"#FFFFFF","progress-ring-blue-background":"rgba(24, 119, 242, 0.2)","progress-ring-blue-foreground":"hsl(214, 89%, 52%)","progress-ring-disabled-background":"rgba(190,195,201, 0.2)","progress-ring-disabled-foreground":"#BEC3C9","rating-star-active":"#EB660D","scroll-thumb":"#BCC0C4","scroll-shadow":"0 1px 2px rgba(0, 0, 0, 0.1), 0 -1px rgba(0, 0, 0, 0.1) inset","secondary-button-background":"#f5f5f5","secondary-button-background-floating":"#ffffff","secondary-button-background-on-dark":"rgba(0, 0, 0, 0.4)","secondary-button-pressed":"rgba(0, 0, 0, 0.05)","secondary-button-stroke":"transparent","secondary-button-text":"#050505","secondary-icon":"#65676B","secondary-text":"#65676B","secondary-text-on-media":"rgba(255, 255, 255, 0.9)","section-header-text":"#4B4C4F","shadow-1":"rgba(0, 0, 0, 0.1)","shadow-2":"rgba(0, 0, 0, 0.2)","shadow-5":"rgba(0, 0, 0, 0.5)","shadow-8":"rgba(0, 0, 0, 0.8)","shadow-inset":"rgba(255, 255, 255, 0.5)","surface-background":"#FFFFFF","text-highlight":"rgba(24, 119, 242, 0.2)","toggle-active-background":"#E7F3FF","toggle-active-icon":"rgb(24, 119, 242)","toggle-active-text":"rgb(24, 119, 242)","toggle-button-active-background":"#E7F3FF",wash:"#E4E6EB","web-wash":"#F0F2F5",warning:"hsl(40, 89%, 52%)","fb-logo-color":"#2D88FF","dialog-anchor-vertical-padding":"0px","header-height":"0px","global-panel-width":"68px","button-corner-radius":"6px","card-corner-radius":"8px","fds-animation-enter-exit-in":"cubic-bezier(0.14, 1, 0.34, 1)","fds-animation-enter-exit-out":"cubic-bezier(0.45, 0.1, 0.2, 1)","fds-animation-swap-shuffle-in":"cubic-bezier(0.14, 1, 0.34, 1)","fds-animation-swap-shuffle-out":"cubic-bezier(0.45, 0.1, 0.2, 1)","fds-animation-move-in":"cubic-bezier(0.17, 0.17, 0, 1)","fds-animation-move-out":"cubic-bezier(0.17, 0.17, 0, 1)","fds-animation-expand-collapse-in":"cubic-bezier(0.17, 0.17, 0, 1)","fds-animation-expand-collapse-out":"cubic-bezier(0.17, 0.17, 0, 1)","fds-animation-passive-move-in":"cubic-bezier(0.5, 0, 0.1, 1)","fds-animation-passive-move-out":"cubic-bezier(0.5, 0, 0.1, 1)","fds-animation-quick-move-in":"cubic-bezier(0.1, 0.9, 0.2, 1)","fds-animation-quick-move-out":"cubic-bezier(0.1, 0.9, 0.2, 1)","fds-animation-fade-in":"cubic-bezier(0, 0, 1, 1)","fds-animation-fade-out":"cubic-bezier(0, 0, 1, 1)","fds-duration-extra-extra-short-in":"100ms","fds-duration-extra-extra-short-out":"100ms","fds-duration-extra-short-in":"200ms","fds-duration-extra-short-out":"150ms","fds-duration-short-in":"280ms","fds-duration-short-out":"200ms","fds-duration-medium-in":"400ms","fds-duration-medium-out":"350ms","fds-duration-long-in":"500ms","fds-duration-long-out":"350ms","fds-duration-extra-long-in":"1000ms","fds-duration-extra-long-out":"1000ms","fds-duration-none":"0ms","fds-fast":"200ms","fds-slow":"400ms","font-family-apple":"system-ui, -apple-system, BlinkMacSystemFont, '.SFNSText-Regular', sans-serif","font-family-code":"ui-monospace, Menlo, Consolas, Monaco, monospace","font-family-default":"Helvetica, Arial, sans-serif","font-family-segoe":"Segoe UI Historic, Segoe UI, Helvetica, Arial, sans-serif","dataviz-primary-2":"rgb(134,218,255)","dataviz-primary-3":"rgb(95,170,255)","dataviz-secondary-1":"rgb(118,62,230)","dataviz-secondary-2":"rgb(147,96,247)","dataviz-secondary-3":"rgb(219,26,139)","dataviz-supplementary-1":"rgb(255,122,105)","dataviz-supplementary-2":"rgb(241,168,23)","dataviz-supplementary-3":"rgb(49,162,76)","dataviz-supplementary-4":"rgb(50,52,54)"}}),null);
__d("MessengerFormattingConfig",[],(function(a,b,c,d,e,f){e.exports={boldConfig:{pattern:"([\\s_~'\"(]|^)\\*(\\S(?:.*?\\S)??)\\*(?=[\\s_~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s_~'\"(]|^)\\*(?:\\S(?:.*?\\S)??)\\*(?=[\\s_~,.;:!?'\")]|$)"},italicConfig:{pattern:"([\\s*~'\"(]|^)_(\\S(?:.*?\\S)??)_(?=[\\s*~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*~'\"(]|^)_(?:\\S(?:.*?\\S)??)_(?=[\\s*~,.;:!?'\")]|$)"},strikethroughConfig:{pattern:"([\\s*_'\"(]|^)~(\\S(?:.*?\\S)??)~(?=[\\s*_,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*_'\"(]|^)~(?:\\S(?:.*?\\S)??)~(?=[\\s*_,.;:!?'\")]|$)"},codeConfig:{pattern:"([\\s*_~'\"(]|^)`([^`\\r\\n](?:.*?[^`\\r\\n])??)`(?=[\\s\\w*_~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*_~'\"(]|^)`(?:[^`\\r\\n](?:.*?[^`\\r\\n])??)`(?=[\\s\\w*_~,.;:!?'\")]|$)"},codeBlockConfig:{pattern:"(```)([\\s\\S]+?)```",nonCapturingPattern:"(```)([\\s\\S]+?)```"},codeBlockV2Config:{pattern:"(`{3,})(?:(?:((.*?)(?:\\r\\n?|\\n))([\\s\\S]*?))|(.+?))\\1\\s*?(?:\\r\\n?|\\n|$)",nonCapturingPattern:"(`{3,})([\\s\\S]+?)\\1\\s*((\\r\\n)|\\r|\\n|$)"},blockQuoteConfig:{pattern:"(^>>> ?)((.|(\\r\\n)|\\r|\\n)*?\\S(.|(\\r\\n)|\\r|\\n)*?)^<<<\\s*?((\\r\\n)|\\r|\\n|$)",nonCapturingPattern:"(^>>> ?)((.|(\\r\\n)|\\r|\\n)*?\\S(.|(\\r\\n)|\\r|\\n)*?)^<<<\\s*((\\r\\n)|\\r|\\n|$)"},multipleInlineBlockQuoteConfig:{pattern:"((^> )(.*\\S.*)((\\r\\n)|\\r|\\n)?)(^> ?(.*)((\\r\\n)|\\r|\\n)?)*",nonCapturingPattern:"(^> (.*\\S.*)((\\r\\n)|\\r|\\n)?)(^> ?(.*)((\\r\\n)|\\r|\\n)?)*"},singleInlineBlockQuoteConfig:{pattern:"(^> ?)(.*?$)",nonCapturingPattern:"^> ?(.*?$)"}}}),null);
__d("LSExecuteCTA",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.ftr(c.db.table(119).fetch(),function(b){return c.i64.eq(b.ctaId,a[0])}).next().then(function(a,e){var g=a.done;a=a.value;return g?0:(e=a.item,d[0]=new c.Map(),d[0].set("banner_id",e.bannerId),d[0].set("cta_type",e.ctaType),d[0].set("context_id",e.contextId),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),"in_thread_banner_execute_cta_queue",[0,73],d[1],f,f,[0,0],[0,0],f,f,[0,0]))})},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSFetchBanners",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),"in_thread_banner_fetch_activity_banners_queue",[0,72],d[1],f,f,[0,0],[0,0],f,f,[0,0])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSIssueAttachmentsRangeQuery",["LSGetCursor","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(a){return c.sp(b("LSGetCursor"),[0,1]).then(function(a){return a=a,d[0]=a[0],a})},function(e){return c.db.table(17).fetch([[[a[0],a[1]]]]).next().then(function(e,g){var h=e.done;e=e.value;return h?c.seq([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[2]=[0,1]:(e=b.item,d[7]=e.syncGroup,c.i64.neq(d[7],f)?d[6]=d[7]:d[6]=[0,1],d[2]=d[6])})},function(e){return d[4]=new c.Map(),d[4].set("thread_key",a[0]),d[4].set("media_group",a[1]),d[4].set("max_timestamp_ms",[2328,1316134911]),d[4].set("cursor",d[0]),d[4].set("sync_group",d[2]),d[5]=c.toJSON(d[4]),c.sp(b("LSIssueNewTask"),"arq",[0,105],d[5],f,f,[0,0],[0,0],f,f,[0,0])}]):(g=e.item,g.hasMoreBefore?c.seq([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[2]=[0,1]:(e=b.item,d[7]=e.syncGroup,c.i64.neq(d[7],f)?d[6]=d[7]:d[6]=[0,1],d[2]=d[6])})},function(e){return d[4]=new c.Map(),d[4].set("thread_key",a[0]),d[4].set("media_group",a[1]),d[4].set("max_timestamp_ms",g.minTimestampMs),d[4].set("cursor",d[0]),d[4].set("sync_group",d[2]),d[5]=c.toJSON(d[4]),c.sp(b("LSIssueNewTask"),"arq",[0,105],d[5],f,f,[0,0],[0,0],f,f,[0,0])}]):c.resolve())})}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSIssueSendAttachmentMessageTask",["LSAppendDataTraceAddon","LSArrayGetObjectAt","LSIssueNewTaskAndGetTaskID","LSPredefineTraceForTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(e){return d[0]=c.i64.of_int32(a[5].length),c.i64.gt(d[0],[0,0])?c.loopAsync(d[0],function(e){return d[4]=e,c.seq([function(e){return c.ntop("Array",b("LSArrayGetObjectAt"),a[5],d[4]).then(function(a){return a=a,d[5]=a[0],d[6]=a[1],a})},function(b){return c.fe(c.ftr(c.db.table(16).fetch([[[a[1],a[3]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&b.messageId===a[3]&&c.i64.eq(b.attachmentIndex,d[4])&&c.i64.eq(b.authorityLevel,[0,20])}),function(a){var b=a.update;a.item;return b({attachmentFbid:c.i64.to_string(d[5])})})}])}):c.resolve()},function(e){return c.i64.eq(f,[0,12])?d[1]=[0,10]:(a[9]?d[4]=[0,9]:d[4]=[0,3],d[1]=d[4]),c.i64.gt([0,0],[0,0])?d[2]=c.i64.add(c.i64.of_float(Date.now()),[0,0]):d[2]=[0,0],c.sp(b("LSIssueNewTaskAndGetTaskID"),c.i64.to_string(a[1]),[0,46],"",f,f,[0,0],[0,0],f,f,d[2]).then(function(a){return a=a,d[3]=a[0],a})},function(e){return a[12]!==f?c.seq([function(e){return c.sp(b("LSPredefineTraceForTask"),a[12],d[3],c.i64.to_string([0,46]),a[3])},function(d){return c.sp(b("LSAppendDataTraceAddon"),a[12],[0,20],[0,1],f,f)}]):c.resolve()},function(b){return c.db.table(31).add({taskId:d[3],threadKey:a[1],offlineThreadingId:a[3],threadAttributionSource:a[6],platformRef:a[10],platformToken:a[11],replySourceId:a[7],replySourceType:a[8],sendType:d[1],markThreadRead:!1})}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSLocalApplyOptimisticMessageWithAttachments",["LSArrayGetObjectAt","LSLocalApplyOptimisticMessage","LSSetMessageDisplayedContentTypes"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return c.sp(b("LSLocalApplyOptimisticMessage"),a[0],a[1],a[2],a[3],a[4],a[5],a[6],f,a[7],a[8],a[9],a[10],f,a[12],!0).then(function(a){return a=a,d[0]=a[0],d[1]=a[1],a})},function(e){return d[2]=c.i64.of_int32(a[11].length),c.i64.gt(d[2],[0,0])?c.loopAsync(d[2],function(e){return d[3]=e,c.seq([function(e){return c.ntop("Array",b("LSArrayGetObjectAt"),a[11],d[3]).then(function(a){return a=a,d[4]=a[0],d[5]=a[1],a})},function(b){return d[6]=d[4].get("attachment_fbid"),d[4],d[7]=d[4].get("offline_attachment_id"),d[4],d[8]=d[4].get("attachment_type"),d[4],d[9]=d[4].get("filename"),d[4],d[10]=d[4].get("filesize"),d[4],d[11]=d[4].get("attachment_index"),d[4],d[12]=d[4].get("has_media"),d[4],d[13]=d[4].get("has_xma"),d[4],d[14]=d[4].get("playable_url"),d[4],d[15]=d[4].get("playable_url_mime_type"),d[4],d[16]=d[4].get("playable_duration_ms"),d[4],d[17]=d[4].get("preview_url"),d[4],d[18]=d[4].get("preview_url_mime_type"),d[4],d[19]=d[4].get("mini_preview"),d[4],d[20]=d[4].get("preview_width"),d[4],d[21]=d[4].get("preview_height"),d[4],d[22]=d[4].get("xma_layout_type"),d[4],d[23]=d[4].get("xmas_template_type"),d[4],d[24]=d[4].get("cta1_title"),d[4],d[25]=d[4].get("cta2_title"),d[4],d[26]=d[4].get("cta3_title"),d[4],d[27]=d[4].get("image_url"),d[4],d[28]=d[4].get("action_url"),d[4],d[29]=d[4].get("title_text"),d[4],d[30]=d[4].get("subtitle_text"),d[4],d[31]=d[4].get("description_text"),d[4],d[32]=d[4].get("source_text"),d[4],d[33]=d[4].get("original_file_hash"),d[4],d[34]=d[4].get("sound_bite_client_sound_key"),d[4],d[35]=d[4].get("sound_bite_visual"),d[4],d[36]=d[4].get("ephemeral_media_state"),d[4],c.ftr(c.db.table(16).fetch([[[a[1],d[0],d[6]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq([0,0],[0,0])&&b.messageId===d[0]&&b.attachmentFbid===d[6]&&c.i64.gt(b.authorityLevel,[0,20])}).next().then(function(b){var e=b.done;b.value;return e?c.db.table(16).put({threadKey:a[1],messageId:d[0],attachmentFbid:d[6],timestampMs:d[1],offlineAttachmentId:d[7],attachmentType:d[8],filename:d[9],filesize:d[10],attachmentIndex:d[11],hasMedia:d[12],hasXma:d[13],isSharable:!1,playableUrl:d[14],playableUrlMimeType:d[15],playableDurationMs:d[16],previewUrl:d[17],previewUrlMimeType:d[18],miniPreview:d[19],previewWidth:d[20],previewHeight:d[21],xmaLayoutType:d[22],xmasTemplateType:d[23],cta1Title:d[24],cta2Title:d[25],cta3Title:d[26],imageUrl:d[27],actionUrl:d[28],titleText:d[29],subtitleText:d[30],descriptionText:d[31],sourceText:d[32],ephemeralMediaState:d[36],originalFileHash:d[33],authorityLevel:[0,20]}):0})}])}):c.resolve()},function(e){return d[2]=c.i64.of_int32(a[11].length),c.i64.gt(d[2],[0,0])?c.sp(b("LSSetMessageDisplayedContentTypes"),a[1],d[0],d[1],a[3],!1,c.i64.neq(a[6],f)):c.resolve()},function(a){return a=[d[0],d[1]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSLocalCreateOptimisticGroupThread",["LSIssueNewTask","LSLocalApplyOptimisticGroupThread"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return c.sp(b("LSLocalApplyOptimisticGroupThread"),a[0],a[1],f).then(function(a){return a=a,d[0]=a[0],a})},function(e){return d[1]=new c.Map(),d[1].set("participants",a[0]),d[1].set("client_thread_key",d[0]),d[1].set("sync_group",[0,1]),d[2]=d[1].get("client_thread_key"),d[1],d[3]=c.toJSON(d[1]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[2]),[0,153],d[3],f,f,[0,0],[0,0],f,f,[0,0])},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSMessagePointQuery",["LSIssueNewTask","LSVerifyThreadRowExists"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.ftr(c.db.table(12).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&b.messageId===a[1]}).next().then(function(e,g){var h=e.done;e=e.value;return h?c.seq([function(d){return c.sp(b("LSVerifyThreadRowExists"),a[0],a[2],[0,1])},function(b){return c.db.table(13).add({threadKey:a[0],minTimestampMs:[0,0],minMessageId:a[1],maxTimestampMs:[0,0],maxMessageId:a[1],isLoadingBefore:!0,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1})},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[1]=[0,1]:(e=b.item,d[7]=e.syncGroup,c.i64.neq(d[7],f)?d[6]=d[7]:d[6]=[0,1],d[1]=d[6])})},function(e){return d[3]=new c.Map(),d[3].set("thread_key",a[0]),d[3].set("message_id",a[1]),d[3].set("sync_group",d[1]),d[4]=d[3].get("thread_key"),d[3],d[5]=c.toJSON(d[3]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[4]),[0,19],d[5],f,f,[0,0],[0,0],f,f,[0,0])}]):(g=e.item,d[1]=g.timestampMs,c.ftr(c.db.table(13).fetch([[[a[0],{lte:d[1]}]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.le(b.minTimestampMs,d[1])&&c.i64.ge(b.maxTimestampMs,d[1])}).next().then(function(g){var e=g.done;g.value;return e?c.seq([function(b){return c.db.table(13).add({threadKey:a[0],minTimestampMs:[0,0],minMessageId:a[1],maxTimestampMs:[0,0],maxMessageId:a[1],isLoadingBefore:!0,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1})},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[2]=[0,1]:(e=b.item,d[8]=e.syncGroup,c.i64.neq(d[8],f)?d[7]=d[8]:d[7]=[0,1],d[2]=d[7])})},function(e){return d[4]=new c.Map(),d[4].set("thread_key",a[0]),d[4].set("message_id",a[1]),d[4].set("sync_group",d[2]),d[5]=d[4].get("thread_key"),d[4],d[6]=c.toJSON(d[4]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[5]),[0,19],d[6],f,f,[0,0],[0,0],f,f,[0,0])}]):0}))})},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSOptimisticRespondToAdminApprovalRequest",["LSAddParticipantIdToGroupThread","LSArrayGetObjectAt","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(e){return a[2]?(d[3]=c.i64.of_int32(a[1].length),c.i64.gt(d[3],[0,0])?c.loopAsync(d[3],function(e){return d[4]=e,c.seq([function(e){return c.ntop("Array",b("LSArrayGetObjectAt"),a[1],d[4]).then(function(a){return a=a,d[5]=a[0],d[6]=a[1],a})},function(e){return c.sp(b("LSAddParticipantIdToGroupThread"),a[0],d[5],[0,0],[0,0],[0,0],f,f,"",[0,0],[0,20],f,f)}])}):c.resolve()):c.resolve()},function(e){return d[0]=c.i64.of_int32(a[1].length),c.i64.gt(d[0],[0,0])?c.loopAsync(d[0],function(e){return d[3]=e,c.seq([function(e){return c.ntop("Array",b("LSArrayGetObjectAt"),a[1],d[3]).then(function(a){return a=a,d[4]=a[0],d[5]=a[1],a})},function(b){return c.fe(c.ftr(c.db.table(26).fetch([[[a[0],d[4]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq([0,0],[0,0])&&c.i64.eq(b.contactId,d[4])}),function(a){return a["delete"]()})}])}):c.resolve()},function(e){return d[1]=new c.Map(),d[1].set("thread_key",a[0]),d[1].set("contact_ids",a[1]),d[1].set("accepted",a[2]),d[2]=c.toJSON(d[1]),c.sp(b("LSIssueNewTask"),"respond_to_admin_approval_request",[0,27],d[2],f,f,[0,0],[0,0],f,f,[0,0])}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSSetNeedsAdminApprovalForNewParticipant",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({needsAdminApprovalForNewParticipant:a[1]})})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSOptimisticSetNeedsAdminApprovalForNewParticipant",["LSIssueNewTask","LSSetNeedsAdminApprovalForNewParticipant"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(d){return c.sp(b("LSSetNeedsAdminApprovalForNewParticipant"),a[0],a[1])},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=[0,1]:(b=a.item,d[5]=b.syncGroup,c.i64.neq(d[5],f)?d[4]=d[5]:d[4]=[0,1],d[0]=d[4])})},function(e){return d[2]=new c.Map(),d[2].set("thread_key",a[0]),d[2].set("enabled",a[1]),d[2].set("sync_group",d[0]),d[3]=c.toJSON(d[2]),c.sp(b("LSIssueNewTask"),"set_needs_admin_approval_for_new_participant",[0,28],d[3],f,f,[0,0],[0,0],f,f,[0,0])}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSSendPlatformReferralEvent",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("page_id",a[0]),d[0].set("ref",a[1]),d[0].set("channel_id",a[2]),d[0].set("source",a[3]),d[0].set("metadata",a[4]),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),"platform_send_postback_referral_event",[0,109],d[1],f,f,[0,0],[0,0],f,f,[0,0])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSServerMutationCta",["LSIssueNewError","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(a){return c.sb(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[0]=!1:(b=a.item,d[0]=b.errorShouldBeShown)})},function(a){return d[0]===!0?(d[4]=c.localizeV2([0,2285622730],f),d[5]=c.localizeV2([0,1919524925],f),c.sp(b("LSIssueNewError"),f,[0,1545093],d[4],d[5])):c.resolve()},function(e){return d[2]=new c.Map(),d[2].set("thread_key",a[0]),d[2].set("marketplace_cta_type",a[1]),d[3]=c.toJSON(d[2]),c.sp(b("LSIssueNewTask"),"marketplace_server_mutation_cta",[0,279],d[3],f,f,[0,0],[0,0],f,f,[0,0])}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSGetMessageAttributionParams",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(f){return b.seq([function(d){return b.ftr(b.db.table(31).fetch(),function(b){return b.offlineThreadingId===a[0]}).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[e,e,e],c[0]=d[0],c[1]=d[1],c[2]=d[2],d):(b=a.item,d=[b.threadAttributionSource,b.platformRef,b.platformToken],c[0]=d[0],c[1]=d[1],c[2]=d[2],d)})},function(a){return a=[c[0],c[1],c[2]],d[0]=a[0],d[1]=a[1],d[2]=a[2],a}])},function(a){return b.resolve(d)}])}e.exports=a}),null);
__d("LSInsertNewMediaSend",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(51).add({offlineAttachmentId:a[0],offlineThreadingId:a[1],inMessageIndex:a[2],attachmentType:a[3],shouldTranscode:a[4],useDoublePhase:a[5],sendByServer:a[6],isSecure:a[7],state:a[4]?[0,1]:[0,3]})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSInsertPhase2PendingTask",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(f){return b.seq([function(d){return b.db.table(12).fetch([[[a[0]]],"optimistic"]).next().then(function(a,b){var d=a.done;a=a.value;return d?c[0]=e:(b=a.item,c[0]=b.threadKey)})},function(d){return b.i64.neq(c[0],e)?b.seq([function(d){return b.db.table(2).add({taskId:void 0,taskValue:a[0],queueName:[b.i64.to_string(c[0]),"_multi_media"].join(""),context:"4",enqueueTimestampMs:b.i64.of_float(Date.now()),pluginType:a[1]})},function(a){return c[2]=e}]):b.resolve(c[2]=[0,1002])},function(a){return d[0]=c[2]}])},function(a){return b.resolve(d)}])}e.exports=a}),null);
__d("LSMarkSubJobCompletedV2",["LSArrayGetObjectAt"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return d[0]=c.createArray(),c.db.table(51).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?0:(b=a.item,d[3]=new c.Map(),d[3].set("offline_attachment_id",b.offlineAttachmentId),d[3].set("offline_threading_id",b.offlineThreadingId),d[3].set("in_message_index",b.inMessageIndex),d[3].set("attachment_type",b.attachmentType),d[3].set("should_transcode",b.shouldTranscode),d[3].set("use_double_phase",b.useDoublePhase),d[3].set("send_by_server",b.sendByServer),d[3].set("is_secure",b.isSecure),d[3].set("state",b.state),d[3].set("fbid",b.fbid),d[3].set("metadata",b.metadata),d[3].set("error",b.error),d[3].set("message_id",b.messageId),d[4]=(d[0].push(d[3]),d[0]))})},function(e){return d[2]=c.i64.of_int32(d[0].length),c.i64.neq(d[2],[0,0])?c.seq([function(a){return c.ntop("Array",b("LSArrayGetObjectAt"),d[0],[0,0]).then(function(a){return a=a,d[3]=a[0],d[4]=a[1],a})},function(b){return d[5]=d[3].get("state"),d[3],c.i64.neq(a[1],f)?a[2]!==f?(c.i64.eq(d[5],[-1,4294967293])?(d[7]=[-1,4294967295],d[6]=d[7]):(c.i64.eq(d[5],[0,1])?d[7]=[0,2]:(c.i64.eq(d[5],[0,3])?d[8]=[0,4]:(c.i64.eq(d[5],[0,5])?d[9]=[0,6]:(c.i64.eq(d[5],[0,13])?d[10]=[0,14]:(c.i64.eq(d[5],[0,7])?d[11]=[0,8]:(c.i64.eq(d[5],[0,9])?d[12]=[0,10]:(c.i64.eq(d[5],[0,11])?d[13]=[0,12]:d[13]=d[5],d[12]=d[13]),d[11]=d[12]),d[10]=d[11]),d[9]=d[10]),d[8]=d[9]),d[7]=d[8]),d[6]=d[7]),c.fe(c.db.table(51).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({state:d[6],fbid:a[1],messageId:a[2],metadata:a[3]})})):(c.i64.eq(d[5],[-1,4294967293])?(d[7]=[-1,4294967295],d[6]=d[7]):(c.i64.eq(d[5],[0,1])?d[7]=[0,2]:(c.i64.eq(d[5],[0,3])?d[8]=[0,4]:(c.i64.eq(d[5],[0,5])?d[9]=[0,6]:(c.i64.eq(d[5],[0,13])?d[10]=[0,14]:(c.i64.eq(d[5],[0,7])?d[11]=[0,8]:(c.i64.eq(d[5],[0,9])?d[12]=[0,10]:(c.i64.eq(d[5],[0,11])?d[13]=[0,12]:d[13]=d[5],d[12]=d[13]),d[11]=d[12]),d[10]=d[11]),d[9]=d[10]),d[8]=d[9]),d[7]=d[8]),d[6]=d[7]),c.fe(c.db.table(51).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({state:d[6],fbid:a[1],metadata:a[3]})})):c.i64.neq(a[4],f)?(c.i64.eq(d[5],[-1,4294967293])?(d[7]=[-1,4294967295],d[6]=d[7]):(c.i64.eq(d[5],[0,1])?d[7]=[0,2]:(c.i64.eq(d[5],[0,3])?d[8]=[0,4]:(c.i64.eq(d[5],[0,5])?d[9]=[0,6]:(c.i64.eq(d[5],[0,13])?d[10]=[0,14]:(c.i64.eq(d[5],[0,7])?d[11]=[0,8]:(c.i64.eq(d[5],[0,9])?d[12]=[0,10]:(c.i64.eq(d[5],[0,11])?d[13]=[0,12]:d[13]=d[5],d[12]=d[13]),d[11]=d[12]),d[10]=d[11]),d[9]=d[10]),d[8]=d[9]),d[7]=d[8]),d[6]=d[7]),c.fe(c.db.table(51).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({state:d[6],error:a[4]})})):(c.i64.eq(d[5],[-1,4294967293])?(d[7]=[-1,4294967295],d[6]=d[7]):(c.i64.eq(d[5],[0,1])?d[7]=[0,2]:(c.i64.eq(d[5],[0,3])?d[8]=[0,4]:(c.i64.eq(d[5],[0,5])?d[9]=[0,6]:(c.i64.eq(d[5],[0,13])?d[10]=[0,14]:(c.i64.eq(d[5],[0,7])?d[11]=[0,8]:(c.i64.eq(d[5],[0,9])?d[12]=[0,10]:(c.i64.eq(d[5],[0,11])?d[13]=[0,12]:d[13]=d[5],d[12]=d[13]),d[11]=d[12]),d[10]=d[11]),d[9]=d[10]),d[8]=d[9]),d[7]=d[8]),d[6]=d[7]),c.fe(c.db.table(51).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({state:d[6]})}))}]):c.resolve()}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSResumeMediaSendJob",["LSGetMessageAttributionParams","LSInsertPhase2PendingTask","LSIssueSendAttachmentMessageTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(b){return d[0]=new c.Map(),d[1]=new c.Map(),d[1].set("main_job_succeeded",!1),d[1].set("resume_failed",!1),d[1].set("error",f),d[1].set("running_sub_job_states",d[0]),d[2]=new c.Map(),d[2].set("should_transcode",!1),d[2].set("use_double_phase",!1),d[2].set("send_by_server",!1),d[2].set("is_secure",!1),d[2].set("should_dedupe",!1),c.sb(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),[["state","ASC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?0:(b=a.item,d[2].set("should_transcode",b.shouldTranscode),d[2].set("use_double_phase",b.useDoublePhase),d[2].set("send_by_server",b.sendByServer),d[2].set("is_secure",b.isSecure))})},function(b){return d[4]=new c.Map(),c.fe(c.sb(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),[["inMessageIndex","ASC"]]),function(a){a=a.item;return d[13]=a.offlineAttachmentId,d[11]=a.state,d[12]=a.error,c.i64.eq(d[11],[-1,4294967293])?d[10]=!0:(c.i64.eq(d[11],[0,1])?d[14]=!0:(c.i64.eq(d[11],[0,3])?d[15]=!0:(c.i64.eq(d[11],[0,5])?d[16]=!0:(c.i64.eq(d[11],[0,13])?d[17]=!0:(c.i64.eq(d[11],[0,7])?d[18]=!0:(c.i64.eq(d[11],[0,9])?d[19]=!0:(c.i64.eq(d[11],[0,11])?d[20]=!0:d[20]=!1,d[19]=d[20]),d[18]=d[19]),d[17]=d[18]),d[16]=d[17]),d[15]=d[16]),d[14]=d[15]),d[10]=d[14]),d[10]?c.resolve(c.i64.eq(d[11],[0,5])||c.i64.eq(d[11],[0,11])?0:d[4].set(d[13],d[11])):c.i64.neq(d[12],f)?c.resolve((d[1].set("resume_failed",!0),d[1].set("error",d[12]))):(c.i64.eq(d[11],[-1,4294967295])?d[14]=[0,5]:(c.i64.eq(d[11],[-1,4294967294])?(d[16]=d[2].get("should_transcode"),d[2],d[15]=d[16]?[0,1]:[0,3]):(c.i64.eq(d[11],[0,2])?d[16]=[0,3]:(c.i64.eq(d[11],[0,4])?(d[18]=d[2].get("send_by_server"),d[2],d[19]=d[2].get("use_double_phase"),d[2],d[17]=d[18]?d[19]?[0,13]:f:[0,5]):(c.i64.eq(d[11],[0,6])?(d[19]=d[2].get("use_double_phase"),d[2],d[18]=d[19]?[0,13]:f):(c.i64.eq(d[11],[0,14])?(d[20]=d[2].get("use_double_phase"),d[2],d[21]=d[2].get("should_transcode"),d[2],d[19]=d[20]?d[21]?[0,7]:[0,9]:f):(c.i64.eq(d[11],[0,8])?d[20]=[0,9]:(c.i64.eq(d[11],[0,10])?(d[22]=d[2].get("send_by_server"),d[2],d[21]=d[22]?f:[0,11]):(c.i64.eq(d[11],[0,12])?d[22]=f:d[22]=f,d[21]=d[22]),d[20]=d[21]),d[19]=d[20]),d[18]=d[19]),d[17]=d[18]),d[16]=d[17]),d[15]=d[16]),d[14]=d[15]),c.i64.neq(d[14],f)?c.seq([function(a){return c.fe(c.ftr(c.db.table(51).fetch(),function(a){return a.offlineAttachmentId===d[13]}),function(a){var b=a.update;a.item;return b({state:d[14]})})},function(a){return c.i64.eq(d[14],[0,5])||c.i64.eq(d[14],[0,11])?0:d[4].set(d[13],d[14])}]):c.resolve())})},function(b){return c.sb(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),[["state","ASC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[5]=f:(b=a.item,d[5]=b.state)})},function(e){return c.i64.neq(d[5],f)?(d[10]=d[2].get("send_by_server"),d[2],d[11]=d[2].get("use_double_phase"),d[2],d[12]=d[2].get("use_double_phase"),d[2],(d[10]?d[11]?c.i64.eq(d[5],[0,10]):c.i64.eq(d[5],[0,4]):d[12]?c.i64.eq(d[5],[0,12]):c.i64.eq(d[5],[0,6]))?c.resolve(d[1].set("main_job_succeeded",!0)):c.i64.eq(d[5],[0,5])?c.seq([function(b){return d[13]=f,c.fe(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){a=a.item;return d[15]=a.error,c.i64.eq(d[15],f)?(c.i64.neq(a.fbid,f)?d[16]=f:d[16]=[0,9],d[14]=d[16]):d[14]=d[15],c.i64.neq(d[14],f)?d[13]=d[14]:0})},function(e){return c.i64.neq(d[13],f)?c.resolve((d[1].set("resume_failed",!0),d[1].set("error",d[13]))):c.seq([function(e){return d[14]=d[2].get("is_secure"),d[2],d[14]?c.seq([function(b){return d[16]=c.createArray(),d[17]=!1,d[18]=[0,0],c.fe(c.sb(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),[["inMessageIndex","ASC"]]),function(a){a=a.item;return d[23]=a.fbid,d[18]=c.i64.add(d[18],[0,1]),c.i64.neq(d[23],f)?d[24]=(d[16].push(d[23]),d[16]):0})},function(b){return d[19]=c.createArray(),c.fe(c.sb(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),[["inMessageIndex","ASC"]]),function(a){a=a.item;return d[23]=a.metadata,d[23]!==f?d[24]=(d[19].push(d[23]),d[19]):0})},function(a){return d[20]=c.i64.of_int32(d[16].length),d[21]=c.i64.of_int32(d[19].length),c.i64.neq(d[20],d[18])||c.i64.neq(d[21],d[18])?d[22]=[0,11]:(function(a){c.logger(a).debug(a)}("[TincanLS][LSSecureMailboxSendSecureMediaMessageStoredProcedure] Started"),function(a){c.logger(a).debug(a)}("[TincanLS][LSSecureMailboxSendSecureMediaMessageStoredProcedure] Completed"),d[22]=f),d[15]=d[22]}]):c.seq([function(e){return c.seq([function(b){return d[17]=c.createArray(),d[18]=!1,d[19]=[0,0],c.fe(c.sb(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),[["inMessageIndex","ASC"]]),function(a){a=a.item;return d[22]=a.fbid,d[19]=c.i64.add(d[19],[0,1]),c.i64.neq(d[22],f)?d[23]=(d[17].push(d[22]),d[17]):0})},function(e){return d[20]=c.i64.of_int32(d[17].length),c.i64.neq(d[20],d[19])||c.i64.eq(d[19],[0,0])?c.resolve(d[21]=[0,10002]):c.seq([function(b){return c.db.table(12).fetch([[[a[0]]],"optimistic"]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[f,f,f,f,f],d[22]=c[0],d[23]=c[1],d[24]=c[2],d[25]=c[3],d[26]=c[4],c):(b=a.item,c=[b.threadKey,b.senderId,b.text,b.replySourceId,b.replySourceTypeV2],d[22]=c[0],d[23]=c[1],d[24]=c[2],d[25]=c[3],d[26]=c[4],c)})},function(e){return c.i64.eq(d[22],f)||c.i64.eq(d[23],f)?c.resolve((c.i64.eq(d[22],f)?d[29]=[0,10003]:d[29]=[0,10004],d[28]=d[29])):c.seq([function(a){return c.db.table(9).fetch([[[d[22]]]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[29]=f:(b=a.item,d[29]=b.threadType)})},function(b){return c.ftr(c.db.table(31).fetch(),function(b){return b.offlineThreadingId===a[0]}).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[f,f,f,f],d[31]=c[0],d[32]=c[1],d[33]=c[2],d[34]=c[3],c):(b=a.item,c=[b.platformRef,b.platformToken,b.initiatingSource,f],d[31]=c[0],d[32]=c[1],d[33]=c[2],d[34]=c[3],c)})},function(e){return c.i64.neq(d[29],f)?c.seq([function(e){return c.seq([function(e){return c.sp(b("LSGetMessageAttributionParams"),a[0]).then(function(a){return a=a,d[37]=a[0],d[38]=a[1],d[39]=a[2],a})},function(e){return c.i64.neq(d[37],f)?d[40]=d[37]:d[40]=[0,0],c.sp(b("LSIssueSendAttachmentMessageTask"),d[23],d[22],d[29],a[0],d[24],d[17],d[40],d[25],d[26],d[18],d[31],d[32],a[2])}])},function(a){return d[36]=f}]):c.resolve(d[36]=[0,10005])},function(a){return d[28]=d[36]}])},function(a){return d[21]=d[28]}])},function(a){return d[16]=d[21]}])},function(b){return c.i64.eq(d[16],f)?c.fe(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){var b=a.update;a.item;return b({state:[0,6]})}):c.resolve()},function(a){return d[15]=d[16]}])},function(b){return c.i64.eq(d[15],f)?(d[16]=d[2].get("send_by_server"),d[2],d[17]=d[2].get("use_double_phase"),d[2],d[18]=d[2].get("use_double_phase"),d[2],(d[16]?d[17]?c.i64.eq([0,6],[0,10]):c.i64.eq([0,6],[0,4]):d[18]?c.i64.eq([0,6],[0,12]):c.i64.eq([0,6],[0,6]))?c.resolve(d[1].set("main_job_succeeded",!0)):(c.i64.eq([0,6],[-1,4294967295])?d[19]=[0,5]:(c.i64.eq([0,6],[-1,4294967294])?(d[21]=d[2].get("should_transcode"),d[2],d[20]=d[21]?[0,1]:[0,3]):(c.i64.eq([0,6],[0,2])?d[21]=[0,3]:(c.i64.eq([0,6],[0,4])?(d[23]=d[2].get("send_by_server"),d[2],d[24]=d[2].get("use_double_phase"),d[2],d[22]=d[23]?d[24]?[0,13]:f:[0,5]):(c.i64.eq([0,6],[0,6])?(d[24]=d[2].get("use_double_phase"),d[2],d[23]=d[24]?[0,13]:f):(c.i64.eq([0,6],[0,14])?(d[25]=d[2].get("use_double_phase"),d[2],d[26]=d[2].get("should_transcode"),d[2],d[24]=d[25]?d[26]?[0,7]:[0,9]:f):(c.i64.eq([0,6],[0,8])?d[25]=[0,9]:(c.i64.eq([0,6],[0,10])?(d[27]=d[2].get("send_by_server"),d[2],d[26]=d[27]?f:[0,11]):(c.i64.eq([0,6],[0,12])?d[27]=f:d[27]=f,d[26]=d[27]),d[25]=d[26]),d[24]=d[25]),d[23]=d[24]),d[22]=d[23]),d[21]=d[22]),d[20]=d[21]),d[19]=d[20]),c.i64.neq(d[19],f)?c.seq([function(b){return c.fe(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){var b=a.update;a.item;return b({state:d[19]})})},function(b){return c.fe(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){a=a.item;return d[4].set(a.offlineAttachmentId,a.state)})}]):c.resolve())):c.resolve((d[1].set("resume_failed",!0),d[1].set("error",d[15])))}])}]):c.i64.eq(d[5],[0,11])?c.seq([function(b){return d[13]=f,c.fe(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){a=a.item;return d[14]=a.error,c.i64.neq(d[14],f)?d[13]=d[14]:0})},function(a){return c.i64.neq(d[13],f)?(d[1].set("resume_failed",!0),d[1].set("error",d[13])):d[1].set("main_job_succeeded",!0)}]):c.i64.eq(d[5],[0,13])?c.seq([function(e){return c.sp(b("LSInsertPhase2PendingTask"),a[0],a[1]).then(function(a){return a=a,d[13]=a[0],a})},function(b){return c.i64.neq(d[13],f)?c.resolve((d[1].set("resume_failed",!0),d[1].set("error",d[13]))):c.seq([function(b){return c.fe(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){var b=a.update;a.item;return b({state:[0,14]})})},function(b){return d[1].set("main_job_succeeded",!0),c.fe(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){a=a.item;return d[4].set(a.offlineAttachmentId,a.state)})}])}]):c.resolve(0)):c.resolve((d[1].set("resume_failed",!0),d[1].set("error",[0,11])))},function(a){return d[7]=d[1].get("main_job_succeeded"),d[1],d[8]=d[1].get("resume_failed"),d[1],d[9]=d[1].get("error"),d[1],a=[d[7],d[8],d[9],d[4]],e[0]=a[0],e[1]=a[1],e[2]=a[2],e[3]=a[3],a}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSRequestAdContextFromThreadKey",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),"ctm_ad_context",[0,235],d[1],f,f,[0,0],[0,0],f,f,[0,0])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSSendTypingIndicator",["LSIssueNewFireAndForgetTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[];return c.seq([function(e){return c.seq([function(b){return d[2]=["typing","_",c.i64.to_string(a[0])].join(""),c.fe(c.ftr(c.db.table(5).fetch(),function(a){return d[2]===a.queueName}),function(a){return a["delete"]()})},function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[0].set("is_group_thread",a[1]),d[0].set("is_typing",a[2]),d[0].set("attribution",[0,0]),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewFireAndForgetTask"),d[2],[0,3],d[1])}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("MessengerPlatformClientTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:MessengerPlatformClientLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:MessengerPlatformClientLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:MessengerPlatformClientLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAppID=function(a){this.$1.appid=a;return this};c.setAppversion=function(a){this.$1.appversion=a;return this};c.setClientUserID=function(a){this.$1.client_userid=a;return this};c.setClienttime=function(a){this.$1.clienttime=a;return this};c.setCountry=function(a){this.$1.country=a;return this};c.setDeviceid=function(a){this.$1.deviceid=a;return this};c.setExtraClientData=function(a){this.$1.extra_client_data=a;return this};c.setIsemployee=function(a){this.$1.isemployee=a;return this};c.setLoggingToken=function(a){this.$1.logging_token=a;return this};c.setName=function(a){this.$1.name=a;return this};c.setRawclienttime=function(a){this.$1.rawclienttime=a;return this};c.setSessionid=function(a){this.$1.sessionid=a;return this};c.setThreadID=function(a){this.$1.thread_id=a;return this};return a}();c={appid:!0,appversion:!0,client_userid:!0,clienttime:!0,country:!0,deviceid:!0,extra_client_data:!0,isemployee:!0,logging_token:!0,name:!0,rawclienttime:!0,sessionid:!0,thread_id:!0};f["default"]=a}),66);
__d("MarketplaceCometReviewOffersDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4539137609449826"}),null);
__d("MarketplaceCometReviewOffersDialogQuery$Parameters",["MarketplaceCometReviewOffersDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MarketplaceCometReviewOffersDialogQuery_facebookRelayOperation"),metadata:{},name:"MarketplaceCometReviewOffersDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters",["CometMarketplaceConfirmMarkAsPaidDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceConfirmMarkAsPaidDialogQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceConfirmMarkAsPaidDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometMarketplaceCreateDiscountedPriceDialogContentQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4048841598565751"}),null);
__d("CometMarketplaceCreateDiscountedPriceDialogContentQuery$Parameters",["CometMarketplaceCreateDiscountedPriceDialogContentQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceCreateDiscountedPriceDialogContentQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceCreateDiscountedPriceDialogContentQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometMarketplaceCreateDiscountedPriceDialogNUXQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4754947091203574"}),null);
__d("CometMarketplaceCreateDiscountedPriceDialogNUXQuery$Parameters",["CometMarketplaceCreateDiscountedPriceDialogNUXQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceCreateDiscountedPriceDialogNUXQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceCreateDiscountedPriceDialogNUXQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometMarketplaceInboxLabelChatDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="3372974126058277"}),null);
__d("CometMarketplaceInboxLabelChatDialogQuery$Parameters",["CometMarketplaceInboxLabelChatDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceInboxLabelChatDialogQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceInboxLabelChatDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="3780157165378049"}),null);
__d("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery$Parameters",["CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWChatCustomerFeedbackFormDataQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="3597593690259924"}),null);
__d("MWChatCustomerFeedbackFormDataQuery.graphql",["MWChatCustomerFeedbackFormDataQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"formID"}],c={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null};c=[{alias:null,args:[{kind:"Variable",name:"form_id",variableName:"formID"}],concreteType:"MessengerFeedbackFormDataResult",kind:"LinkedField",name:"messenger_feedback_form_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"form_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"page_id",storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedbackBusinessPrivacyObject",kind:"LinkedField",name:"privacy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedbackFormScreenObject",kind:"LinkedField",name:"first_screen",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerFeedbackQuestionObject",kind:"LinkedField",name:"feedback_questions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_default_title",storageKey:null},c,{alias:null,args:null,kind:"ScalarField",name:"score_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score_option",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"left_score_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"right_score_label",storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedBackQuestionFollowup",kind:"LinkedField",name:"follow_up",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"placeholder",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatCustomerFeedbackFormDataQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatCustomerFeedbackFormDataQuery",selections:c},params:{id:b("MWChatCustomerFeedbackFormDataQuery_facebookRelayOperation"),metadata:{},name:"MWChatCustomerFeedbackFormDataQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWChatCustomerFeedbackStateQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="3054916864585546"}),null);
__d("MWChatCustomerFeedbackStateQuery.graphql",["MWChatCustomerFeedbackStateQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"formID"}],c=[{alias:null,args:[{fields:[{kind:"Variable",name:"form_id",variableName:"formID"}],kind:"ObjectValue",name:"input"}],concreteType:"MessengerFeedbackFormStateQueryObject",kind:"LinkedField",name:"messenger_feedback_form_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"form_state",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatCustomerFeedbackStateQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatCustomerFeedbackStateQuery",selections:c},params:{id:b("MWChatCustomerFeedbackStateQuery_facebookRelayOperation"),metadata:{},name:"MWChatCustomerFeedbackStateQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWXACIntroViewPreloadedQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"xacIntroNuxId"}],b=[{kind:"Variable",name:"nux_id",variableName:"xacIntroNuxId"},{kind:"Literal",name:"supported",value:["MessengerXacIntroViewRenderer"]}],c={kind:"InlineFragment",selections:[{args:null,documentName:"MWXACIntroViewPreloadedQuery_xacIntroCometNux",fragmentName:"MWXACIntroViewPreloadedQuery_introRenderer",fragmentPropName:"introRenderer",kind:"ModuleImport"}],type:"MessengerXacIntroViewRenderer",abstractKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWXACIntroViewPreloadedQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"messenger_xac_intro_renderer",plural:!1,selections:[c],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWXACIntroViewPreloadedQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"messenger_xac_intro_renderer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c],storageKey:null}],storageKey:null}]},params:{id:"4768147753306037",metadata:{},name:"MWXACIntroViewPreloadedQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWXACIntroViewPreloadedQuery_introRenderer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWXACIntroViewPreloadedQuery_introRenderer",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"MessengerXacIntroViewRenderer",abstractKey:null};e.exports=a}),null);
__d("MWChatPIIFormNuxQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="3270705693021816"}),null);
__d("MWChatPIIFormNuxQuery.graphql",["MWChatPIIFormNuxQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"MessengerPIIFormFirstPartyPrivacyObject",kind:"LinkedField",name:"messenger_pii_nux",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatPIIFormNuxQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatPIIFormNuxQuery",selections:a},params:{id:b("MWChatPIIFormNuxQuery_facebookRelayOperation"),metadata:{},name:"MWChatPIIFormNuxQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWChatPIIFormScreenQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="3186012261435736"}),null);
__d("MWChatPIIFormScreenQuery.graphql",["MWChatPIIFormScreenQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"formID"},{defaultValue:null,kind:"LocalArgument",name:"screenIndex"}],c=[{alias:null,args:[{fields:[{kind:"Variable",name:"form_id",variableName:"formID"},{kind:"Variable",name:"screen_index",variableName:"screenIndex"}],kind:"ObjectValue",name:"input"}],concreteType:"MessengerPIIFormSingleScreenObject",kind:"LinkedField",name:"messenger_pii_form_single_screen",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerPIIFormScreenObject",kind:"LinkedField",name:"screen",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"screen_title",storageKey:null},{alias:null,args:null,concreteType:"MessengerPIIQuestionObject",kind:"LinkedField",name:"questions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"placeholder",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mask",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatPIIFormScreenQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatPIIFormScreenQuery",selections:c},params:{id:b("MWChatPIIFormScreenQuery_facebookRelayOperation"),metadata:{},name:"MWChatPIIFormScreenQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWChatPIIFormStateQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="3163054493772913"}),null);
__d("MWChatPIIFormStateQuery.graphql",["MWChatPIIFormStateQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"formID"}],c=[{alias:null,args:[{fields:[{kind:"Variable",name:"form_id",variableName:"formID"}],kind:"ObjectValue",name:"input"}],concreteType:"MessengerPIIFormStateQueryObject",kind:"LinkedField",name:"messenger_pii_form_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"state",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatPIIFormStateQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatPIIFormStateQuery",selections:c},params:{id:b("MWChatPIIFormStateQuery_facebookRelayOperation"),metadata:{},name:"MWChatPIIFormStateQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWChatReceiptDataQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="3363059540374751"}),null);
__d("MWChatReceiptDataQuery.graphql",["MWChatReceiptDataQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"messageID"},c={defaultValue:null,kind:"LocalArgument",name:"receiptID"},d=[{alias:null,args:[{kind:"Variable",name:"message_id",variableName:"messageID"},{kind:"Variable",name:"receipt_id",variableName:"receiptID"}],concreteType:"ReceiptDataResult",kind:"LinkedField",name:"receipt_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"recipient_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"merchant_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"order_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"payment_method",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"order_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cancellation_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"address_line_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"address_line_2",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"address_line_3",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"total_cost",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"total_tax",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shipping_cost",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtotal",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"order_time",storageKey:null},{alias:null,args:null,concreteType:"ReceiptItem",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumb_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"quantity",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Adjustment",kind:"LinkedField",name:"adjustments",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"adjustment_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"display_adjustment_amount",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[a,c],kind:"Fragment",metadata:null,name:"MWChatReceiptDataQuery",selections:d,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,a],kind:"Operation",name:"MWChatReceiptDataQuery",selections:d},params:{id:b("MWChatReceiptDataQuery_facebookRelayOperation"),metadata:{},name:"MWChatReceiptDataQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MessengerRoomsChatJoinRoomButtonQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4696189230405636"}),null);
__d("MessengerRoomsChatJoinRoomButtonQuery.graphql",["MessengerRoomsChatJoinRoomButtonQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"thread_id"}],c=[{kind:"Variable",name:"id",variableName:"thread_id"}],d={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_audio_only",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link_hash",storageKey:null}],type:"MessengerCallInviteLink",abstractKey:null},e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MessengerRoomsChatJoinRoomButtonQuery",selections:[{alias:null,args:c,concreteType:"MessengerViewerChatForRoomThread",kind:"LinkedField",name:"fetch__MessengerViewerChatForRoomThread",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"rtc_room_door",plural:!1,selections:[d],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MessengerRoomsChatJoinRoomButtonQuery",selections:[{alias:null,args:c,concreteType:"MessengerViewerChatForRoomThread",kind:"LinkedField",name:"fetch__MessengerViewerChatForRoomThread",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"rtc_room_door",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,e],storageKey:null},e],storageKey:null}]},params:{id:b("MessengerRoomsChatJoinRoomButtonQuery_facebookRelayOperation"),metadata:{},name:"MessengerRoomsChatJoinRoomButtonQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("GraphQLMessengerPlatformCtaPostHandlingMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="1365264733527467"}),null);
__d("GraphQLMessengerPlatformCtaPostHandlingMutation.graphql",["GraphQLMessengerPlatformCtaPostHandlingMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"MessengerPlatformCtaPostHandlingResponsePayload",kind:"LinkedField",name:"messenger_platform_cta_post_handling",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"GraphQLMessengerPlatformCtaPostHandlingMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"GraphQLMessengerPlatformCtaPostHandlingMutation",selections:c},params:{id:b("GraphQLMessengerPlatformCtaPostHandlingMutation_facebookRelayOperation"),metadata:{},name:"GraphQLMessengerPlatformCtaPostHandlingMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("useCometDynamicEntryPointDialog",["CometDialogContext","CometRelay","CometSuspendedDialogImpl.react","clearTimeout","react","setTimeout","tracePolicyFromResource","useCometRelayEntrypointContextualEnvironmentProvider"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useContext,k=b.useEffect,l=b.useRef;function m(a){var b=a.entryPoint,e=a.environmentProvider,f=a.onClose,g=a.otherProps,i=a.preloadedEntryPoint,j=a.preloadParams;a=d("CometRelay").useEntryPointLoader(e,b);var m=a[0],n=a[1],o=a[2],p=(e=m)!=null?e:i,q=l(null);k(function(){q.current!=null&&(c("clearTimeout")(q.current),q.current=null);p.isDisposed&&n(j);return function(){q.current=c("setTimeout")(function(){m?o():i.dispose(),q.current=null},6e4)}},[o,p.isDisposed,i,j,n,m]);b=babelHelpers["extends"]({},g,{onClose:f});return h.jsx(d("CometRelay").EntryPointContainer,{entryPointReference:i,props:b})}m.displayName=m.name+" [from "+f.id+"]";function a(a,b,e){var f=c("useCometRelayEntrypointContextualEnvironmentProvider")(),g=j(c("CometDialogContext")),h=i(function(h,i,j,k){var l=d("CometRelay").loadEntryPoint(f,a,h),n=m,o=function(){j&&j.apply(void 0,arguments);var a=l==null?void 0:l.dispose;a&&a()};g(c("CometSuspendedDialogImpl.react"),{dialog:n,dialogProps:{entryPoint:a,environmentProvider:f,otherProps:i,preloadedEntryPoint:l,preloadParams:h},fallback:e},{loadType:"entrypoint",preloadTrigger:b,tracePolicy:(n=k)!=null?n:c("tracePolicyFromResource")("comet.dialog",a.root)},o)},[f,a,g,e,b]);return h}g["default"]=a}),98);
__d("createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport",["createCometMentionMatchStrategy"],(function(a,b,c,d,e,f,g){"use strict";var h=["@","\\uff20"].join(""),i=",\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'\"~=<>:;";function a(a){a=a.minMatchLength;return c("createCometMentionMatchStrategy")({disallowedChars:i,minMatchLength:a,name:"CometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport("+a.toString()+")",triggers:h})}g["default"]=a}),98);
__d("MarketplaceCometReviewOffersDialog.entrypoint",["JSResourceForInteraction","MarketplaceCometReviewOffersDialogQuery$Parameters","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.listingId;return{queries:{queryReference:{options:{fetchPolicy:"network-only"},parameters:c("MarketplaceCometReviewOffersDialogQuery$Parameters"),variables:{listingId:a,scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("MarketplaceCometReviewOffersDialog.react").__setRef("MarketplaceCometReviewOffersDialog.entrypoint")};g["default"]=a}),98);
__d("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint",["CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{cometMarketplaceConfirmMarkAsPaidDialogQueryReference:{parameters:c("CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters"),variables:{thread_id:a.threadId}}}}},root:c("JSResourceForInteraction")("CometMarketplaceConfirmMarkAsPaidDialog.react").__setRef("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint")};g["default"]=a}),98);
__d("CometMarketplaceCreateDiscountedPriceDialog.entrypoint",["CometMarketplaceCreateDiscountedPriceDialogContentQuery$Parameters","CometMarketplaceCreateDiscountedPriceDialogNUXQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=d("WebPixelRatio").get();return{queries:{cometMarketplaceCreateDiscountedPriceDialogContentQueryReference:{parameters:c("CometMarketplaceCreateDiscountedPriceDialogContentQuery$Parameters"),variables:{thread_id:a.threadId}},cometMarketplaceCreateDiscountedPriceDialogNUXQueryReference:{parameters:c("CometMarketplaceCreateDiscountedPriceDialogNUXQuery$Parameters"),variables:{contentParams:{pixelRatio:b},scale:b}}}}},root:c("JSResourceForInteraction")("CometMarketplaceCreateDiscountedPriceDialog.react").__setRef("CometMarketplaceCreateDiscountedPriceDialog.entrypoint")};g["default"]=a}),98);
__d("CometMarketplaceInboxLabelChatDialog.entrypoint",["CometMarketplaceInboxLabelChatDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{cometMarketplaceInboxLabelChatDialogQueryReference:{parameters:c("CometMarketplaceInboxLabelChatDialogQuery$Parameters"),variables:{id:a.thread_id}}}}},root:c("JSResourceForInteraction")("CometMarketplaceInboxLabelChatDialog.react").__setRef("CometMarketplaceInboxLabelChatDialog.entrypoint")};g["default"]=a}),98);
__d("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialog.entrypoint",["CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{cometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQueryReference:{parameters:c("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery$Parameters"),variables:{id:a.threadId,scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialog.react").__setRef("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialog.entrypoint")};g["default"]=a}),98);
__d("ReQLBounds.bs",["LSDbKeyComparer.bs","bs_js_dict","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function g(a,b,c){if(!b)return c;if(a<=0)return c;var d=b.hd;if(a===1)return{hd:d,tl:0};else return{hd:d,tl:g(a-1|0,b.tl,c)}}function a(a,c){return g(a,c,{hd:b("LSDbKeyComparer.bs").maxKey,tl:0})}function c(a,c){a=function(a){var b=a.NAME;if(b==="lessThan")return["lt",a.VAL];else if(b==="greaterThan")return["gt",a.VAL];else if(b==="greaterThanOrEqual")return["gte",a.VAL];else return["lte",a.VAL]};var d=c.NAME;if(d!=="range")if(d==="greaterThanOrEqual"||d==="greaterThan")return b("bs_js_dict").fromArray([a(c)]);else return b("bs_js_dict").fromArray([a(c)]);d=c.VAL;return b("bs_js_dict").fromArray([a(d[0]),a(d[1])])}function d(a){var c=a.operation;switch(c){case"add":return{TAG:0,_0:a.value};case"delete":return 0;case"put":return{TAG:1,_0:a.value};default:return b("unrecoverableViolation")("Unexpected operation","messenger_web_product")}}f.concat=g;f.nextKey=a;f.mapBounds=c;f.mapEventToOperation=d}),null);
__d("IntervalList",["FBLogger","LSDbKeyComparer","ReQLBounds.bs","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(a==null)throw c("FBLogger")("messenger_web_product").mustfixThrow("must not be null");return a}function a(a,c){var e=b("regeneratorRuntime").mark(k),f=new Map(),g=new Map(),i=new Map();function j(b,c){return c==null?!0:(c.gt!==void 0?a(b,c.gt)>0:c.gte!==void 0?a(b,c.gte)>=0:!0)&&(c.lt!==void 0?a(b,c.lt)<0:c.lte!==void 0?a(b,c.lte)<=0:!0)}function k(a){var h,i,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z;return b("regeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:h=a,i={hd:d("LSDbKeyComparer").MAX_KEY,tl:0},k=0;case 3:if(!(h!==0&&g.size)){b.next=33;break}k++;l=h;m=h.tl;h.tl=k<c?i:0;b.prev=8;n=g.get(JSON.stringify(a));if(!(n!=null)){b.next=27;break}o=n,p=Array.isArray(o),q=0,o=p?o:o[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();case 12:if(!p){b.next=18;break}if(!(q>=o.length)){b.next=15;break}return b.abrupt("break",27);case 15:r=o[q++];b.next=22;break;case 18:q=o.next();if(!q.done){b.next=21;break}return b.abrupt("break",27);case 21:r=q.value;case 22:s=r;b.next=25;return s;case 25:b.next=12;break;case 27:b.prev=27;l.tl=m;return b.finish(27);case 30:h=l.tl;b.next=3;break;case 33:t=f.entries(),u=Array.isArray(t),v=0,t=u?t:t[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();case 34:if(!u){b.next=40;break}if(!(v>=t.length)){b.next=37;break}return b.abrupt("break",52);case 37:w=t[v++];b.next=44;break;case 40:v=t.next();if(!v.done){b.next=43;break}return b.abrupt("break",52);case 43:w=v.value;case 44:x=w;y=x[0];z=x[1];if(!(f.has(y)&&j(a,z))){b.next=50;break}b.next=50;return y;case 50:b.next=34;break;case 52:case"end":return b.stop()}},e,this,[[8,,27,30]])}function l(a){var b=i.get(a);if(b!=null){i["delete"](a);var c=h(g.get(b));c["delete"](a);c.size===0&&g["delete"](b)}else f["delete"](a)}function m(a,b){var e;if(a&&a.gte!=null&&a.lte!=null&&(e=JSON.stringify(d("ReQLBounds.bs").nextKey(c,a.gte)))===JSON.stringify(a.lte)){var h=g.get(e);h==null&&(h=new Set(),g.set(e,h));h.add(b);i.set(b,e)}else f.set(b,a)}return{"delete":l,findIntersecting:k,set:m}}g["default"]=a}),98);
__d("LSStorage",["IntervalList","LSDbKeyComparer","cr:181","killswitch","nullthrows","promiseDone","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,d,e){a=a.tableNames[b];b=a.indexes;a=a.primaryKeyIds;a=e==null?a:b[e];return a.reduceRight(function(a,b){if(d[b]!==void 0||e!=null)return{hd:d[b],tl:a};throw c("unrecoverableViolation")("primary key must be defined on object","messenger_web_product")},0)}function a(a,b){while(a!==0&&b!==0){if(a.hd!==b.hd&&!(Array.isArray(a.hd)&&Array.isArray(b.hd)&&a.hd.length===b.hd.length&&a.hd.every(function(a,c){return a===b.hd[c]})))return!1;a=a.tl;b=b.tl}return a===0&&b===0}function e(a){var e=new Map(),f=new Map();function g(a,b,c,d){return Promise.all(Array.from(a.findIntersecting(c)).map(function(a){return a(c,d,b)}))}function i(b){return c("nullthrows")((e.has(b)?e:e.set(b,[c("IntervalList")(d("LSDbKeyComparer").compareKey,a.tableNames[b].primaryKeyIds.length),new Map()])).get(b))}function j(b,e){var f=i(b);f[0];f=f[1];return c("nullthrows")((f.has(e)?f:f.set(e,c("IntervalList")(d("LSDbKeyComparer").compareKey,a.tableNames[b].indexes[e].length))).get(e))}function k(b,e,f,i,j,k){var l=g.bind(null,b,k);b=f==null?void 0:h(a,e,f,j);var m=i==null?void 0:h(a,e,i,j);if(m==null&&b!=null)return l(b,{operation:"delete",prevValue:f});if(b==null&&m!=null)return l(m,{operation:"add",value:c("nullthrows")(i)});return b!=null&&m!=null?d("LSDbKeyComparer").compareKey(b,m)===0?l(b,{operation:"put",value:c("nullthrows")(i),prevValue:f}):l(b,{operation:"delete",prevValue:f}).then(function(){return l(m,{operation:"add",value:c("nullthrows")(i)})}):Promise.resolve()}function l(a,d,e,f,g){g===void 0&&(g=!1);!c("killswitch")("MESSENGER_WEB_PERSISTED_DB")&&g&&b("cr:181")!=null&&b("cr:181").postMessage("notifyTable",[a,d,e]);g=i(a);var h=g[0],j=g[1];return k(h,a,d,e,null,f).then(function(){return Promise.all(Array.from(j.entries()).map(function(b){var c=b[0];b=b[1];return k(b,a,d,e,c,f)}).filter(function(a){return a!=null}))})}function m(a){a===void 0&&(a=!1),!c("killswitch")("MESSENGER_WEB_PERSISTED_DB")&&a&&b("cr:181")!=null&&b("cr:181").postMessage("notifyCommit"),f.forEach(function(a){return a()})}!c("killswitch")("MESSENGER_WEB_PERSISTED_DB")&&b("cr:181")!=null&&(b("cr:181").onEventReceive("notifyTable",function(a){var b=a[0],d=a[1];a=a[2];var e=new WeakMap();c("promiseDone")(l(b,d,a,e,!1))}),b("cr:181").onEventReceive("notifyCommit",function(a){m(!1)}));return{subscribeTable:function(a,b,c){a=i(a);var d=a[0],e=!1,f=function(a,c,d){return e?Promise.resolve():b(a,c,d)};d.set(c,f);return function(){e=!0,d["delete"](f)}},subscribeIndex:function(a,b,c,d){var e=j(a,b),f=!1,g=function(a,b,d){return f?Promise.resolve():c(a,b,d)};e.set(d,g);return function(){f=!0,e["delete"](g)}},notifyTableAndIndexSubscribers:l,subscribeToCommit:function(a){f.set(a,a);return function(){f["delete"](a)}},notifyCommit:m,dispose:function(){e.clear(),f.clear()}}}g.searchKey=h;g.areKeysEqual=a;g.createSubscriptionManager=e}),98);
__d("LSTableDefaults.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";c={syncStatus:(a=b("bs_caml_int64")).zero,sendSyncParams:!1,minTimeToSyncTimestampMs:a.zero,canIgnoreTimestamp:!1,lastSyncCompletedTimestampMs:a.zero,syncChannel:a.one};d={enqueueTimestampMs:a.zero,firstExecutedTimestampMs:a.zero,failureCount:a.zero,minTimeToSyncTimestampMs:a.zero,pluginType:a.zero};e={isMessengerUser:!1,isMemorialized:!1,blockedByViewerStatus:a.zero,rank:a.zero,contactType:a.zero,contactTypeExact:a.zero,canViewerMessage:!0,authorityLevel:a.zero,optimisticBlockedByViewerStatus:a.zero,optimisticBlockedByViewerStatusTimestampMs:a.zero,contactReachabilityStatusType:a.zero,waConnectStatus:a.zero,capabilities2:a.zero};b={timestampMs:a.zero,authorityLevel:a.zero};var g={lastActivityTimestampMs:a.zero,lastReadWatermarkTimestampMs:a.zero,removeWatermarkTimestampMs:a.zero,muteExpireTimeMs:a.zero,ongoingCallState:a.zero,snippetHasEmoji:!1,hasPersistentMenu:!1,disableComposerInput:!1,capabilities:a.zero,isCustomThreadPicture:!1,authorityLevel:a.zero,capabilities2:a.zero,muteCallsExpireTimeMs:a.zero,unsendLimitMs:a.zero,threadInvitesEnabled:a.zero,threadInvitesEnabledV2:a.zero},h={minThreadKey:a.zero,minLastActivityTimestampMs:a.zero,maxThreadKey:a.zero,maxLastActivityTimestampMs:a.zero,isLoadingBefore:!1,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1},i={timestampMs:a.zero,primarySortKey:a.zero,secondarySortKey:a.zero,isAdminMessage:!1,sendStatus:a.zero,sendStatusV2:a.zero,isUnsent:!1,replyStatus:a.zero,replyAttachmentType:a.zero,hasQuickReplies:!1,textHasLinks:!1,viewFlags:a.zero,displayedContentTypes:a.one,quickReplyType:a.zero,authorityLevel:a.zero,unsentTimestampMs:a.zero},j={isLoadingBefore:!1,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1},k={readWatermarkTimestampMs:a.zero,deliveredWatermarkTimestampMs:a.zero,authorityLevel:a.zero,readActionTimestampMs:a.zero,groupParticipantJoinState:a.zero},l={timestampMs:a.zero,attachmentType:a.zero,hasMedia:!1,isSharable:!1,hasXma:!1,attachmentIndex:a.zero,authorityLevel:a.zero},m={mediaGroup:a.zero,isLoadingBefore:!1,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1},n={attachmentIndex:a.zero},o={authorityLevel:a.zero},p={timestampMs:a.zero,showAdChoiceIcon:!1},q={ctaType:a.zero},r={timestampMs:a.zero},s={pollType:a.zero},t={minThreadKey:a.zero,minLastActivityTimestampMs:a.zero,maxThreadKey:a.zero,maxLastActivityTimestampMs:a.zero,isLoadingBefore:!1,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1,folderName:""},u={capabilities:a.zero},v={minThreadKey:a.zero,minLastActivityTimestampMs:a.zero,isLoadingBefore:!1,hasMoreBefore:!1},w={lastAccessedTimestampMs:a.zero},x={authorityLevel:a.zero},y={canAnonymousUsersJoin:a.zero},z={timestampMs:a.zero},A={pageNum:a.zero,readState:a.zero},B={authorityLevel:a.zero},C={interactionType:a.one,authorityLevel:a.zero},D={authorityLevel:a.zero},E={shouldShowAdChoice:!1},F={authorityLevel:a.zero},G={authorityLevel:a.zero,encryptionVersion:a.zero,revisionVersion:a.zero},H={authorityLevel:a.zero},I={authorityLevel:a.zero};a={virtualDeviceType:a.one};var J={isMigrated:!1};c={sync_groups:c,pending_tasks:d,contacts:e,reactions:b,threads:g,threads_ranges_v2__generated:h,messages:i,messages_ranges_v2__generated:j,participants:k,attachments:l,attachments_ranges_v2__generated:m,attachment_items:n,group_membership_approval_requests:o,admin_message_ctas:p,thread_nullstate:q,messages_status:r,polls:s,filtered_threads_ranges_v2__generated:t,community_folders:u,inbox_threads_ranges:v,universal_search_recent_searches:w,contact_upload_settings:x,video_chat_links_joining:y,transaction_history:z,story_buckets:A,stories:B,story_viewers:C,story_reactions:D,story_ad_unit:E,story_overlays:F,secure_encrypted_backups_client_state:G,secure_encrypted_backups_epochs:H,encrypted_backups:I,secure_encrypted_backups_generated_recovery_code:a,cutover_threads:J};f.Defaults=c}),null);
__d("ReStorePersistence",["PromiseOrValue","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h={};function i(l,m,n){return(l.has(m)?l:l.set(m,n())).get(m)}function j(l){if(l==null)return l;var m=Object.getOwnPropertyNames(l),j={},n,o;for(n=0;n<m.length;n++)o=l[m[n]],j[m[n]]=Array.isArray(o)?[].concat(o):o;return j}function k(l){return{clearCache:l.clearCache,close:l.close,createTransaction:function(){var m=new Map();return{flush:async function(){await l.flush(m)},table:function(n){function o(s,t){var u=q.get(t);if(u===h)return void 0;return u!==void 0?u:l.get(s,n,t)}function p(s,t){return d("PromiseOrValue").map(o(s,t),function(u){if(u===void 0)throw c("unrecoverableViolation")("Got unexpected undefined","messenger_web_product");return u})}var q=i(m,n,function(){return new Map()});function r(s,t){return{read:function*(u){var v=o(s,u);return v instanceof window.Promise?yield v:v},readExn:function*(u){var v=p(s,u);return v instanceof window.Promise?yield v:v},readHeader:function*(){var u=o(s,t);return u instanceof window.Promise?yield u:u},remove:function*(u){q.set(u,h)},removeHeader:function*(){q.set(t,h)},write:function*(u,v){q.set(u,v)},writeHeader:function*(u){q.set(t,u)},writeNew:function*(u){var v=d("PromiseOrValue").map(o(s,"nextId"),function(v){v===void 0&&(v=0);q.set("nextId",v+1);q.set(v,u);return v});return v instanceof window.Promise?yield v:v}}}return{getBPlusTreeStore:r,incrementSeed:function(s,t){return d("PromiseOrValue").map(o(s,"seed"),function(u){u===void 0&&(u=0);q.set("seed",Math.max(u,t||0)+1);return t===void 0?u:t})},readData:function*(s,t){var u=o(s,t);return u instanceof window.Promise?yield u:u},readDataExn:function*(s,t){var u=p(s,t);return u instanceof window.Promise?yield u:u},readSeed:function(s){return d("PromiseOrValue").map(o(s,"seed"),function(t){t===void 0&&(t=0);return t})},remove:function(s,t){q.set(t,h)},writeData:function(s,t,u){q.set(t,j(u))},writeNewData:function(s,t){return d("PromiseOrValue").map(o(s,"nextId"),function(u){u===void 0&&(u=0);q.set("nextId",u+1);q.set(u,j(t));return u})}}}}},releaseLockIfNeeded:l.releaseLockIfNeeded,waitForLock:l.waitForLock}}g.sentinelDeleted=h;g.createDbStore=k}),98);
__d("ReStoreTransactionLock",["gkx"],(function(a,b,c,d,e,f,g){"use strict";var h={chainPromiseOrValue:function(j){return j(h)}},i=function(){function i(){this.lock=null}var j=i.prototype;j.chainPromiseOrValue=function(k){var l=this;if(!c("gkx")("3174"))return h.chainPromiseOrValue(k);var m=this.lock;if(m==null){var n=k(h);if(n instanceof window.Promise)m=n;else return n}else m=m.then(function(){return k(h)});var o=m.then(function(p){l.lock===o&&(l.lock=null);return p}).finally(function(p){l.lock===o&&(l.lock=null)});this.lock=o;return o};return i}();g.default=i}),98);
__d("ReStore",["BPlusTreeBase","I64","LSDbKeyComparer","LSStorage","LSTableDefaults.bs","ReStorePersistence","ReStoreTransactionLock","unrecoverableViolation"],(function(aa,ba,a,b,ca,da,ea){"use strict";var c=function(f){babelHelpers.inheritsLoose(c,f);function c(){return f.call(this,"Transaction has finished")||this}return c}(babelHelpers.wrapNativeSuper(Error));function fa(f){var g=b("I64").cast(f);if(g===void 0)throw a("unrecoverableViolation")("Expected int64","messenger_web_product");return b("I64").to_float(g)}function d(f,g){function h(i){if(i.done)return i.value;if(!(i.value instanceof Promise))throw a("unrecoverableViolation")("expected promise","messenger_web_product");return i.value.then(function(j){return h(f.next(j))})}return h(f.next(g))}function ga(f){return{next:function*(g){var h=f.next(g);while(h.value instanceof window.Promise)h=f.next(yield h.value);return h}}}function ha(f,g){var h=ga(f);return{next:function(i){return g.chainPromiseOrValue(function(){return d(h.next(i))})}}}function ia(f,g){var h=a("LSTableDefaults.bs").Defaults[g.name];return!h?f:Object.keys(h).reduce(function(i,j){Object.prototype.hasOwnProperty.call(i,j)||(i[j]=h[j]);return i},babelHelpers.extends({},f))}function e(f,g,h){return a("BPlusTreeBase")(b("LSDbKeyComparer").compareKey,16,g.getBPlusTreeStore(f,h==null?"root":"index("+h+")"))}function ja(f,g,h){return(f.has(g)?f:f.set(g,h())).get(g)}function ka(f,g,h){var i=b("ReStorePersistence").createDbStore(f),j=ba("LSStorage").searchKey.bind(null,h),la=Promise.resolve(),k=!1,ma=new Map();async function l(p,q,r,s,t){var u=p.table(r),v=e(q,u,s),w=await d(v.getWithDefault(t,void 0));return w===void 0?void 0:d(u.readDataExn(q,w))}async function na(p,q,r,s,t){var u=await l(p,q,r,s,t);return u===void 0?void 0:j(r,u)}function m(p,q,r){return!q||p<=0?r:{hd:q.hd,tl:p===1?0:m(p-1,q.tl,r)}}function n(p,q){if(p==null)return void 0;var r=babelHelpers.extends({},p);r.gt!=null&&(r.gt=m(q,r.gt,{hd:b("LSDbKeyComparer").MAX_KEY,tl:0}));r.lte!=null&&(r.lte=m(q,r.lte,{hd:b("LSDbKeyComparer").MAX_KEY,tl:0}));return r}function o(p,q,r,s,t,u,v){return ha(function*(){var w=p.table(r),x=e(q,w,s),y=ga(x.entries(babelHelpers.extends({},n(u,(s===void 0?h.tableNames[r].primaryKeyIds:h.tableNames[r].indexes[s]).length),{dir:t}))),z=(yield* y.next());while(!z.done){var A=z.value,B=A[0],C=A[1];z=(yield* y.next(yield [B,yield* w.readDataExn(q,C)]))}}(),v)}async function oa(p,q,r){var s=h.tableNames[r].autoIncrement;if(!s)throw a("unrecoverableViolation")("only supported for auto-incrementing tables","messenger_web_product");var t=await p.table(r).readSeed(q);if(t===void 0)throw a("unrecoverableViolation")("unexpected undefined autoIncrementSeed","messenger_web_product");return b("I64").of_float(t)}function pa(p,q){var r=new(a("ReStoreTransactionLock"))();function s(B,C,D,E){var F=JSON.stringify([B,C]),G=q.get(F);q.set(F,[G==null?D:G[0],E])}async function t(B,C,D,E,F){function G(Q,R){var S=[],T=Q;while(T!==0)S.push(T.hd),T=T.tl;return S.length>=R?Q:S.reduceRight(function(U,V){return{hd:V,tl:U}},{hd:b("LSDbKeyComparer").MAX_KEY,tl:0})}if(E!=null&&b("LSDbKeyComparer").compareKey(D,E)===0)return;var H=h.tableNames[C],I=H.cascadeUpdates,J=H.primaryKeyIds,K=async function(){if(M){if(N>=L.length)return"break";O=L[N++]}else{N=L.next();if(N.done)return"break";O=N.value}var Q=O,R=Q.indexName,C=Q.tableName,S=h.tableNames[C],T=S.indexes,U=S.primaryKeyIds,V=R==null?U:T[R],qa={gte:D,lte:G(D,V.length)},ra=o(p,B,C,R,"asc",qa,F),W=await ra.next(),X=[];while(!W.done)X.push(W.value),W=await ra.next();for(var Y=0;Y<X.length;Y++){var sa=X[Y];sa[0];var ta=sa[1],Z=j(C,ta);if(E===void 0)await w(B,C,Z),await t(B,C,Z,void 0,F);else{var ua=J.reduce(function(va,wa,xa){var $=va[0],E=va[1];if(!E)return[$,E];$[V[xa]]=E.hd;return[$,E.tl]},[babelHelpers.extends({},ta),E])[0];await v(B,C,Z,ua,F);await t(B,C,Z,j(C,ua),F)}}};for(var L=I,M=Array.isArray(L),N=0,L=M?L:L[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var O,P=await K();if(P==="break")break}}async function u(B,C,D,E){var F=p.table(C),G=e(B,F),H=h.tableNames[C],I=j(C,D),J=x(Object.keys(H.indexes),C,D),K={},L=await d(G.getWithDefault(I,void 0)),M,N=D;if(L!==void 0)M=await d(F.readDataExn(B,L)),K=x(Object.keys(H.indexes),C,M),F.writeData(B,L,D);else{if(H.autoIncrement)throw a("unrecoverableViolation")("Id must not be specified for new record when table has an autoincrementing primary key","messenger_web_product");N=ia(D,H);L=await F.writeNewData(B,N);await d(G.set(I,L))}var O=Object.keys(J);for(var P=0;P<O.length;P++){var Q=O[P];K[Q]!==void 0&&b("LSDbKeyComparer").compareKey(K[Q],J[Q])===0&&(delete J[Q],delete K[Q])}await y(B,C,E,J);await z(B,C,L,J);var R=Object.keys(K);for(var S=0;S<R.length;S++){var T=R[S],U=e(B,F,T);await d(U.delete(K[T]))}s(C,I,M,N)}async function v(B,C,D,E,F){var G=j(C,E);b("LSStorage").areKeysEqual(D,G)||await w(B,C,D);await u(B,C,E,F)}async function w(B,C,D){var E=p.table(C),F=e(B,E),G=h.tableNames[C],H=await d(F.getWithDefault(D,void 0)),I;if(H!==void 0){I=await d(E.readDataExn(B,H));if(Object.keys(G.indexes).length){var J=Object.keys(G.indexes);for(var K=0;K<J.length;K++){var L=J[K],M=j(C,I,L);if(M!=null){var N=e(B,E,L);await d(N.delete(M))}}}await d(F.delete(D));E.remove(B,H);s(C,D,I,void 0)}}function x(B,C,D){return B.reduce(function(E,F){var G=j(C,D,F);E[F]=G;return E},{})}async function y(B,C,D,E){var F=p.table(C),G=new Set(),H=Object.keys(E);for(var I=0;I<H.length;I++){var J=H[I],K=e(B,F,J),L=E[J],M=await d(K.getWithDefault(L));if(M!=null&&!G.has(M)){var N=j(C,await d(F.readDataExn(B,M)));await w(B,C,N);await t(B,C,N,void 0,D);G.add(M)}}}async function z(B,C,D,E){var F=p.table(C),G=Object.keys(E);for(var H=0;H<G.length;H++){var I=G[H],J=e(B,F,I),K=E[I];await d(J.set(K,D))}}async function A(B,C,D,E){var F=p.table(C),G=e(B,F),H=h.tableNames[C];if(H.autoIncrement){var I=D[h.tableNames[C].primaryKeyIds[0]],J=b("I64").of_float(await F.incrementSeed(B,I===void 0?I:fa(I)));D[h.tableNames[C].primaryKeyIds[0]]=J}var K=ia(D,H),L=j(C,K);if(L==null)throw new Error("Evaluating the object store's key path did not yield a value");if(!await d(G.has(L))){var M=x(Object.keys(H.indexes),C,K);await y(B,C,E,M);var N=await F.writeNewData(B,K);await d(G.set(L,N));await z(B,C,N,M);s(C,L,void 0,K)}}return{table:function(B){return{add:function(C){return r.chainPromiseOrValue(function(D){return A(new WeakMap(),B,C,D)})},delete:function(C){return r.chainPromiseOrValue(async function(D){var E=new WeakMap();await w(E,B,C);await t(E,B,C,void 0,D)})},deleteThenInsert:function(C){return r.chainPromiseOrValue(async function(D){var E=new WeakMap();await u(E,B,C,D);await t(E,B,j(B,C),void 0,D)})},entries:function(C,D,E){D===void 0&&(D="asc");return o(p,C,B,void 0,D,E,r)},get:function(C,D){D===void 0&&(D=new WeakMap());return r.chainPromiseOrValue(function(){return l(p,D,B,void 0,C)})},index:function(C){return{entries:function(D,E,F){E===void 0&&(E="asc");return o(p,D,B,C,E,F,r)},get:function(D){return r.chainPromiseOrValue(function(){return l(p,new WeakMap(),B,C,D)})},getKey:function(D){return na(p,new WeakMap(),B,C,D)}}},peekNextAutoIncrementId:function(){return oa(p,new WeakMap(),B)},put:function(C){return r.chainPromiseOrValue(async function(D){var E=new WeakMap();await u(E,B,C,D)})},upsert:function(C,D){return r.chainPromiseOrValue(async function(E){var F=new WeakMap();await v(F,B,C,D,E);await t(F,B,C,j(B,D),E)})}}}}}return{clearCacheIfSupported:function(){var p=i;p instanceof Object&&p.clearCache!==void 0&&p.clearCache instanceof Function&&p.clearCache()},closeDb:function(){var p=i;p instanceof Object&&p.close!==void 0&&p.close()},getTableData:function(){return h},isTransactionActive:function(){return k},runInTransaction:function(p,q){var r=new Map();return new Promise(function(s,t){la=la.then(i.waitForLock).then(async function(){try{k=!0;var u=i.createTransaction(),v=await p(pa(u,r)),w=new WeakMap();await u.flush();for(var x=r,y=Array.isArray(x),z=0,x=y?x:x[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var A;if(y){if(z>=x.length)break;A=x[z++]}else{z=x.next();if(z.done)break;A=z.value}var B=A,C=B[0],D=B[1],E=D[0],F=D[1],G=JSON.parse(C),H=G[0];G[1];await g.notifyTableAndIndexSubscribers(H,E,F,w,!0)}s(v)}catch(I){t(I)}g.notifyCommit(!0);k=!1}).then(i.releaseLockIfNeeded)})},subscribeToCommit:function(p){return g.subscribeToCommit(p)},subscriptionManager:g,table:function(p){return ja(ma,p,function(){var q=new Map();return{entries:function(r,s,t){s===void 0&&(s="asc");return o(i.createTransaction(),r,p,void 0,s,t,new(a("ReStoreTransactionLock"))())},get:function(r,s){s===void 0&&(s=new WeakMap());return l(i.createTransaction(),s,p,void 0,r)},index:function(r){return ja(q,r,function(){return{entries:function(s,t,u){t===void 0&&(t="asc");return o(i.createTransaction(),s,p,r,t,u,new(a("ReStoreTransactionLock"))())},get:function(s,t){t===void 0&&(t=new WeakMap());return l(i.createTransaction(),t,p,r,s)},getKey:function(s){return na(i.createTransaction(),new WeakMap(),p,r,s)},subscribe:function(s,t){return g.subscribeIndex(p,r,s,n(t,h.tableNames[p].indexes[r]))}}})},peekNextAutoIncrementId:function(){return oa(i.createTransaction(),new WeakMap(),p)},subscribe:function(r,s){return g.subscribeTable(p,r,n(s,h.tableNames[p].primaryKeyIds.length))}}})}}}ka.TransactionClosedError=c;ea.default=ka}),98);
__d("MAWChatJid.bs",["MAWBackendBridge.bs","MAWThreadId.bs","Promise","bs_curry","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useReStore")(),d=h.useMemo(function(){return{contents:void 0}},[]);h.useMemo(function(){b("promiseDone")(b("MAWThreadId.bs").ofThreadKey(c,a).then(function(a){if(a)return b("bs_curry")._1(b("MAWBackendBridge.bs").getThreadJidByChatId({threadId:a._0}).sendAndReceive,void 0).then(function(a){d.contents=a});else return b("Promise").resolve((d.contents=void 0,void 0))}),void 0,void 0)},[c,a,d]);return function(a){return d.contents}}f.useThreadJidCallback=a}),null);
__d("MWEmoji.bs",["CometEmoji.bs","EmojiRenderer","bs_belt_Array","bs_caml_option","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.emoji,d=a.size;a=a.testid;d={emoji:h.useMemo(function(){var a=b("bs_belt_Array").get(b("EmojiRenderer").parse(c),0);if(a!==void 0)return b("bs_caml_option").valFromOption(a).emoji;else return[c]},[c]),size:d};a!==void 0&&(d.testid=a);return h.jsx(b("CometEmoji.bs").make,d)}c=a;f.make=c}),null);
__d("MWLSAdContextCtaParser.bs",["JSResource","react","useCometLazyDialog"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");c=new Set(["ads_context"]);function a(a){var c=h.useRef(null);a=b("useCometLazyDialog")(b("JSResource")("MWCTMAdContextDialog.react").__setRef("MWLSAdContextCtaParser.bs"));var d=a[0];return function(a,b){var e=b.ctaType;if(e==="ads_context")return{TAG:1,_0:function(c){return d({adId:b.ctaId,threadKey:a.banner.threadKey,onClose:function(a){}},function(a){})},_1:c};else return 0}}f.adContextCta=c;f.useHook=a}),null);
__d("MWLSEnsureAdContextExists.bs",["LS.bs","LSRequestAdContextFromThreadKey","LSTransaction.bs","MWThreadKey.bs","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useReStore")(),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0);h.useEffect(function(){var a=b("LSTransaction.bs").run(c,function(a){return b("LSRequestAdContextFromThreadKey")(d,b("LS.bs").make(a))},"readWrite");b("promiseDone")(a,void 0,void 0)},[d,c])}f.useHook=a}),null);
__d("MWV2ChatEphemeralButton.bs",["fbt","ix","BaseImage_DEPRECATED.react","CometPressable.react","FBID.bs","MDSText.react","MWChatEphemeralMediaTemporarySeenState.bs","MWPSolidMessageBubble.bs","MessagingAttachmentType.bs","RavenMessagingState.bs","TetraIcon.react","UseCurrentDisplayMode.bs","XCometMessengerEphemeralMediaControllerRouteBuilder","bs_caml","bs_caml_option","bs_int64","fbicon","react","stylex","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||b("react"),l={image:{verticalAlign:"hu5pjgll"}};function m(a){var c=a.filter;a=a.icon;return k.jsx(b("BaseImage_DEPRECATED.react"),{className:(j||(j=b("stylex")))(l.image),style:{filter:c},src:a.src})}c={styles:l,make:m};function n(a){var c=a.attachment,d=a.children,e=a.ariaLabel;a=a.initiallyUnread;var f=b("XCometMessengerEphemeralMediaControllerRouteBuilder").buildURL({thread_id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(c.threadKey)),attachment_id:b("FBID.bs").ofStringExn(c.attachmentFbid),message_id:c.messageId});c=c.ephemeralMediaState;if(c===void 0)return d;if(!(b("bs_caml").i64_eq(c,b("RavenMessagingState.bs").unseen)||b("bs_caml").i64_eq(c,b("RavenMessagingState.bs").seen)&&a))return d;c={linkProps:{url:f},testid:"view-ephemeral-media",overlayRadius:50,children:d};e!==void 0&&(c["aria-label"]=b("bs_caml_option").valFromOption(e));return k.jsx(b("CometPressable.react"),c)}d={make:n};var o=g._(/*FBT_CALL*/"\u67e5\u770b\u7167\u7247"/*FBT_CALL*/),p=g._(/*FBT_CALL*/"\u89c2\u770b\u89c6\u9891"/*FBT_CALL*/),q=b("fbicon")._(h("656360"),20),r={wrapper:{marginTop:"aahdfvyu",marginEnd:"cxmmr5t8",marginBottom:"tvmbv18p",marginStart:"hcukyx3x"},text:{marginStart:"h676nmdw"}};function a(a){var c=a.attachment,d=a.connectTop,e=a.connectBottom;a=a.outgoing;var f=c.attachmentType;f=b("bs_caml").i64_eq(f,b("MessagingAttachmentType.bs").ephemeralImage)?o:b("bs_caml").i64_eq(f,b("MessagingAttachmentType.bs").ephemeralVideo)?p:void 0;var g=b("useCurrentDisplayMode")(),h=b("MWChatEphemeralMediaTemporarySeenState.bs").isSeenThisSession(b("bs_int64").to_string(c.threadKey),c.attachmentFbid),i=c.ephemeralMediaState,l=c.ephemeralMediaState,s,t=0;l!==void 0&&b("bs_caml").i64_eq(l,b("RavenMessagingState.bs").unseen)?s=k.jsx(m,{filter:g===b("UseCurrentDisplayMode.bs").darkTheme?"invert(41%) sepia(25%) saturate(7193%) hue-rotate(202deg) brightness(106%) contrast(106%)":"invert(44%) sepia(95%) saturate(2777%) hue-rotate(182deg) brightness(102%) contrast(103%)",icon:q}):t=1;t===1&&(s=k.jsx(b("TetraIcon.react"),{icon:q,color:l!==void 0&&b("bs_caml").i64_eq(l,b("RavenMessagingState.bs").seen)&&h?"primary-icon":"disabled"}));return k.jsx(n,{attachment:c,children:k.jsx(b("MWPSolidMessageBubble.bs").make,{children:k.jsx("div",{className:(j||(j=b("stylex")))(r.wrapper),children:k.jsxs(b("MDSText.react"),{color:i!==void 0&&(b("bs_caml").i64_eq(i,b("RavenMessagingState.bs").unseen)||b("bs_caml").i64_eq(i,b("RavenMessagingState.bs").seen)&&h)?"primary":"disabled",type:"bodyLink3",children:[s,k.jsx("span",{className:j(r.text),children:f!==void 0?f:null})]})}),style:{backgroundColor:"var(--wash)"},connectTop:d,connectBottom:e,outgoing:a}),ariaLabel:f,initiallyUnread:h})}e=a;f.CustomColorIcon=c;f.OpenMediaViewerAction=d;f.styles=r;f.make=e}),null);
__d("MWChatOpenTabByThreadKey.bs",["FBID.bs","LS.bs","LSAuthorityLevel.bs","LSContactType.bs","LSDatabaseType.bs","LSTransaction.bs","LSVerifyThreadRowExists","MWChatOpenTabForPage.bs","MWChatOpenTabForUser.bs","MWLSActor.bs","MessagingThreadType.bs","Promise","ReQL.bs","SortedAsyncIterable.bs","bs_caml","bs_curry","bs_int64","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c){var d=b("useReStore")(),e=b("bs_curry")._2(b("MWChatOpenTabForUser.bs").useHook,void 0,c),f=e[0],g=b("MWChatOpenTabForPage.bs").useHook(void 0,c),i=b("MWLSActor.bs").useActor(void 0),j=h.useMemo(function(){return new(b("Promise"))(function(c,e){var f=(e=b("ReQL.bs")).mergeJoin(e.filter(e.getKeyRange(e.fromTableAscending(d.table("participants")),{hd:a,tl:0}),function(a){return b("bs_caml").i64_neq(a.contactId,i)}),e.fromTableAscending(d.table("contacts"))),g={contents:function(a){}};g.contents=b("SortedAsyncIterable.bs").subscribe(f,function(a,d){if(typeof d==="number")return;a=d._0[1];if(b("bs_caml").i64_ge(a.authorityLevel,b("LSAuthorityLevel.bs").authoritative)){b("bs_curry")._1(g.contents,void 0);return c(a)}});b("promiseDone")(e.first(f),function(e){if(e!==void 0){e=e[1];if(b("bs_caml").i64_ge(e.authorityLevel,b("LSAuthorityLevel.bs").authoritative)){b("bs_curry")._1(g.contents,void 0);return c(e)}else return}b("promiseDone")(b("LSTransaction.bs").run(d,function(c){return b("LSVerifyThreadRowExists")(a,b("MessagingThreadType.bs").oneToOne,b("LSDatabaseType.bs").mailbox,b("LS.bs").make(c))},"readWrite"),void 0,void 0)})})},[a,d]);return h.useCallback(function(c){b("promiseDone")(j,function(c){var d=b("FBID.bs").ofStringExn(b("bs_int64").to_string(a));c=c.contactType;if(b("bs_caml").i64_eq(c,b("LSContactType.bs").page))return g(d,!1);else return f(d,!1)})},[j,f,g,a])}f.useHook=a}),null);
__d("MDSMWChatHeaderDetailsSubtitleIcons.bs",["MDSBellCrossSvgIcon.bs","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={container:{display:"pq6dq46d",marginStart:"p4pngsff",opacity:"lupvgy83"}};function a(a){return i.jsx("span",{className:(h||(h=b("stylex")))(j.container),children:i.jsx(b("MDSBellCrossSvgIcon.bs").make,{color:"black",size:"16"})})}c={styles:j,icon:a};f.Muted=c}),null);
__d("MDSMWChatRTCButtonIcons.bs",["react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={isActive:{fill:"p5kwug6e"},container:{alignItems:"bp9cbjyn",display:"j83agx80",height:"tv7at329",justifyContent:"taijpn5t",position:"l9j0dhe7",width:"thwo4zme"},dot:{start:"j9ispegn",position:"pmk7jnqg",top:"kr520xx4"}};function a(a,c){return i.jsxs("div",{className:(h||(h=b("stylex")))(j.container),children:[i.jsx("svg",{className:h(j.dot),role:"presentation",fill:a,width:"36px",height:"36px",viewBox:"0 0 36 36"}),i.jsx("svg",{role:"presentation",fill:a,width:"30px",height:"30px",viewBox:"0 0 36 36",children:i.jsx("path",{d:"M25.753 28.2c1.07-.357 1.816-1.275 2.423-2.225a2.05 2.05 0 00.037-2.151 4.998 4.998 0 00-.723-.963 11.594 11.594 0 00-2.888-2.112c-.58-.299-1.272-.212-1.808.159l-2.098 1.452a.472.472 0 01-.437.055 11.557 11.557 0 01-4.045-2.63 11.554 11.554 0 01-2.63-4.044.472.472 0 01.056-.437l1.453-2.098c.37-.536.457-1.228.158-1.807A11.587 11.587 0 0013.14 8.51a4.995 4.995 0 00-.963-.723 2.05 2.05 0 00-2.15.037c-.951.607-1.87 1.353-2.225 2.424-1.174 3.527 1.187 8.461 5.338 12.613 4.152 4.151 9.086 6.512 12.614 5.338z"})})]})}e={icon:a};function c(a,c,d){c=d!==void 0?d:!1;return i.jsxs("div",{className:(h||(h=b("stylex")))(j.container),children:[i.jsx("svg",{className:h(j.dot),role:"presentation",fill:a,width:"36px",height:"36px",viewBox:"0 0 36 36",children:c?i.jsx("circle",{cx:"38",cy:"20",r:"2",className:(h||(h=b("stylex")))(j.isActive)}):null}),i.jsx("svg",{role:"presentation",fill:a,width:"34px",height:"34px",viewBox:"0 0 36 36",children:i.jsx("path",{d:"M9 9.5a4 4 0 00-4 4v9a4 4 0 004 4h10a4 4 0 004-4v-9a4 4 0 00-4-4H9zm16.829 12.032l3.723 1.861A1 1 0 0031 22.5v-9a1 1 0 00-1.448-.894l-3.723 1.861A1.5 1.5 0 0025 15.81v4.38a1.5 1.5 0 00.829 1.342z"})})]})}a={icon:c};function d(a,b){if(b)return i.jsx("svg",{role:"presentation",fill:a,width:"28px",height:"28px",viewBox:"0 0 36 36",children:i.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 29C24.0751 29 29 24.0751 29 18C29 11.9249 24.0751 7 18 7C11.9249 7 7 11.9249 7 18C7 24.0751 11.9249 29 18 29ZM19.5 18C19.5 18.8284 18.8284 19.5 18 19.5C17.1716 19.5 16.5 18.8284 16.5 18C16.5 17.1716 17.1716 16.5 18 16.5C18.8284 16.5 19.5 17.1716 19.5 18ZM23 19.5C23.8284 19.5 24.5 18.8284 24.5 18C24.5 17.1716 23.8284 16.5 23 16.5C22.1716 16.5 21.5 17.1716 21.5 18C21.5 18.8284 22.1716 19.5 23 19.5ZM14.5 18C14.5 18.8284 13.8284 19.5 13 19.5C12.1716 19.5 11.5 18.8284 11.5 18C11.5 17.1716 12.1716 16.5 13 16.5C13.8284 16.5 14.5 17.1716 14.5 18Z",fill:a})});else return i.jsxs("svg",{role:"presentation",fill:a,width:"28px",height:"28px",viewBox:"0 0 36 36",children:[i.jsx("path",{d:"M12.5 18C12.5 19.2426 11.4926 20.25 10.25 20.25C9.00736 20.25 8 19.2426 8 18C8 16.7574 9.00736 15.75 10.25 15.75C11.4926 15.75 12.5 16.7574 12.5 18Z",fill:a}),i.jsx("path",{d:"M20.25 18C20.25 19.2426 19.2426 20.25 18 20.25C16.7574 20.25 15.75 19.2426 15.75 18C15.75 16.7574 16.7574 15.75 18 15.75C19.2426 15.75 20.25 16.7574 20.25 18Z",fill:a}),i.jsx("path",{d:"M25.75 20.25C26.9926 20.25 28 19.2426 28 18C28 16.7574 26.9926 15.75 25.75 15.75C24.5074 15.75 23.5 16.7574 23.5 18C23.5 19.2426 24.5074 20.25 25.75 20.25Z",fill:a})]})}c={icon:d};f.styles=j;f.$$Audio=e;f.Video=a;f.Info=c}),null);
__d("LSGenerateTraceId.bs",["LSRequestId.bs","gkx","killswitch"],(function(a,b,c,d,e,f){"use strict";function a(a){if(!b("killswitch")("MESSENGER_WEB_DATA_TRACE_ID")&&b("gkx")("1951030"))return b("LSRequestId.bs").generate(void 0)}f.make=a}),null);
__d("MWChatComposerVoiceIndicator.bs",["fbt","CurrentUser","MDSText.react","MDSTextPairing.react","getTopMostRoute","react","stylex","useCometRouterState"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{borderTop:"opwvks06",color:"m9osqain",marginTop:"n1l5q3vz",marginEnd:"ad2k81qe",marginBottom:"oygrvhab",marginStart:"f9o22wc5",paddingTop:"l29c1vbm",paddingEnd:"dpri0uem",paddingBottom:"ae35evdt",paddingStart:"pcu7st4i"}};function a(a){a=a.forceShown_TEST_ONLY;a=a!==void 0?a:!1;var c=b("useCometRouterState")(),d;if(c==null)d=!1;else{c=b("getTopMostRoute")(c).tracePolicy;d=c!==void 0?c.startsWith("comet.page.admin")||c.startsWith("comet.group.admin"):!1}c=b("CurrentUser").getName();c=g._(/*FBT_CALL*/"\u4f60\u6b63\u5728\u4f7f\u7528\u4e2a\u4eba\u5e10\u6237\u201c{full name}\u201d\u53d1\u6d88\u606f"/*FBT_CALL*/,[g._param("full name",j.jsx(b("MDSText.react"),{type:"meta2",children:c}))]);if(d||a)return j.jsx("div",{className:(i||(i=b("stylex")))(k.root),children:j.jsx(b("MDSTextPairing.react"),{body:j.jsx(b("MDSText.react"),{align:"center",color:"secondary",type:"body4",children:c}),level:4,textAlign:"center"})});else return null}c=a;f.styles=k;f.make=c}),null);
__d("MWChatHotlikeEmitter.bs",["bs_curry"],(function(a,b,c,d,e,f){"use strict";var g={contents:0};function a(a){var c=new Map();return{notify:function(a){c.forEach(function(d,c,e){return b("bs_curry")._1(d,a)})},subscribe:function(a){var b=g.contents;g.contents=g.contents+1|0;c.set(b,a);return function(a){return c["delete"](b)}}}}f.i=g;f.createEmitter=a}),null);
__d("MWUseAriaDescribedByForComposer.bs",["fbt","MWLSActor.bs","ReQL.bs","ReQLSubscription.bs","ReQLSuspense","bs_caml","intlList","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=b("useReStore")(),d=b("MWLSActor.bs").useActor(void 0),e=b("ReQLSubscription.bs").useArray(i.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("participants")),{hd:a.threadKey,tl:0}),function(a){return b("ReQLSuspense").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("contacts")),{hd:a.contactId,tl:0}))})},[c,JSON.stringify(a.threadKey)]));return i.useMemo(function(){var c=a.threadName;if(c!==void 0)return g._(/*FBT_CALL*/"\u53d1\u6d88\u606f\u7ed9{name of conversation}"/*FBT_CALL*/,[g._param("name of conversation",c)]).toString();var f=[];e.forEach(function(a){if(a!==void 0&&b("bs_caml").i64_neq(a.id,d)){f.push(a.name);return}});c=b("intlList")(f,b("intlList").CONJUNCTIONS.AND,b("intlList").DELIMITERS.COMMA);return g._(/*FBT_CALL*/"\u53d1\u6d88\u606f\u7ed9{participant list}"/*FBT_CALL*/,[g._param("participant list",c)]).toString()},[JSON.stringify(a.threadKey),JSON.stringify(d)])}f.useHook=a}),null);
__d("MWChatComposerShareFileCallout.bs",["fbt","LSThreadAttributionStore.bs","bs_belt_Option","bs_caml_obj","bs_caml_option","bs_curry","bs_int64","react","useCometCallout","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function j(a){return b("bs_belt_Option").mapWithDefault(a,!1,function(a){return b("bs_caml_obj").caml_equal(b("bs_caml_option").nullable_to_opt(b("LSThreadAttributionStore.bs").sources.get(b("bs_int64").to_string(a))),"eventShareClassMaterials")})}function a(a){return j(a)}function k(a,c){return b("useCometCallout")({align:"end",arrowStyle:"edge",label:g._(/*FBT_CALL*/"\u9009\u62e9\u6587\u4ef6\u6765\u5206\u4eab\u5230\u8bfe\u7a0b\u7fa4\u804a"/*FBT_CALL*/),type:"accent",onClose:function(a){return b("bs_curry")._1(c,function(a){return!1})},onHide:function(a){return b("bs_curry")._1(c,function(a){return!1})},position:"above"},a)}function c(a,c,d){var e=j(a);a=b("usePrevious")(e);var f=e&&b("bs_caml_obj").caml_notequal(a==null?void 0:b("bs_caml_option").some(a),!0);a=i.useState(function(){if(e)return c;else return!1});var g=a[1];i.useEffect(function(){c?f&&b("bs_curry")._1(g,function(a){return!0}):f&&(b("bs_curry")._1(d,void 0),setTimeout(function(a){return b("bs_curry")._1(g,function(a){return!0})},250))},[f,d,c]);return k(a[0],g)}f.isOpenedFromSharingEntrypoint=j;f.shouldShowOnLoad=a;f.useCallout=k;f.useHook=c}),null);
__d("MWChatComposerMentionsViewItem.react",["CometImageIcon_DEPRECATED.react","CometSearchMentionsBaseViewItem.react","TetraTextPairing.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b,d=a.entry;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry"]);var e=d.handle;e=d.key;e=d.label;var f=d.rawData,g=f.photoURI;f=f.subtitle;return h.jsx(c("CometSearchMentionsBaseViewItem.react"),babelHelpers["extends"]({},a,{entry:d,children:h.jsxs("div",{className:"b38knevg j83agx80 bp9cbjyn","data-testid":void 0,children:[g!=null&&h.jsx("div",{className:"ciadx1gn mudddibn",children:h.jsx(c("CometImageIcon_DEPRECATED.react"),{size:28,src:g,style:"circle"})}),h.jsx("div",{className:"ozuftl9m",children:h.jsx(c("TetraTextPairing.react"),{body:e,bodyLineLimit:1,level:3,meta:f,metaLineLimit:1})})]})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("remove-accents-0.4.2",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){var a={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\u1ea4":"A","\u1eae":"A","\u1eb2":"A","\u1eb4":"A","\u1eb6":"A","\xc6":"AE","\u1ea6":"A","\u1eb0":"A","\u0202":"A","\xc7":"C","\u1e08":"C","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\u1ebe":"E","\u1e16":"E","\u1ec0":"E","\u1e14":"E","\u1e1c":"E","\u0206":"E","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\u1e2e":"I","\u020a":"I","\xd0":"D","\xd1":"N","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\u1ed0":"O","\u1e4c":"O","\u1e52":"O","\u020e":"O","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xdd":"Y","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\u1ea5":"a","\u1eaf":"a","\u1eb3":"a","\u1eb5":"a","\u1eb7":"a","\xe6":"ae","\u1ea7":"a","\u1eb1":"a","\u0203":"a","\xe7":"c","\u1e09":"c","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\u1ebf":"e","\u1e17":"e","\u1ec1":"e","\u1e15":"e","\u1e1d":"e","\u0207":"e","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\u1e2f":"i","\u020b":"i","\xf0":"d","\xf1":"n","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\u1ed1":"o","\u1e4d":"o","\u1e53":"o","\u020f":"o","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xfd":"y","\xff":"y","\u0100":"A","\u0101":"a","\u0102":"A","\u0103":"a","\u0104":"A","\u0105":"a","\u0106":"C","\u0107":"c","\u0108":"C","\u0109":"c","\u010a":"C","\u010b":"c","\u010c":"C","\u010d":"c","C\u0306":"C","c\u0306":"c","\u010e":"D","\u010f":"d","\u0110":"D","\u0111":"d","\u0112":"E","\u0113":"e","\u0114":"E","\u0115":"e","\u0116":"E","\u0117":"e","\u0118":"E","\u0119":"e","\u011a":"E","\u011b":"e","\u011c":"G","\u01f4":"G","\u011d":"g","\u01f5":"g","\u011e":"G","\u011f":"g","\u0120":"G","\u0121":"g","\u0122":"G","\u0123":"g","\u0124":"H","\u0125":"h","\u0126":"H","\u0127":"h","\u1e2a":"H","\u1e2b":"h","\u0128":"I","\u0129":"i","\u012a":"I","\u012b":"i","\u012c":"I","\u012d":"i","\u012e":"I","\u012f":"i","\u0130":"I","\u0131":"i","\u0132":"IJ","\u0133":"ij","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u1e30":"K","\u1e31":"k","K\u0306":"K","k\u0306":"k","\u0139":"L","\u013a":"l","\u013b":"L","\u013c":"l","\u013d":"L","\u013e":"l","\u013f":"L","\u0140":"l","\u0141":"l","\u0142":"l","\u1e3e":"M","\u1e3f":"m","M\u0306":"M","m\u0306":"m","\u0143":"N","\u0144":"n","\u0145":"N","\u0146":"n","\u0147":"N","\u0148":"n","\u0149":"n","N\u0306":"N","n\u0306":"n","\u014c":"O","\u014d":"o","\u014e":"O","\u014f":"o","\u0150":"O","\u0151":"o","\u0152":"OE","\u0153":"oe","P\u0306":"P","p\u0306":"p","\u0154":"R","\u0155":"r","\u0156":"R","\u0157":"r","\u0158":"R","\u0159":"r","R\u0306":"R","r\u0306":"r","\u0212":"R","\u0213":"r","\u015a":"S","\u015b":"s","\u015c":"S","\u015d":"s","\u015e":"S","\u0218":"S","\u0219":"s","\u015f":"s","\u0160":"S","\u0161":"s","\u0162":"T","\u0163":"t","\u021b":"t","\u021a":"T","\u0164":"T","\u0165":"t","\u0166":"T","\u0167":"t","T\u0306":"T","t\u0306":"t","\u0168":"U","\u0169":"u","\u016a":"U","\u016b":"u","\u016c":"U","\u016d":"u","\u016e":"U","\u016f":"u","\u0170":"U","\u0171":"u","\u0172":"U","\u0173":"u","\u0216":"U","\u0217":"u","V\u0306":"V","v\u0306":"v","\u0174":"W","\u0175":"w","\u1e82":"W","\u1e83":"w","X\u0306":"X","x\u0306":"x","\u0176":"Y","\u0177":"y","\u0178":"Y","Y\u0306":"Y","y\u0306":"y","\u0179":"Z","\u017a":"z","\u017b":"Z","\u017c":"z","\u017d":"Z","\u017e":"z","\u017f":"s","\u0192":"f","\u01a0":"O","\u01a1":"o","\u01af":"U","\u01b0":"u","\u01cd":"A","\u01ce":"a","\u01cf":"I","\u01d0":"i","\u01d1":"O","\u01d2":"o","\u01d3":"U","\u01d4":"u","\u01d5":"U","\u01d6":"u","\u01d7":"U","\u01d8":"u","\u01d9":"U","\u01da":"u","\u01db":"U","\u01dc":"u","\u1ee8":"U","\u1ee9":"u","\u1e78":"U","\u1e79":"u","\u01fa":"A","\u01fb":"a","\u01fc":"AE","\u01fd":"ae","\u01fe":"O","\u01ff":"o","\xde":"TH","\xfe":"th","\u1e54":"P","\u1e55":"p","\u1e64":"S","\u1e65":"s","X\u0301":"X","x\u0301":"x","\u0403":"\u0413","\u0453":"\u0433","\u040c":"\u041a","\u045c":"\u043a","A\u030b":"A","a\u030b":"a","E\u030b":"E","e\u030b":"e","I\u030b":"I","i\u030b":"i","\u01f8":"N","\u01f9":"n","\u1ed2":"O","\u1ed3":"o","\u1e50":"O","\u1e51":"o","\u1eea":"U","\u1eeb":"u","\u1e80":"W","\u1e81":"w","\u1ef2":"Y","\u1ef3":"y","\u0200":"A","\u0201":"a","\u0204":"E","\u0205":"e","\u0208":"I","\u0209":"i","\u020c":"O","\u020d":"o","\u0210":"R","\u0211":"r","\u0214":"U","\u0215":"u","B\u030c":"B","b\u030c":"b","\u010c\u0323":"C","\u010d\u0323":"c","\xca\u030c":"E","\xea\u030c":"e","F\u030c":"F","f\u030c":"f","\u01e6":"G","\u01e7":"g","\u021e":"H","\u021f":"h","J\u030c":"J","\u01f0":"j","\u01e8":"K","\u01e9":"k","M\u030c":"M","m\u030c":"m","P\u030c":"P","p\u030c":"p","Q\u030c":"Q","q\u030c":"q","\u0158\u0329":"R","\u0159\u0329":"r","\u1e66":"S","\u1e67":"s","V\u030c":"V","v\u030c":"v","W\u030c":"W","w\u030c":"w","X\u030c":"X","x\u030c":"x","Y\u030c":"Y","y\u030c":"y","A\u0327":"A","a\u0327":"a","B\u0327":"B","b\u0327":"b","\u1e10":"D","\u1e11":"d","\u0228":"E","\u0229":"e","\u0190\u0327":"E","\u025b\u0327":"e","\u1e28":"H","\u1e29":"h","I\u0327":"I","i\u0327":"i","\u0197\u0327":"I","\u0268\u0327":"i","M\u0327":"M","m\u0327":"m","O\u0327":"O","o\u0327":"o","Q\u0327":"Q","q\u0327":"q","U\u0327":"U","u\u0327":"u","X\u0327":"X","x\u0327":"x","Z\u0327":"Z","z\u0327":"z"},b=Object.keys(a).join("|"),c=new RegExp(b,"g"),d=new RegExp(b,"");b=function(b){return b.replace(c,function(b){return a[b]})};var e=function(a){return!!a.match(d)};g.exports=b;g.exports.has=e;g.exports.remove=b}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a}),null);
__d("remove-accents",["remove-accents-0.4.2"],(function(a,b,c,d,e,f){e.exports=b("remove-accents-0.4.2")()}),null);
__d("MWChatComposerMentionsTypeaheadDataSource",["fbt","CurrentUser","Promise","gkx","remove-accents"],(function(a,b,c,d,e,f,g,h){"use strict";var i=6;a=function(){function a(a,b){this.$1=[],this.$1=Array.from(a.values()).filter(function(a){return a.contactId!==c("CurrentUser").getID()}),this.$2=b}var d=a.prototype;d.bootstrap=function(){return};d.fetchCache=function(a){var b=this,d=a.query,e=[];this.$1.forEach(function(a){var c=a.actualName,f=a.contactId,g=a.nickname,h=a.profilePictureUrl;a=a.secondaryName;var i=null;a!=null&&b.$3(a,d)?i="secondaryName":b.$3(c,d)?i="name":g!=null&&b.$3(g,d)&&(i="nickname");if(i!=null&&h!=null){var j;e.push({decorType:"regular",handle:(j=a)!=null?j:i==="nickname"?(j=g)!=null?j:c:c,key:f+" "+i,label:c,rawData:{photoURI:h,source:i,subtitle:(j=a)!=null?j:g}})}});if(c("gkx")("1608686")){var f=h._(/*FBT_CALL*/"\u6240\u6709\u4eba"/*FBT_CALL*/).toString();if(this.$3(f,d)){var g=h._(/*FBT_CALL*/"\u63d0\u53ca\u6240\u6709\u4eba"/*FBT_CALL*/).toString();e.push({decorType:"regular",handle:f,key:""+this.$2,label:f,rawData:{source:"all",subtitle:g}})}f=h._(/*FBT_CALL*/"\u6240\u6709\u5728\u7ebf\u6210\u5458"/*FBT_CALL*/).toString();if(this.$3(f,d)){g=h._(/*FBT_CALL*/"\u63d0\u53ca\u7fa4\u804a\u91cc\u7684\u6240\u6709\u5728\u7ebf\u6210\u5458"/*FBT_CALL*/).toString();e.push({decorType:"regular",handle:f,key:this.$2+"-active",label:f,rawData:{source:"all",subtitle:g}})}}e.length>i&&(e=e.slice(0,i));return{entries:e,params:a}};d.fetchNetwork=function(a){return b("Promise").resolve(this.fetchCache(a))};d.$3=function(a,b){if(b.length===0)return!0;var d=c("remove-accents")(b).toLowerCase();b=c("remove-accents")(a).toLowerCase();return b.split(" ").some(function(a){return a.startsWith(d)})||b.startsWith(d)};return a}();g["default"]=a}),98);
__d("useMWChatMentionsDataSourceResolverConfig",["MWChatComposerMentionsTypeaheadDataSource","createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport","react","useCometMentionsDataSourceResolverConfig"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo;function a(a){var b=a.participants,d=a.threadFBID;a=h(function(){return[{dataSource:new(c("MWChatComposerMentionsTypeaheadDataSource"))(b,d),matchStrategy:c("createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport")({minMatchLength:0})}]},[b,d]);return c("useCometMentionsDataSourceResolverConfig")(a,!0)}g["default"]=a}),98);
__d("MWLSMediaSendUtils.bs",["LS.bs","LSMarkSubJobCompletedV2","LSResumeMediaSendJob","bs_caml_format","bs_caml_int64","bs_caml_option"],(function(a,b,c,d,e,f){"use strict";var g=function(a){return a.toString()};function a(a,c,d,e,f,h,i){i=e!==void 0?b("bs_caml_option").valFromOption(e):void 0;e=f!==void 0?b("bs_caml_option").valFromOption(f):void 0;f=h!==void 0?b("bs_caml_option").valFromOption(h):void 0;return b("LSMarkSubJobCompletedV2")(c,b("bs_caml_format").caml_int64_of_string(g(d)),i!==void 0?b("bs_caml_option").valFromOption(i):void 0,e!==void 0?b("bs_caml_option").valFromOption(e):void 0,f!==void 0?b("bs_caml_option").valFromOption(f):void 0,b("LS.bs").make(a))}function c(a,c){return b("LSResumeMediaSendJob")(c,b("bs_caml_int64").zero,void 0,b("LS.bs").make(a))}f.castFbidFromNumber=g;f.markSubJobCompleted=a;f.resumeMediaSendJob=c}),null);
__d("AsyncUploadBase",["ArbiterMixin","AsyncRequest","AsyncResponse","BrowserSupport","Form","forEachObject","mixin","removeFromArray"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);b.parseFiles=function(a){var b={};c("forEachObject")(a,function(a,c){if(Array.isArray(a))b[c]=a;else{b[c]=[];if(a instanceof window.FileList)for(var d=0;d<a.length;d++)b[c].push(a.item(d));else(a instanceof window.File||a instanceof window.Blob)&&b[c].push(a)}});return b};function b(b){var c;c=a.call(this)||this;c._allowCrossOrigin=!1;c._allowCrossPageTransition=!1;c._customHeader={};c._inFlight=!1;c._limit=10;c._option={};c._preventDefaultErrorHandler=!1;c._suspended=!1;b&&c.setURI(b);c.setNetworkErrorRetryLimit(0);return c}var e=b.prototype;e.setAllowCrossOrigin=function(a){this._allowCrossOrigin=!!a;return this};e.setAllowCrossPageTransition=function(a){this._allowCrossPageTransition=!!a;return this};e.setCustomHttpHeader=function(a,b){this._customHeader[a]=b;return this};e.setData=function(a){this._data=a;return this};e.setOption=function(a,b){this._option[a]=b;return this};e.setPreventDefaultErrorHandler=function(a){this._preventDefaultErrorHandler=a;return this};e.setLimit=function(a){this._limit=a;return this};e.setNetworkErrorRetryLimit=function(a){this._retryLimit=a;return this};e.setPreprocessHandler=function(a){this._preprocessHandler=a;return this};e.setRelativeTo=function(a){this._relativeTo=a;return this};e.setStatusElement=function(a){this._statusElement=a;return this};e.setURI=function(a){this._uri=a;return this};e.suspend=function(){this._suspended=!0;return this};e.resume=function(){this._suspended=!1;this._processQueue();return this};e.isUploading=function(){return this._inFlight};e._createFileUpload=function(a,b,c){return new h(a,b,c)};e._processQueue=function(){if(this._suspended)return;while(this._pending.length<this._limit){if(!this._waiting.length)break;var a=this._waiting.shift(),b=this._preprocessHandler;b?b(a,this._processUpload.bind(this)):this._processUpload(a);this._pending.push(a)}};e._processUpload=function(a){var b=d("Form").createFormData(a.getData()||this._data);if(a.getFile()){b.append(a.getName(),a.getFile());var e=a.getFile().uploadID;e&&b.append("upload_id",e);a.getAdditionalData().forEach(function(a,c){return b.append(c,a)})}e=new(c("AsyncRequest"))().setAllowCrossOrigin(this._allowCrossOrigin).setAllowCrossPageTransition(this._allowCrossPageTransition).setURI(this._uri).setRawData(b).setStatusElement(this._statusElement).setHandler(this._success.bind(this,a)).setErrorHandler(this._failure.bind(this,a)).setUploadProgressHandler(this._progress.bind(this,a)).setInitialHandler(this._initial.bind(this,a));for(var f in this._option)e.setOption(f,this._option[f]);for(var f in this._customHeader)e.setRequestHeader(f,this._customHeader[f]);this._relativeTo&&e.setRelativeTo(this._relativeTo);e.send();a.setAsyncRequest(e);this._inFlight=!0;a.getRetryCount()||this.inform("start",a)};e._abort=function(a){this._pending.indexOf(a)!==-1&&(c("removeFromArray")(this._pending,a),this._processQueue()),c("removeFromArray")(this._waiting,a),a.abort()};e._initial=function(a){if(a.isAborted())return;this.inform("initial",a)};e._success=function(a,b){if(a.isAborted()){this.inform("success_after_abort",b);return}this._complete(a);this.inform("success",a.handleSuccess(b));this._processQueue()};e._retryUpload=function(a){a.increaseRetryCount(),this._processUpload(a)};e._failure=function(a,b){if(a.isAborted())return;if(b.error===1004&&a.getRetryCount()<(this._retryLimit||0))return this._retryUpload(a);this._complete(a);this.inform("failure",a.handleFailure(b))!==!1&&(this._preventDefaultErrorHandler||c("AsyncResponse").defaultErrorHandler(b));this._processQueue()};e._progress=function(a,b){if(a.isAborted())return;this.inform("progress",a.handleProgress(b))};e._complete=function(a){c("removeFromArray")(this._pending,a),this._pending.length||(this._inFlight=!1)};b.isSupported=function(){return d("BrowserSupport").hasFileAPI()};return b}(c("mixin")(c("ArbiterMixin")));var h=function(){function a(a,b,c){this._additionalData=new Map(),this._success=null,this._response=null,this._progressEvent=null,this._request=null,this._numRetries=0,this._aborted=!1,this._name=a,this._file=b,this._data=c}var b=a.prototype;b.getName=function(){return this._name};b.getFile=function(){return this._file};b.setFile=function(a){this._file=a};b.getData=function(){return this._data};b.getAdditionalData=function(){return this._additionalData};b.isComplete=function(){return this._success!==null};b.isSuccess=function(){return this._success===!0};b.getResponse=function(){return this._response};b.getProgressEvent=function(){return this._progressEvent};b.setAsyncRequest=function(a){this._request=a;return this};b.increaseRetryCount=function(){this._numRetries++;return this};b.getRetryCount=function(){return this._numRetries};b.isWaiting=function(){return!this._request};b.isAborted=function(){return this._aborted};b.abort=function(){this._request=null,this._aborted=!0};b.handleSuccess=function(a){this._success=!0;this._response=a;this._progressEvent=null;return this};b.handleFailure=function(a){this._success=!1;this._response=a;this._progressEvent=null;return this};b.handleProgress=function(a){this._progressEvent=a;return this};return a}();g["default"]=a}),98);
__d("AsyncUploadRequest",["AsyncUploadBase"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c._files=null,c._uploads=[],c._fileLessUpload=null,b)||babelHelpers.assertThisInitialized(c)}var d=b.prototype;d.setFiles=function(a){this._files=c("AsyncUploadBase").parseFiles(a);return this};d.setAlwaysReturnResponse=function(a){this._shouldAlwaysReturnResponse=a};d.abort=function(){var a=this;this._uploads.forEach(function(b){return a._abort(b)},this)};d.send=function(){var a=this;if(this._inFlight)return;this._inFlight=!0;this._uploads=[];for(var b in this._files)this._files[b].forEach(function(c){a._uploads.push(a._createFileUpload(b,c))});this._waiting=this._uploads.slice(0);this._pending=[];this._uploads.length?this._processQueue():(this._fileLessUpload=this._createFileUpload(null,null),this._processUpload(this._fileLessUpload))};d._processQueue=function(){a.prototype._processQueue.call(this);if(!this._pending.length&&!this._waiting.length){var b=this._uploads;b=this._shouldAlwaysReturnResponse?this._fileLessUpload!=null?{response:this._fileLessUpload.getResponse(),uploads:b}:{response:b[0].getResponse(),uploads:b}:b;this.inform("complete",b)}};b.isSupported=function(){return c("AsyncUploadBase").isSupported()};return b}(c("AsyncUploadBase"));g["default"]=a}),98);
__d("FileForm",["ArbiterMixin","AsyncRequest","AsyncResponse","AsyncUploadRequest","BehaviorsMixin","CurrentUser","DOMQuery","DataStore","Event","Form","JSONPTransport","Parent","URI","isElementNode","mixin","setTimeout","shield"],(function(a,b,c,d,e,f,g){function h(a){var b={};a=d("DOMQuery").scry(a,'input[type="file"]');a.forEach(function(a){b[a.name]=a.files});return b}function i(a){a=d("DOMQuery").scry(a,'input[type="file"]');a.forEach(function(a){a.files=null})}a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,e,f){var g;g=a.call(this)||this;g._handleSubmit=function(a){if(a.isDefaultPrevented()||a.getTarget()!==g._form)return;if(g.inform("submit")===!1){a.prevent();return}g.submit(a)};g.initial=function(a){return g.inform("initial",{upload:a})};if(b.getAttribute("rel")==="async")throw new Error("FileForm cannot be used with Primer forms.");if((b.getAttribute("method")||"").toUpperCase()!=="POST")throw new Error("FileForm must be used with POST forms.");g._form=b;g._previousEncoding=g._form.enctype;g._form.enctype=g._form.encoding="multipart/form-data";g._files=null;g._customHeader={};e&&g.enableBehaviors(e);g._options=f||{};g.setAllowCrossOrigin(g._options.allowCrossOrigin);g.setAllowCrossPageTransition(g._options.allowCrossPageTransition);g.setUploadInParallel(g._options.uploadInParallel);g.setConcurrentLimit(g._options.concurrentLimit);g.setPreprocessHandler(g._options.preprocessHandler);g.setNetworkErrorRetryLimit(g._options.networkErrorRetryLimit);g._listeners=[c("Event").listen(document.documentElement,"submit",g._handleSubmit),c("Event").listen(g._form,"click",g._click.bind(babelHelpers.assertThisInitialized(g)))];d("DataStore").set(g._form,"FileForm",babelHelpers.assertThisInitialized(g));return g}var e=b.prototype;e.getRoot=function(){return this._form};e.setAllowCrossOrigin=function(a){this._allowCrossOrigin=!!a;return this};e.setAllowCrossPageTransition=function(a){this._allowCrossPageTransition=!!a;return this};e.setUploadInParallel=function(a){this._uploadInParallel=!!a;return this};e.setConcurrentLimit=function(a){this._concurrentLimit=a;return this};e.setCustomHttpHeader=function(a,b){this._customHeader[a]=b;return this};e.setPreprocessHandler=function(a){this._preprocessHandler=a;return this};e.setNetworkErrorRetryLimit=function(a){this._retryLimit=a;return this};e.setFiles=function(a){this._files=a;return this};e.canUseXHR=function(){var a="FormData"in window;a&&(!new(c("URI"))(this._form.action).isSameOrigin()&&!this._allowCrossOrigin&&(a=!1));return a};e._click=function(a){a=a.getTarget();while(c("isElementNode")(a)){if(a.type==="submit"){this._clickTarget=a;c("setTimeout")(this._unclick.bind(this),0);break}a=a.parentNode}};e._unclick=function(){this._clickTarget=null};e._sendViaFrame=function(){var a=this._request=new(c("AsyncRequest"))();a.setStatusElement(this._getStatusElement());a.addStatusIndicator();a.setOption("useIframeTransport",!0);var b=a.handleResponse.bind(a);b=new(c("JSONPTransport"))("iframe",this._form.action,b);var d=b.getTransportFrame(),e=b.getRequestURI().addQueryData({__iframe:!0,__user:c("CurrentUser").getID()});this._form.setAttribute("action",e.toString());b.createContinuationForFileForm_DO_NOT_USE();this._form.setAttribute("target",d.name);a.setJSONPTransport(b);a.setURI(e);a.setHandler(this.success.bind(this,null));a.setErrorHandler(this.failure.bind(this,null));a.setInitialHandler(c("shield")(this.initial,this,null))};e._sendViaXHR=function(a){var b=this,e;if(this._uploadInParallel&&c("AsyncUploadRequest").isSupported()){e=new(c("AsyncUploadRequest"))().setPreprocessHandler(this._preprocessHandler).setData(d("Form").serialize(this._form,this._clickTarget)).setNetworkErrorRetryLimit(this._retryLimit);for(var f in this._customHeader)e.setCustomHttpHeader(f,this._customHeader[f]);this._concurrentLimit&&e.setLimit(this._concurrentLimit);this._files?e.setFiles(this._files):e.setFiles(h(this._form));var g=[e.subscribe("progress",function(a,c){b.progress(c,c.getProgressEvent())}),e.subscribe("initial",function(a,c){b.initial(c)}),e.subscribe("success",function(a,c){b.success(c,c.getResponse())}),e.subscribe("start",function(a,c){b.inform("start",{upload:c})}),e.subscribe("failure",function(a,c){b.failure(c,c.getResponse());return!1}),e.subscribe("complete",function(){while(g.length)g.pop().unsubscribe()})]}else{var f;(function(){var a,g=b._files;if(g){a=d("Form").createFormData(d("Form").serialize(b._form,b._clickTarget));g=c("AsyncUploadRequest").parseFiles(g);for(f in g){var h=g[f];h.length===1?a.append(f,h[0]):(f=f+"[]",h.forEach(function(b){a.append(f,b)}))}}else a=d("Form").createFormData(b._form,b._clickTarget);e=new(c("AsyncRequest"))().setRawData(a).setHandler(b.success.bind(b,null)).setErrorHandler(b.failure.bind(b,null)).setUploadProgressHandler(b.progress.bind(b,null)).setInitialHandler(c("shield")(b.initial,b,null));b.inform("start",{upload:null})})()}e.setAllowCrossOrigin(this._allowCrossOrigin).setAllowCrossPageTransition(this._allowCrossPageTransition).setRelativeTo(this._form).setStatusElement(this._getStatusElement()).setURI(this._form.action).send();this._request=e;a&&a.prevent()};e.forceSendViaXHR=function(){return this._sendViaXHR(null)};e.success=function(a,b){b={response:b,upload:a};this.inform("success",b)!==!1&&c("Event").fire(this._form,"success",b);this._cleanup()};e.failure=function(a,b){a={response:b,upload:a};this.inform("failure",a)!==!1&&(c("Event").fire(this._form,"error",a)!==!1&&c("AsyncResponse").defaultErrorHandler(b));this._cleanup()};e.progress=function(a,b){this.inform("progress",{event:b,upload:a})};e.abort=function(){this._request&&(this._request.abort(),this._cleanup())};e.clear=function(){i(this._form)};e.destroy=function(){this._cleanup();while(this._listeners&&this._listeners.length)this._listeners.pop().remove();this._listeners=null;this._form.enctype=this._form.encoding=this._previousEncoding;d("DataStore").remove(this._form,"FileForm")};e.submit=function(a){this.canUseXHR()?this._sendViaXHR(a):this._sendViaFrame()};e._cleanup=function(){this._request=null};e._getStatusElement=function(){return d("Parent").byClass(this._form,"stat_elem")||this._form};b.getInstance=function(a){return d("DataStore").get(a,"FileForm")};return b}(c("mixin")(c("ArbiterMixin"),c("BehaviorsMixin")));Object.assign(a,{EVENTS:["start","submit","initial","progress","success","failure"]});g["default"]=a}),98);
__d("FileInputUploader",["ArbiterMixin","DOM","DTSG","FileForm","Form","mixin"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this)||this;c._inputElem=b;c._data={};return c}var d=c.prototype;d.setInput=function(a){this._inputElem=a;return this};d.setURI=function(a){this._uri=a;return this};d.setData=function(a){this._data=a;return this};d.setPreprocessHandler=function(a){this._preprocessHandler=a;return this};d.setNetworkErrorRetryLimit=function(a){this._retryLimit=a;return this};d.setFiles=function(a){this._files=a;return this};d.setAllowCrossOrigin=function(a){this._allowCrossOrigin=!!a;return this};d.setAllowCrossPageTransition=function(a){this._allowCrossPageTransition=!!a;return this};d.setUploadInParallel=function(a){this._uploadInParallel=!!a;return this};d.setConcurrentLimit=function(a){this._concurrentLimit=a;return this};d.abort=function(){this._fileForm&&(this._fileForm.abort(),this._destroyFileForm())};d.send=function(){this._createForm();var a=this._inputElem&&!this._inputElem.parentElement;if(!a&&this._inputElem){var c=this._inputElem.cloneNode(!1);b("DOM").replace(this._inputElem,c)}this._inputElem&&b("DOM").appendContent(this._formElem,this._inputElem);b("DOM").appendContent(document.body,this._formElem);this._fileForm.submit();!a&&this._inputElem&&b("DOM").replace(c,this._inputElem);this._removeFormEl()};d._onFileFormEvent=function(a,b){(a==="success"||a==="failure")&&this._destroyFileForm();return this.inform(a,b)};d._createForm=function(){var a;this._destroyFileForm();this._formElem=b("DOM").create("form",{action:this._uri,method:"post"});this._fileForm=new(b("FileForm"))(this._formElem,null,{allowCrossOrigin:!!this._allowCrossOrigin,allowCrossPageTransition:!!this._allowCrossPageTransition,uploadInParallel:!!this._uploadInParallel,concurrentLimit:(a=this._concurrentLimit)!=null?a:0,preprocessHandler:(a=this._preprocessHandler)!=null?a:null,networkErrorRetryLimit:(a=this._retryLimit)!=null?a:0});this._files&&this._fileForm.setFiles(this._files);this._fileForm.subscribe(b("FileForm").EVENTS,this._onFileFormEvent.bind(this));b("Form").createHiddenInputs(babelHelpers["extends"]({fb_dtsg:b("DTSG").getToken()},this._data),this._formElem)};d._removeFormEl=function(){b("DOM").remove(this._formElem),this._formElem=null};d._destroyFileForm=function(){this._fileForm&&(this._fileForm.destroy(),this._fileForm=null)};return c}(b("mixin")(b("ArbiterMixin")));e.exports=a}),null);
__d("PhotosUploadID",[],(function(a,b,c,d,e,f){var g=1024;function a(){return(g++).toString()}f.getNewID=a}),66);
__d("ReactComposerMediaFilterUtils",["ComposerXNativeAudioUploadsConfig","VideoUploadConfig"],(function(a,b,c,d,e,f,g){function a(a){var b=h(a).length;a=i(a).length;return b>a}function b(a){return h(a).length>0}function d(a){return j(a).length>0}function h(a){return k(a,c("VideoUploadConfig").videoExtensions)}function i(a){var b={gif:!0};return k(a,b)}function j(a){return k(a,c("ComposerXNativeAudioUploadsConfig").audioExtensions)}function k(a,b){return a.filter(function(a){a=a.indexOf(".")!==-1?a.split(".").pop().toLowerCase():"";return b[a]})}g.hasEditableVideos=a;g.hasVideos=b;g.hasAudioFiles=d;g.filterVideos=h;g.filterNonEditableVideos=i;g.filterAudioFiles=j;g.filterFileOfSupportedType=k}),98);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("exif-js-2.3.0",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g},i;function j(){(function(){var a=!1,b=this,c=function(a){if(a instanceof c)return a;if(!(this instanceof c))return new c(a);this.EXIFwrapped=a};typeof g!=="undefined"?(typeof h!=="undefined"&&h.exports&&(g=h.exports=c),g.EXIF=c):b.EXIF=c;var d=c.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},e=c.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},f=c.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},j=c.IFD1Tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:"ResolutionUnit",513:"JpegIFOffset",514:"JpegIFByteCount",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite"},k=c.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};function l(a){return!!a.exifdata}function m(a,b){b||a.match(/^data\:([^\;]+)\;base64,/im)[1]||"";a=a.replace(/^data\:([^\;]+)\;base64,/gim,"");b=atob(a);a=b.length;var c=new ArrayBuffer(a),d=new Uint8Array(c);for(var e=0;e<a;e++)d[e]=b.charCodeAt(e);return c}function n(a,b){var c=new XMLHttpRequest();c.open("GET",a,!0);c.responseType="blob";c.onload=function(a){(this.status==200||this.status===0)&&b(this.response)};c.send()}function o(b,d){function e(a){var e=p(a);b.exifdata=e||{};e=q(a);b.iptcdata=e||{};if(c.isXmpEnabled){e=z(a);b.xmpdata=e||{}}d&&d.call(b)}if(b.src)if(/^data\:/i.test(b.src)){var f=m(b.src);e(f)}else if(/^blob\:/i.test(b.src)){var g=new FileReader();g.onload=function(a){e(a.target.result)};n(b.src,function(a){g.readAsArrayBuffer(a)})}else{var h=new XMLHttpRequest();h.onload=function(){if(this.status==200||this.status===0)e(h.response);else throw"Could not load image";h=null};h.open("GET",b.src,!0);h.responseType="arraybuffer";h.send(null)}else if(self.FileReader&&(b instanceof self.Blob||b instanceof self.File)){var g=new FileReader();g.onload=function(b){a&&!1,e(b.target.result)};g.readAsArrayBuffer(b)}}function p(b){var c=new DataView(b);a&&!1;if(c.getUint8(0)!=255||c.getUint8(1)!=216){a&&!1;return!1}var d=2;b=b.byteLength;var e;while(d<b){if(c.getUint8(d)!=255){a&&!1;return!1}e=c.getUint8(d+1);a&&!1;if(e==225){a&&!1;return y(c,d+4,c.getUint16(d+2)-2)}else d+=2+c.getUint16(d+2)}}function q(b){var c=new DataView(b);a&&!1;if(c.getUint8(0)!=255||c.getUint8(1)!=216){a&&!1;return!1}var d=2,e=b.byteLength,f=function(a,b){return a.getUint8(b)===56&&a.getUint8(b+1)===66&&a.getUint8(b+2)===73&&a.getUint8(b+3)===77&&a.getUint8(b+4)===4&&a.getUint8(b+5)===4};while(d<e){if(f(c,d)){var g=c.getUint8(d+7);g%2!==0&&(g+=1);g===0&&(g=4);var h=d+8+g;g=c.getUint16(d+6+g);return s(b,h,g);break}d++}}var r={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};function s(a,b,c){a=new DataView(a);var d={},e,f,g=b;while(g<b+c)a.getUint8(g)===28&&a.getUint8(g+1)===2&&(f=a.getUint8(g+2),f in r&&(e=a.getInt16(g+3),f=r[f],e=x(a,g+5,e),d.hasOwnProperty(f)?d[f]instanceof Array?d[f].push(e):d[f]=[d[f],e]:d[f]=e)),g++;return d}function t(b,c,d,e,f){var g=b.getUint16(d,!f),h={},i,j,k;for(k=0;k<g;k++)i=d+k*12+2,j=e[b.getUint16(i,!f)],!j&&a&&!1,h[j]=u(b,i,c,d,f);return h}function u(a,b,c,d,e){d=a.getUint16(b+2,!e);var f=a.getUint32(b+4,!e);c=a.getUint32(b+8,!e)+c;var g,h,i,j;switch(d){case 1:case 7:if(f==1)return a.getUint8(b+8,!e);else{d=f>4?c:b+8;g=[];for(i=0;i<f;i++)g[i]=a.getUint8(d+i);return g}case 2:d=f>4?c:b+8;return x(a,d,f-1);case 3:if(f==1)return a.getUint16(b+8,!e);else{d=f>2?c:b+8;g=[];for(i=0;i<f;i++)g[i]=a.getUint16(d+2*i,!e);return g}case 4:if(f==1)return a.getUint32(b+8,!e);else{g=[];for(i=0;i<f;i++)g[i]=a.getUint32(c+4*i,!e);return g}case 5:if(f==1){d=a.getUint32(c,!e);j=a.getUint32(c+4,!e);h=new Number(d/j);h.numerator=d;h.denominator=j;return h}else{g=[];for(i=0;i<f;i++)d=a.getUint32(c+8*i,!e),j=a.getUint32(c+4+8*i,!e),g[i]=new Number(d/j),g[i].numerator=d,g[i].denominator=j;return g}case 9:if(f==1)return a.getInt32(b+8,!e);else{g=[];for(i=0;i<f;i++)g[i]=a.getInt32(c+4*i,!e);return g}case 10:if(f==1)return a.getInt32(c,!e)/a.getInt32(c+4,!e);else{g=[];for(i=0;i<f;i++)g[i]=a.getInt32(c+8*i,!e)/a.getInt32(c+4+8*i,!e);return g}}}function v(a,b,c){var d=a.getUint16(b,!c);return a.getUint32(b+2+d*12,!c)}function w(a,b,c,d){c=v(a,b+c,d);if(!c)return{};else if(c>a.byteLength)return{};c=t(a,b,b+c,j,d);if(c.Compression)switch(c.Compression){case 6:if(c.JpegIFOffset&&c.JpegIFByteCount){d=b+c.JpegIFOffset;b=c.JpegIFByteCount;c.blob=new Blob([new Uint8Array(a.buffer,d,b)],{type:"image/jpeg"})}break;case 1:break;default:}else c.PhotometricInterpretation==2;return c}function x(a,b,c){var d="";for(var e=b;e<b+c;e++)d+=String.fromCharCode(a.getUint8(e));return d}function y(b,c){if(x(b,c,4)!="Exif"){a&&!1;return!1}var g,h,i,j;c=c+6;if(b.getUint16(c)==18761)g=!1;else if(b.getUint16(c)==19789)g=!0;else{a&&!1;return!1}if(b.getUint16(c+2,!g)!=42){a&&!1;return!1}var l=b.getUint32(c+4,!g);if(l<8){a&&!1;return!1}h=t(b,c,c+l,e,g);if(h.ExifIFDPointer){j=t(b,c,c+h.ExifIFDPointer,d,g);for(i in j){switch(i){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":j[i]=k[i][j[i]];break;case"ExifVersion":case"FlashpixVersion":j[i]=String.fromCharCode(j[i][0],j[i][1],j[i][2],j[i][3]);break;case"ComponentsConfiguration":j[i]=k.Components[j[i][0]]+k.Components[j[i][1]]+k.Components[j[i][2]]+k.Components[j[i][3]];break}h[i]=j[i]}}if(h.GPSInfoIFDPointer){j=t(b,c,c+h.GPSInfoIFDPointer,f,g);for(i in j){switch(i){case"GPSVersionID":j[i]=j[i][0]+"."+j[i][1]+"."+j[i][2]+"."+j[i][3];break}h[i]=j[i]}}h.thumbnail=w(b,c,l,g);return h}function z(b){if(!("DOMParser"in self))return;var c=new DataView(b);a&&!1;if(c.getUint8(0)!=255||c.getUint8(1)!=216){a&&!1;return!1}var d=2;b=b.byteLength;var e=new DOMParser();while(d<b-4)if(x(c,d,4)=="http"){var f=d-1,g=c.getUint16(d-2)-1;f=x(c,f,g);g=f.indexOf("xmpmeta>")+8;f=f.substring(f.indexOf("<x:xmpmeta"),g);g=f.indexOf("x:xmpmeta")+10;f=f.slice(0,g)+'xmlns:Iptc4xmpCore="http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tiff="http://ns.adobe.com/tiff/1.0/" xmlns:plus="http://schemas.android.com/apk/lib/com.google.android.gms.plus" xmlns:ext="http://www.gettyimages.com/xsltExtension/1.0" xmlns:exif="http://ns.adobe.com/exif/1.0/" xmlns:stEvt="http://ns.adobe.com/xap/1.0/sType/ResourceEvent#" xmlns:stRef="http://ns.adobe.com/xap/1.0/sType/ResourceRef#" xmlns:crs="http://ns.adobe.com/camera-raw-settings/1.0/" xmlns:xapGImg="http://ns.adobe.com/xap/1.0/g/img/" xmlns:Iptc4xmpExt="http://iptc.org/std/Iptc4xmpExt/2008-02-29/" '+f.slice(g);g=e.parseFromString(f,"text/xml");return B(g)}else d++}function A(a){var b={};if(a.nodeType==1){if(a.attributes.length>0){b["@attributes"]={};for(var c=0;c<a.attributes.length;c++){var d=a.attributes.item(c);b["@attributes"][d.nodeName]=d.nodeValue}}}else if(a.nodeType==3)return a.nodeValue;if(a.hasChildNodes())for(var d=0;d<a.childNodes.length;d++){c=a.childNodes.item(d);var e=c.nodeName;if(b[e]==null)b[e]=A(c);else{if(b[e].push==null){var f=b[e];b[e]=[];b[e].push(f)}b[e].push(A(c))}}return b}function B(a){try{var b={};if(a.children.length>0)for(var c=0;c<a.children.length;c++){var d=a.children.item(c),e=d.attributes;for(var f in e){var g=e[f],h=g.nodeName;g=g.nodeValue;h!==void 0&&(b[h]=g)}h=d.nodeName;if(typeof b[h]=="undefined")b[h]=A(d);else{if(typeof b[h].push=="undefined"){g=b[h];b[h]=[];b[h].push(g)}b[h].push(A(d))}}else b=a.textContent;return b}catch(a){}}c.enableXmp=function(){c.isXmpEnabled=!0};c.disableXmp=function(){c.isXmpEnabled=!1};c.getData=function(a,b){if((self.Image&&a instanceof self.Image||self.HTMLImageElement&&a instanceof self.HTMLImageElement)&&!a.complete)return!1;!l(a)?o(a,b):b&&b.call(a);return!0};c.getTag=function(a,b){if(!l(a))return;return a.exifdata[b]};c.getIptcTag=function(a,b){if(!l(a))return;return a.iptcdata[b]};c.getAllTags=function(a){if(!l(a))return{};var b;a=a.exifdata;var c={};for(b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);return c};c.getAllIptcTags=function(a){if(!l(a))return{};var b;a=a.iptcdata;var c={};for(b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);return c};c.pretty=function(a){if(!l(a))return"";var b;a=a.exifdata;var c="";for(b in a)a.hasOwnProperty(b)&&(typeof a[b]=="object"?a[b]instanceof Number?c+=b+" : "+a[b]+" ["+a[b].numerator+"/"+a[b].denominator+"]\r\n":c+=b+" : ["+a[b].length+" values]\r\n":c+=b+" : "+a[b]+"\r\n");return c};c.readFromBinaryFile=function(a){return p(a)};typeof i==="function"&&i.amd&&i("exif-js",[],function(){return c})}).call(this)}var k=!1;function l(){k||(k=!0,j());return h.exports}function a(a){switch(a){case void 0:return l()}}e.exports=a}),null);
__d("exif-js",["exif-js-2.3.0"],(function(a,b,c,d,e,f){e.exports=b("exif-js-2.3.0")()}),null);
__d("ImageExif",["exif-js"],(function(a,b,c,d,e,f){b("exif-js").enableXmp();function g(a){var b=function(b){return a.charCodeAt(b)&255};this.getByteAt=b;this.getShortAt=function(a,b){a=this.getSShortAt(a,b);return a>0?a:a+65536};this.getSShortAt=function(a,c){var d=b(a);a=b(a+1);return c?(d<<8)+a:(a<<8)+d};this.getLongAt=function(a,b){a=this.getSLongAt(a,b);return a>0?a:a+4294967296};this.getSLongAt=function(a,c){var d=b(a),e=b(a+1),f=b(a+2);a=b(a+3);return c?(((d<<8)+e<<8)+f<<8)+a:(((a<<8)+f<<8)+e<<8)+d};this.getStringAt=function(b,c){return a.substr(b,c)};this.getLength=function(){return a.length}}a={readFromFile:function(a,b){var c=this,d=new FileReader();d.addEventListener("load",function(a){a=a.target.result;a=a instanceof ArrayBuffer?c.readFromArrayBuffer(a):c.readFromBinaryString(a);b(a)},!1);window.DataView?d.readAsArrayBuffer(a):d.readAsBinaryString(a)},readFromBinaryString:function(a){return b("exif-js").readFromBinaryFile(new g(a))},readFromArrayBuffer:function(a){return b("exif-js").readFromBinaryFile(a)}};e.exports=a}),null);
__d("StringEncoding",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a=new Uint8Array(a);var c=0,d=[];while(c<a.length){var e=a[c],f=void 0;if(e>>7===0)f=1;else if(e>>5===6)e&=31,f=2;else if(e>>4===14)e&=15,f=3;else if(e>>3===30)e&=7,f=4;else if(e>>2===62)e&=3,f=5;else if(e>>1===126)e&=1,f=6;else throw new Error("Cannot decode as UTF-8 - unrecognised codepoint header");if(c+f>a.length)throw new Error("Cannot decode as UTF-8 - incomplete codepoint");for(var g=1;g<f;g++){var h=a[c+g];if(h>>6!==2)throw new Error("Cannot decode as UTF-8 - unrecognised codepoint subsequent byte");h&=63;e<<=6;e|=h}if(e>1114111)throw new Error("Cannot decode as UTF-8 - JavaScript doesn't support codepoints over 0x10FFFF");if(!e)switch(b){case"error":throw new Error("Cannot decode as UTF-8 - contains a null and we're not allowing them");case"ignore":continue;case"truncate":return String.fromCodePoint.apply(String,d);case"include":break}d.push(e);c+=f}return String.fromCodePoint.apply(String,d)}function g(a){return(a&255)<<8|a>>8}function b(a,b){if(a.byteLength%2!==0)throw new Error("Cannot decode as UTF-16 - data length mod 2 != 0");a=new Uint16Array(a);var c=0,d=[],e=!1;a[0]===65279?++c:a[0]==65534&&(++c,e=!0);while(c<a.length){var f=a[c];e&&(f=g(f));var h=f;if(f>55295&&f<57344){if((f&64512)!==55296)throw new Error("Cannot decode as UTF-16 - incorrect signature for high surrogate");if(c+1>=a.length)throw new Error("Cannot decode as UTF-16 - incomplete codepoint");++c;var i=a[c];e&&(i=g(i));if((i&64512)!==56320)throw new Error("Cannot decode as UTF-16 - incorrect signature for low surrogate");h=((f&1023)<<10|i&1023)+65536}if(!h)switch(b){case"error":throw new Error("Cannot decode as UTF-16 - contains a null and we're not allowing them");case"ignore":continue;case"truncate":return String.fromCodePoint.apply(String,d);case"include":break}d.push(h);++c}return String.fromCodePoint.apply(String,d)}function h(a){return(a&255)<<24|(a&255<<8)<<8|(a&255<<16)>>8|a>>>24}function c(a,b){if(a.byteLength%4!==0)throw new Error("Cannot decode as UTF-32 - data length mod 4 != 0");a=new Uint32Array(a);var c=0,d=[],e=!1;a[0]===65279?++c:a[0]==4294836224&&(++c,e=!0);while(c<a.length){var f=a[c];e&&(f=h(f));if(f&2147483648)throw new Error("Cannot decode as UTF-32 - invalid codepoint");if(f>1114111)throw new Error("Cannot decode as UTF-32 - JavaScript doesn't support codepoints over 0x10FFFF");if(!f)switch(b){case"error":throw new Error("Cannot decode as UTF-32 - contains a null and we're not allowing them");case"ignore":continue;case"truncate":return String.fromCodePoint.apply(String,d);case"include":break}d.push(f);++c}return String.fromCodePoint.apply(String,d)}var i={"utf-8":a,"utf-16":b,"utf-32":c};d=function(){function a(a,b){a?this.$1=a:this.$1=["utf-8","utf-16","utf-32"];b||(b="error");this.$2=b;for(var a=this.$1,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;this.$3(d)}}var b=a.prototype;b.getPrecedence=function(){return this.$1};b.decode=function(a){var b=[];for(var c=this.$1,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;f=this.$3(f);try{return f(a,this.$2)}catch(a){b.push(a)}}throw new Error(b.join(", "))};b.$3=function(a){var b=i[a];if(!b)throw new Error("Unknown encoding "+a);return b};return a}();f.Decoder=d}),66);
__d("ImageMetadata",["ImageExif","Promise","StringEncoding","emptyFunction","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";e=function(){function e(a){this.$4="",this.$6=a,this.$7=new Uint8Array(a),this.$8()}var f=e.prototype;f.$8=function(){var a=0;while(a<this.$7.length){a=this.$9(a);if(a===-1)return;var b=this.$7[a+1];b=h[b];if(!b)return;var c=b.length;c===void 0&&(c=this.$7[a+2]*256+this.$7[a+3]);this.$10(a,c,b);if(b.name==="SOS")return;a+=2+c}};f.$10=function(a,b,c){switch(c.name){case"APP1":this.$11(a+4,i)?(this.$1||(this.$1=a,this.$2=b),this.$12(a+4+i.length,b-2-i.length)):this.$11(a+4,j)?(this.$1=a,this.$2=b,this.$13(a+4+j.length,b-2-j.length)):this.$11(a+4,k)&&this.$14(a+4+k.length,b-2-k.length);break;case"SOF0":case"SOF1":case"SOF2":case"SOF3":case"SOF5":case"SOF6":case"SOF7":case"JPG":case"SOF9":case"SOF10":case"SOF11":case"SOF13":case"SOF14":case"SOF15":this.$15(a+4,b-2);break}};f.$15=function(a,b){b=this.$7[a+3]*256+this.$7[a+4];a=this.$7[a+1]*256+this.$7[a+2];b>0&&a>0&&(this.$5={x:b,y:a})};f.$12=function(a,b){a=emptyFunction;try{emptyFunction=c("emptyFunction");var e=d("ImageExif").readFromArrayBuffer(this.$6)||{}}finally{emptyFunction=a}b={};for(var a in e){var f=e[a];typeof f==="string"&&(f=f.trim());b[a.trim()]=f}this.$3=b};f.$13=function(a,b){var c=new(d("StringEncoding").Decoder)(null,"truncate");try{c=c.decode(this.$6.slice(a,a+b));this.$4=c}catch(a){return}};f.$14=function(a){};f.$11=function(a,b){var c=this;return b.split("").every(function(b){return c.$7[a++]===b.charCodeAt(0)})};f.$9=function(a){for(var a=a;a+1<this.$7.length;++a)if(this.$7[a]===255&&this.$7[a+1]!==0&&this.$7[a+1]!==255)return a;return-1};f.hasAPP1=function(){return Boolean(this.$1)};f.hasExif=function(){return Boolean(this.$3)};f.hasXMP=function(){return Boolean(this.$4)};f.hasSize=function(){return Boolean(this.$5)};f.getAPP1Location=function(){return!this.hasAPP1()?null:this.$1};f.getAPP1Length=function(){return!this.hasAPP1()?null:this.$2};f.getExif=function(){if(!this.$3)throw new Error("Image has no Exif data");return this.$3};f.getXMPString=function(){return this.$4};f.getSize=function(){if(!this.$5)throw new Error("Could not find size data?!");return this.$5};f.getBufferLength=function(){if(!this.$6)throw new Error("Do not find buffer data!");return this.$6.byteLength};e.genMetadataFromBlob=function(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.t0=e;c.next=3;return b("regeneratorRuntime").awrap(e.$16(a));case 3:c.t1=c.sent;return c.abrupt("return",new c.t0(c.t1));case 5:case"end":return c.stop()}},null,this)};e.$16=function(c){return new(b("Promise"))(function(b,d){var e=new a.FileReader();e.onabort=d;e.onerror=d;e.onload=b;e.readAsArrayBuffer(c)})};return e}();var h=[];h[216]={name:"SOI",length:0};h[192]={name:"SOF0"};h[193]={name:"SOF1"};h[194]={name:"SOF2"};h[195]={name:"SOF3"};h[197]={name:"SOF5"};h[198]={name:"SOF6"};h[199]={name:"SOF7"};h[200]={name:"JPG"};h[201]={name:"SOF9"};h[202]={name:"SOF10"};h[203]={name:"SOF11"};h[205]={name:"SOF13"};h[206]={name:"SOF14"};h[207]={name:"SOF15"};h[196]={name:"DHT"};h[219]={name:"DQT"};h[221]={name:"DRI",length:2};h[218]={name:"SOS"};h[208]={name:"RST0",length:0};h[209]={name:"RST1",length:0};h[210]={name:"RST2",length:0};h[211]={name:"RST3",length:0};h[212]={name:"RST4",length:0};h[213]={name:"RST5",length:0};h[214]={name:"RST6",length:0};h[215]={name:"RST7",length:0};h[224]={name:"APP0"};h[225]={name:"APP1"};h[226]={name:"APP2"};h[227]={name:"APP3"};h[228]={name:"APP4"};h[229]={name:"APP5"};h[230]={name:"APP6"};h[231]={name:"APP7"};h[232]={name:"APP8"};h[233]={name:"APP9"};h[234]={name:"APP10"};h[235]={name:"APP11"};h[236]={name:"APP12"};h[237]={name:"APP13"};h[238]={name:"APP14"};h[239]={name:"APP15"};h[254]={name:"COM"};h[217]={name:"EOI",length:0};var i="Exif\0\0",j="http://ns.adobe.com/xap/1.0/\0",k="http://ns.adobe.com/xmp/extension/\0";g["default"]=e}),98);
__d("XAsyncRequest",["AsyncRequest"],(function(a,b,c,d,e,f,g){a=function(){function a(a){var b=this;this.setAllowCrossPageTransition=function(a){b.$1.setAllowCrossPageTransition(a);return b};this.$1=new(c("AsyncRequest"))(a)}var b=a.prototype;b.setURI=function(a){this.$1.setURI(a);return this};b.setOption=function(a,b){this.$1.setOption(a,b);return this};b.setMethod=function(a){this.$1.setMethod(a);return this};b.setData=function(a){this.$1.setData(a);return this};b.setHandler=function(a){this.$1.setHandler(a);return this};b.setPayloadHandler=function(a){this.setHandler(function(b){return a(b.payload)});return this};b.setErrorHandler=function(a){this.$1.setErrorHandler(a);return this};b.send=function(){this.$1.send();return this};b.abort=function(){this.$1.abort()};b.setReadOnly=function(a){this.$1.setReadOnly(a);return this};b.setAllowCrossOrigin=function(a){this.$1.setAllowCrossOrigin(a);return this};b.setAllowCredentials=function(a){this.$1.setAllowCredentials(a);return this};return a}();g["default"]=a}),98);
__d("XSphericalPhotoSphereMetadataAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/spherical_media/photo/metadata/",{})}),null);
__d("SphericalImageUtils",["ImageMetadata","Promise","XAsyncRequest","XSphericalPhotoSphereMetadataAsyncController"],(function(a,b,c,d,e,f,g){"use strict";var h=2048;d=function(){function d(){}d.genArrayBufferFromBlob=function(c){return new(b("Promise"))(function(b,d){if(a.FileReader){var e=new a.FileReader();e.onabort=d;e.onerror=d;e.onload=function(a){b(a.target.result)};e.readAsArrayBuffer(c)}else d(new Error("global.FileReader doesn't exit"))})};d.shouldCheckInServer=function(a){if(!a.hasExif()&&!a.hasXMP()||!a.hasSize())return!1;var b=a.getXMPString();if(this.getMayContainSphericalMetadata(b))return!0;var c=a.getSize(),d=c.x;c=c.y;if(Math.max(d,c)<h||d/c<2&&c/d<2)return!1;c=a.hasExif()?a.getExif():{};return b===""&&(!c.Make||!c.Model)?!1:!0};d.genPhotosphereMetadata=function(a){var d=this;return new(b("Promise"))(function(b,e){d.genArrayBufferFromBlob(a).done(function(a){try{var f=new(c("ImageMetadata"))(a);d.shouldCheckInServer(f)?d.genPhotosphereMetadataFromServer(f.hasSize()?f.getSize():{x:0,y:0},f.getXMPString(),f.hasExif()?f.getExif():{}).done(function(a){a=a.payload;b({photoSphereMetadata:a,imageMetadata:f})},e):b({})}catch(a){a.__manual=!0,e(a)}},e)})};d.genPhotosphereMetadataFromServer=function(a,d,e){var f=this;return new(b("Promise"))(function(b,g){new(c("XAsyncRequest"))(c("XSphericalPhotoSphereMetadataAsyncController").getURIBuilder().getURI()).setMethod("POST").setData({exif_string:f.getExifString(e),height:a.y,width:a.x,xmp:d}).setHandler(b).setErrorHandler(g).send()})};d.getExifString=function(a){return JSON.stringify(a,function(a,b){return a==="FocalLength"&&b.numerator&&b.denominator?b.numerator+"/"+b.denominator:b})};d.getMayContainSphericalMetadata=function(a){return a!==""&&a.indexOf("GPano:")>-1};return d}();g["default"]=d}),98);
__d("SphericalImage",["SphericalImageUtils","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h="ProjectionType";a=function(){function a(a){this.props=a}a.createFromBlob=function(a){var d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:e.next=2;return b("regeneratorRuntime").awrap(c("SphericalImageUtils").genPhotosphereMetadata(a));case 2:d=e.sent;return e.abrupt("return",new this(d));case 4:case"end":return e.stop()}},null,this)};var d=a.prototype;d.isSpherical=function(){return Boolean(this.props.photoSphereMetadata)};d.getImageMetadata=function(){return this.props.imageMetadata};d.getPhotoSphereMetadata=function(){return this.props.photoSphereMetadata};d.getSize=function(){return this.props.imageMetadata?this.props.imageMetadata.getSize():null};d.getBufferLength=function(){return this.props.imageMetadata?this.props.imageMetadata.getBufferLength():null};d.getProjectionType=function(){var a="";this.props.photoSphereMetadata&&this.props.photoSphereMetadata[h]&&(a=this.props.photoSphereMetadata[h]);return a};return a}();g["default"]=a}),98);
__d("SphericalPhotoUploadHelper",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return b&&Math.max(b.x,b.y)<=c||a==="cubestrip"?!1:!0}function b(a,b,c){return b==null||b<=c||a==="cubestrip"?!1:!0}f.shouldResize360=a;f.shouldRecompress360=b}),66);
__d("loadImageFromBlob",["Promise"],(function(a,b,c,d,e,f){function a(a){return new(b("Promise"))(function(b,c){var d=new Image();d.onload=function(){URL.revokeObjectURL(d.src),b(d)};d.onerror=function(a){URL.revokeObjectURL(d.src),c(a)};d.src=URL.createObjectURL(a)})}f["default"]=a}),66);
__d("XComposerPhotoUploader",["AsyncUploadRequest","FileInputUploader","PhotosMimeType","PhotosUploadID","Promise","ReactComposerMediaFilterUtils","SphericalImage","SphericalPhotoTypedConfig","SphericalPhotoUploadHelper","curry","emptyFunction","loadImageFromBlob","performanceNow","promiseDone","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h=a.URL||a.webkitURL||{};e=function(){function a(a){this.$20={},this.$2=a.uploadData||{},this.$1=a.uploadEndpoint,this.$3=a.retryLimit,this.$4=a.concurrentLimit,this.$5=a.resizer,this.$6=a.onUploadEnqueued||c("emptyFunction"),this.$7=a.onUploadsEnqueued||c("emptyFunction"),this.$8=a.onResizeStart||c("emptyFunction"),this.$11=a.onResizeProgress||c("emptyFunction"),this.$9=a.onResizeSuccess||c("emptyFunction"),this.$10=a.onResizeFailure||c("emptyFunction"),this.$12=a.onSphericalCheckFailure||c("emptyFunction"),this.$13=a.onSphericalCheckSuccess||c("emptyFunction"),this.$14=a.onUploadIsSpherical||c("emptyFunction"),this.$15=a.onUploadSent||c("emptyFunction"),this.$16=a.onUploadStart||c("emptyFunction"),this.$17=a.onUploadProgress||c("emptyFunction"),this.$18=a.onUploadSuccess||c("emptyFunction"),this.$19=a.onUploadFailure||c("emptyFunction")}var e=a.prototype;e.setUploadEndpoint=function(a){this.$1=a};e.setOption=function(a,b){this.$20[a]=b;return this};e.getUploadData=function(){return this.$2};e.setUploadData=function(a){this.$2=a};e.upload=function(a,b){var e=this;b||0;b=babelHelpers["extends"]({},this.$2);var f=null;if(!this.$21(a)){var g=d("PhotosUploadID").getNewID();a.uploadID=g;b.upload_id=g;this.$6({uploadID:g,fileName:a.value.split("/").pop().split("\\").pop(),fileURL:h.createObjectURL?h.createObjectURL(a):null})}else{f=Array.from(a.files);f=f.filter(function(a){return!d("ReactComposerMediaFilterUtils").hasVideos([a.name])});if(f.length===0)return;f.forEach(function(a){a.uploadID||(a.uploadID=d("PhotosUploadID").getNewID()),e.$6({uploadID:a.uploadID,fileName:a.name,isSpherical:!1,fileURL:h.createObjectURL?h.createObjectURL(a):null})})}this.$7();g=new(c("FileInputUploader"))(a).setURI(this.$1).setData(b).setAllowCrossOrigin(!0).setNetworkErrorRetryLimit(this.$3).setUploadInParallel(!0);f&&f.length>0&&(g.setFiles({farr:f}),this.$5?g.setPreprocessHandler(this.$22.bind(this)):g.setPreprocessHandler(this.$23.bind(this)),this.$4&&g.setConcurrentLimit(this.$4));g.subscribe("progress",function(b,c){return e.$17(e.$24(c,a),c)});g.subscribe("failure",function(b,c){return e.$19(e.$24(c,a),c,f)});g.subscribe("start",function(b,c){return e.$16(e.$24(c,a),c)});g.subscribe("success",function(b,c){return e.$18(e.$24(c,a),c)});try{g.send(),this.$15(a)}catch(a){throw a}};e.uploadFiles=function(a){var b=this;a=Array.from(a);var c=[];a.forEach(function(a){var e=d("PhotosUploadID").getNewID();a.uploadID||(a.uploadID=e);b.$6({fileName:a.name,fileURL:h.createObjectURL?h.createObjectURL(a):null,isSpherical:!1,uploadID:e});c.push(e)});a=this.getAsyncFileUploadRequest(a,c);a.send()};e.getAsyncFileUploadRequest=function(a,b,c){var d=this;c=this.$25(a,c);c.subscribe("start",function(c,e){c=(c=d.$24({upload:e},{}))!=null?c:d.$26(a,b,e);d.$16(c,{upload:e})});c.subscribe("progress",function(c,e){c=(c=d.$24({upload:e},{}))!=null?c:d.$26(a,b,e);d.$17(c,{upload:e,event:e.getProgressEvent()})});c.subscribe("success",function(c,e){c=(c=d.$24({upload:e},{}))!=null?c:d.$26(a,b,e);d.$18(c,{upload:e,response:e.getResponse()})});c.subscribe("failure",function(c,e){c=(c=d.$24({upload:e},{}))!=null?c:d.$26(a,b,e);return d.$19(c,{upload:e,response:e.getResponse()},a)});return c};e.getAsyncUploadRequest=function(a,b){var c=this;b=this.$25(a,b);b.subscribe("start",function(a,b){return c.$16(b.getFile().uploadID,{upload:b})});b.subscribe("progress",function(a,b){return c.$17(b.getFile().uploadID,{upload:b,event:b.getProgressEvent()})});b.subscribe("success",function(a,b){return c.$18(b.getFile().uploadID,{upload:b,response:b.getResponse()})});b.subscribe("failure",function(b,d){return c.$19(d.getFile().uploadID,{upload:d,response:d.getResponse()},a)});return b};e.$25=function(a,b){a=new(c("AsyncUploadRequest"))().setData(babelHelpers["extends"]({},b&&b.data,this.$2)).setFiles({farr:a}).setAllowCrossOrigin(!0).setURI(this.$1);(b==null?void 0:b.preventDefaultErrorHandler)&&a.setPreventDefaultErrorHandler(!0);this.$4&&a.setLimit(this.$4);this.$5&&a.setPreprocessHandler(this.$22.bind(this));for(var b in this.$20)a.setOption(b,this.$20[b]);return a};e.$26=function(a,b,c){c=c.getFile();a=a.indexOf(c);return b[a]};e.$24=function(a,b){if(a.upload)return a.upload.getFile().uploadID;else return b.uploadID};e.$23=function(a,d){var e=this;c("promiseDone")(function(){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(e.$27(a,d));case 2:return c.abrupt("return",c.sent);case 3:case"end":return c.stop()}},null,this)}())};e.$27=function(a,c){var d,e,f;return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:d=a.getFile();g.next=3;return b("regeneratorRuntime").awrap(this.$28(d));case 3:e=g.sent,f=a.getFile().uploadID,e&&e.isSpherical()?this.$14(e.isSpherical(),e,f):this.$14(!1,null,""),c(a);case 7:case"end":return g.stop()}},null,this)};e.$22=function(a,d){var e=this;c("promiseDone")(function(){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(e.$29(a,d));case 2:return c.abrupt("return",c.sent);case 3:case"end":return c.stop()}},null,this)}())};e.$28=function(a){var d,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:d=c("performanceNow")();f.prev=1;f.next=4;return b("regeneratorRuntime").awrap(c("SphericalImage").createFromBlob(a));case 4:e=f.sent;this.$13(a,c("performanceNow")()-d,e);return f.abrupt("return",e);case 9:f.prev=9;f.t0=f["catch"](1);this.$12(a,c("performanceNow")()-d);return f.abrupt("return",null);case 14:case"end":return f.stop()}},null,this,[[1,9]])};e.$30=function(a){return this.$31(this.$5.resizeBlob.bind(this.$5),a)};e.$32=function(a,b){b===void 0&&(b=c("SphericalPhotoTypedConfig").upload_size_limit);return this.$31(this.$5.resize360Blob.bind(this.$5),a,b)};e.$33=function(a){return c("loadImageFromBlob")(a).then(function(a){return{width:a.width,height:a.height}})};e.$31=function(a,d,e){var f=this,g=c("curry")(this.$11,d.uploadID),h=c("curry")(this.$8,d),i=function(){return f.$33(d).then(h)};return new(b("Promise"))(function(b,c){i(),a(d,function(a,d,e,f,g,h,i){a?c(a):e?b({originalWidth:f,originalHeight:g}):b({blob:d,originalWidth:f,originalHeight:g,outputWidth:h,outputHeight:i})},g,e)})};e.$29=function(a,e){var f,g,h,i,j,k,l,m,n,o,p,q,r;return b("regeneratorRuntime").async(function(s){while(1)switch(s.prev=s.next){case 0:f=a.getFile();g=this.$5.isEligible(f==null?void 0:f.size,f==null?void 0:f.type);if(!(!f||!d("PhotosMimeType").isJpeg(f.type)||!g)){s.next=7;break}this.$14(!1,null,"");f&&c("promiseDone")(this.$33(f).then(function(b){a.getAdditionalData().set("js_resized",!1).set("original_file_size",f.size).set("original_width",b==null?void 0:b.width).set("original_height",b==null?void 0:b.height).set("upload_width",b==null?void 0:b.width).set("upload_height",b==null?void 0:b.height)},c("emptyFunction")));e(a);return s.abrupt("return");case 7:h=c("performanceNow")();s.prev=8;k=null;s.next=12;return b("regeneratorRuntime").awrap(this.$28(f));case 12:k=s.sent;if(!(k&&k.isSpherical())){s.next=33;break}this.$14(!0,k,f.uploadID);l=k.getSize();m=c("SphericalPhotoTypedConfig").upload_size_limit;n=k.getProjectionType();o=!1;o=d("SphericalPhotoUploadHelper").shouldRecompress360(n,k.getBufferLength(),c("SphericalPhotoTypedConfig").upload_bytes_limit);p=d("SphericalPhotoUploadHelper").shouldResize360(n,l,m);if(!(l&&(p||o))){s.next=31;break}if(p){s.next=28;break}s.next=25;return b("regeneratorRuntime").awrap(this.$32(f,Math.max(l.x,l.y)-1));case 25:i=s.sent;s.next=31;break;case 28:s.next=30;return b("regeneratorRuntime").awrap(this.$32(f));case 30:i=s.sent;case 31:s.next=37;break;case 33:this.$14(!1,null,"");s.next=36;return b("regeneratorRuntime").awrap(this.$30(f));case 36:i=s.sent;case 37:i&&(i.blob!=null&&(j=i.blob,j.uploadID=f.uploadID,j.name=f.name,a.setFile(j)),a.getAdditionalData().set("js_resized",!0).set("original_file_size",f.size).set("original_width",i.originalWidth).set("original_height",i.originalHeight).set("upload_width",i.outputWidth).set("upload_height",i.outputHeight));q=j===null;a.getFile().filename=f.name;this.$9(f,j||f,q,c("performanceNow")()-h,a.getAdditionalData().get("original_width"),a.getAdditionalData().get("original_height"),a.getAdditionalData().get("upload_width"),a.getAdditionalData().get("upload_height"));s.next=48;break;case 43:s.prev=43,s.t0=s["catch"](8),r=c("performanceNow")()-h,this.$10(f,j||f,s.t0,r);case 48:e(a);case 49:case"end":return s.stop()}},null,this,[[8,43]])};e.$21=function(a){return!!a.files&&c("AsyncUploadRequest").isSupported()};return a}();g["default"]=e}),98);
__d("MWLSImagePostbackCtaHandler.bs",["ActorURI","FBID.bs","LS.bs","LSDict","LSInsertNewMediaSend","LSLocalApplyOptimisticMessageWithAttachments","LSMailboxType.bs","LSMarkSubJobCompletedV2","LSMessageReplySourceType.bs","LSMessageReplySourceTypeV2.bs","LSOptimisticSendMessage","LSResumeMediaSendJob","LSThreadAttributionStore.bs","LSThreadAttributionTypeUtil.bs","LSTransaction.bs","LSVec.bs","MWLSActor.bs","MWLSMediaSendUtils.bs","MWThreadKey.bs","MercuryConfig","MercuryLocalIDs","MessagingAttachmentType.bs","MessagingThreadType.bs","Promise","URI","XComposerPhotoUploader","bs_caml_array","bs_caml_format","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react");function j(a,c,d,e,f,g,h){var i=b("MercuryLocalIDs").generateOfflineThreadingID(void 0);return b("LSLocalApplyOptimisticMessageWithAttachments")(c,d,b("MessagingThreadType.bs").oneToOne,void 0,void 0,!1,void 0,void 0,b("LSMessageReplySourceType.bs").none,b("LSMessageReplySourceTypeV2.bs").none,void 0,b("LSVec.bs").make([b("LSDict").fromObject({attachment_fbid:i,offline_attachment_id:i,attachment_type:b("MessagingAttachmentType.bs").image,attachment_index:b("bs_caml_int64").zero,filename:"postback image.jpg",filesize:void 0,has_media:!0,has_xma:!1,playable_url:void 0,playable_url_mime_type:void 0,playable_duration_ms:void 0,preview_url:e,preview_url_mime_type:"image/jpeg ",mini_preview:void 0,preview_width:void 0,preview_height:void 0,xma_layout_type:void 0,xmas_template_type:void 0,cta1_title:void 0,cta2_title:void 0,cta3_title:void 0,image_url:void 0,action_url:void 0,title_text:void 0,subtitle_text:void 0,description_text:void 0,source_text:void 0,original_file_hash:void 0})]),void 0,b("LS.bs").make(a)).then(function(c){var e=c[0];return a.table("messages_optimistic_context").add({taskId:b("bs_caml_format").caml_int64_of_string(e),threadKey:d,offlineThreadingId:e,messageId:void 0,threadAttributionSource:g,externalAttachmentUrl:void 0,platformRef:void 0,platformToken:f,replySourceId:void 0,replySourceType:void 0,sendType:void 0,markThreadRead:!0,initiatingSource:void 0}).then(function(a){return b("Promise").resolve([e,i])})})}function a(a,c){var d=b("useReStore")(),e=b("MWLSActor.bs").useActor(void 0),f=b("MWThreadKey.bs").useIdMemoizedExn(void 0);return i.useMemo(function(){return function(g,i,k){var l=b("FBID.bs").ofStringExn(b("bs_int64").to_string(e)),m=function(a){var c=a[1],e=a[0],f=new(b("XComposerPhotoUploader"))({concurrentLimit:3,onUploadFailure:function(a,b){return!0},onUploadProgress:function(a,b){},onUploadStart:function(a){a=b("LSTransaction.bs").run(d,function(a){return b("LSInsertNewMediaSend")(c,e,b("bs_caml_int64").zero,b("MessagingAttachmentType.bs").image,!1,!1,!1,!1,b("LS.bs").make(a))},"readWrite");b("promiseDone")(a,void 0,void 0)},onUploadSuccess:function(a,f){a=b("bs_caml_array").get(f.response.payload.metadata,0);f=a.image_id;if(f===void 0)return;var g=b("bs_caml_option").valFromOption(f);a=b("LSTransaction.bs").run(d,function(a){return b("LSMarkSubJobCompletedV2")(c,b("bs_caml_format").caml_int64_of_string(b("MWLSMediaSendUtils.bs").castFbidFromNumber(g)),void 0,void 0,void 0,b("LS.bs").make(a)).then(function(c){return b("LSResumeMediaSendJob")(e,b("bs_caml_int64").zero,void 0,b("LS.bs").make(a))})},"readWrite");b("promiseDone")(a,void 0,void 0)},retryLimit:1,uploadEndpoint:new(b("ActorURI").create)(new(h||(h=b("URI")))(b("MercuryConfig").upload_url),l)});a=window.fetch(k).then(function(a){return a.blob()}).then(function(a){f.getAsyncUploadRequest([new File([a],"postback image.jpg",{type:"image/jpeg"})],void 0).send();return b("Promise").resolve(void 0)});b("promiseDone")(a,void 0,void 0)},n=b("LSThreadAttributionStore.bs").getSource(a,b("bs_int64").to_string(f)),o=b("LSThreadAttributionTypeUtil.bs").toLSThreadAttribution(n);n=b("LSTransaction.bs").run(d,function(a){return b("LSOptimisticSendMessage")(e,f,b("MessagingThreadType.bs").oneToOne,b("LSMailboxType.bs").messenger,g,g,!1,void 0,void 0,void 0,void 0,o,void 0,void 0,void 0,b("LSMessageReplySourceType.bs").none,b("LSMessageReplySourceTypeV2.bs").none,void 0,void 0,void 0,!0,!0,void 0,c!==void 0?b("bs_caml_option").valFromOption(c):void 0,void 0,b("LS.bs").make(a))},"readWrite").then(function(a){return b("LSTransaction.bs").run(d,function(a){return j(a,e,f,k,i,o,c).then(function(a){b("bs_curry")._1(m,a)})},"readWrite")});b("promiseDone")(n,void 0,void 0)}},[d,e,f])}f.usePostbackCtaHandler=a}),null);
__d("MWChatCustomerFeedbackFormDataQuery",["CometRelay","MWChatCustomerFeedbackFormDataQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e){b=d("CometRelay").fetchQuery(b,j,{formID:a}).toPromise().then(function(a){a&&e({firstScreen:a.messenger_feedback_form_data.first_screen,formId:a.messenger_feedback_form_data.form_id,pageId:a.messenger_feedback_form_data.page_id,privacy:a.messenger_feedback_form_data.privacy})});c("promiseDone")(b)},j=h!==void 0?h:h=b("MWChatCustomerFeedbackFormDataQuery.graphql");a=function(a,b,c){i(a,b,function(a){return c(a)})};g.fetch=a}),98);
__d("MWChatCustomerFeedbackStateQuery",["CometRelay","MWChatCustomerFeedbackStateQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e){b=d("CometRelay").fetchQuery(b,j,{formID:a}).toPromise().then(function(a){a&&e(a.messenger_feedback_form_state.form_state)});c("promiseDone")(b)},j=h!==void 0?h:h=b("MWChatCustomerFeedbackStateQuery.graphql");a=function(a,b,c){i(a,b,function(a){return c(a)})};g.fetch=a}),98);
__d("MWEncryptedBackupsExperimentationDestroy.bs",["LSTransaction.bs","MAWGating.bs","Promise","ReQL.bs","bs_caml","bs_caml_int64","bs_caml_option","bs_curry"],(function(a,b,c,d,e,f){"use strict";function g(a,c,d){return b("ReQL.bs").first(b("ReQL.bs").fromTableAscending(b("bs_curry")._1(c.call,a))).then(function(e){if(e===void 0)return b("Promise").resolve(void 0);var f=b("bs_caml_option").valFromOption(e);return b("LSTransaction.bs").run(a,function(a){return b("bs_curry")._1(c.call,a)["delete"](b("bs_curry")._1(d,f))},"readWrite")})}function a(a){if(b("MAWGating.bs").isShadowTestCleanupOnWebEnabled(void 0))return b("LSTransaction.bs").run(a,function(a){return b("ReQL.bs").first(b("ReQL.bs").fromTableAscending(a.table("secure_encrypted_backups_client_state"))).then(function(a){if(a===void 0)return b("Promise").resolve(b("bs_caml_int64").neg_one);a=a.backupTenancy;if(a!==void 0)return b("Promise").resolve(a);else return b("Promise").resolve(b("bs_caml_int64").neg_one)})},"readOnly").then(function(c){if(b("bs_caml").i64_eq(c,[0,2]))return g(a,{call:function(a){return a.table("secure_recovery_code_data")}},function(a){return{hd:a.taskId,tl:0}}).then(function(b){return g(a,{call:function(a){return a.table("secure_encrypted_backups_recovery_code_status")}},function(a){return{hd:a.pk,tl:0}})}).then(function(b){return g(a,{call:function(a){return a.table("secure_encrypted_backups_generated_recovery_code")}},function(a){return{hd:a.pk,tl:0}})}).then(function(b){return g(a,{call:function(a){return a.table("encrypted_backups_metadata")}},function(a){return{hd:a.backupId,tl:0}})}).then(function(b){return g(a,{call:function(a){return a.table("encrypted_backups_virtual_devices")}},function(a){return{hd:a.pk,tl:0}})}).then(function(b){return g(a,{call:function(a){return a.table("encrypted_backups")}},function(a){return{hd:a.pk,tl:0}})}).then(function(b){return g(a,{call:function(a){return a.table("secure_encrypted_backups_client_state")}},function(a){return{hd:a.backupId,tl:0}})});else return b("Promise").resolve(void 0)});else return b("Promise").resolve(void 0)}f.invoke=a}),null);
__d("MWLSGroupMembershipDialogTrigger.bs",["CometLazyDialogTrigger.react","JSResource","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){}function a(a){var c=a.children,d=h.useRef(null);return h.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("MWLSGroupMembershipDialog.react").__setRef("MWLSGroupMembershipDialogTrigger.bs"),dialogProps:{onClose:i},children:function(a){return b("bs_curry")._2(c,a,d)}})}c=a;f.onClose=i;f.make=c}),null);
__d("MWInboxDetailNullState.bs",["fbt","CometContentArea.react","TetraNullState.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){a=a.isCM;a=a!==void 0?a:!1;a=a?g._(/*FBT_CALL*/"\u672a\u9009\u62e9\u4efb\u4f55\u804a\u5929"/*FBT_CALL*/):g._(/*FBT_CALL*/"\u9009\u62e9\u804a\u5929\u6216\u53d1\u8d77\u65b0\u5bf9\u8bdd"/*FBT_CALL*/);return i.jsx(b("CometContentArea.react"),{hasNoRole:!0,verticalAlign:"middle",children:i.jsx(b("TetraNullState.react"),{headline:a})})}c=a;f.make=c}),null);
__d("MWCMInboxDetailUnjoinedState.bs",["GroupsCometJoinChatDialog.entrypoint","MWCMUseFolder.bs","MWInboxDetailNullState.bs","bs_int64","react","useCometDynamicEntryPointDialog"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.thread;a=a.wasPreviouslyJoined;var d=a!==void 0?a:!1,e=b("useCometDynamicEntryPointDialog")(b("GroupsCometJoinChatDialog.entrypoint"),void 0),f=c.threadKey;a=b("MWCMUseFolder.bs").useHook(c);var g=a!==void 0?a.fbGroupId:void 0;h.useEffect(function(){!d&&g!==void 0&&e({groupID:b("bs_int64").to_string(g),threadID:b("bs_int64").to_string(f)},function(a){})},[JSON.stringify(f),JSON.stringify(g)]);return h.jsx(b("MWInboxDetailNullState.bs").make,{isCM:!0})}c=a;f.make=c}),null);
__d("MAWInThreadBannerNuxReqCondWrapper.react",["deferredLoadComponent","nux:174","nux:201","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=b("nux:201")==null?void 0:b("nux:201")("www_armadillo_disappearing_messages_banner"),j=b("nux:174")==null?void 0:b("nux:174")("www_armadillo_education_receiving_nux"),k=c("deferredLoadComponent")(c("requireDeferred")("MWInThreadEncryptedBackupsVerifyDeviceNux.react").__setRef("MAWInThreadBannerNuxReqCondWrapper.react"));function a(a){if(j)return j(a);else if(!a.isGroup&&i)return i(a);return h.jsx(k,{})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWInThreadBannerNuxReqCondWrapper.bs",["LSMessagingThreadTypeUtil.bs","MAWChatJid.bs","MAWInThreadBannerNuxReqCondWrapper.react","MWLSActor.bs","ReQL.bs","ReQLSubscription.bs","bs_caml","bs_caml_option","bs_curry","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.thread;a=b("MAWChatJid.bs").useThreadJidCallback(c.threadKey);var d=b("LSMessagingThreadTypeUtil.bs").isGroup(c.threadType),e=b("useReStore")(),f=b("ReQLSubscription.bs").useArray(h.useMemo(function(){return b("ReQL.bs").take(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(e.table("contacts")),{hd:c.threadKey,tl:0}),2)},[e,JSON.stringify(c.threadKey)])),g=b("MWLSActor.bs").useActor(void 0),i=h.useMemo(function(){if(b("LSMessagingThreadTypeUtil.bs").isOneToOne(c.threadType))return b("bs_caml_option").undefined_to_opt(f.find(function(a){return b("bs_caml").i64_neq(a.id,g)}))},[JSON.stringify(g),f]);i=i!==void 0?i.name:void 0;return b("bs_curry")._1(b("MAWInThreadBannerNuxReqCondWrapper.react"),{getThreadJid:a,isGroup:d,otherUserFullName:i})}c=a;f.make=c}),null);
__d("LSUserControlButton.bs",["fbt","CometLazyPopoverTrigger.react","CometPressable.react","JSResource","LSContactType.bs","MWLSActor.bs","ReQL.bs","ReQLSubscription.bs","bs_caml","bs_curry","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function j(a){return i.jsx("svg",{width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.317298 13.767L5.37312 18.8229C5.79583 19.2461 6.48204 19.2461 6.90474 18.8229L17.016 8.7107C17.4391 8.28783 17.4391 7.60136 17.016 7.1785C16.593 6.75528 15.9071 6.75528 15.4841 7.1785L6.13875 16.5248L1.84928 12.2348C1.42622 11.8112 0.740361 11.8112 0.317298 12.2348C-0.105766 12.6576 -0.105766 13.3438 0.317298 13.767ZM23.6881 12.2778H22.5333V12.28H20.8008C20.3395 12.28 20.0644 12.7941 20.3201 13.1776L22.6306 16.6428C22.8592 16.9857 23.363 16.9857 23.5916 16.6428L25.9021 13.1776C26.1579 12.7941 25.8827 12.28 25.4214 12.28H23.6881V12.2778Z",fill:"white"})})}c={make:j};var k={button:{borderTopStartRadius:"cmek9o9a",borderTopEndRadius:"p7f4f6cj",borderBottomEndRadius:"c8oo3d72",borderBottomStartRadius:"r15kkdkt",display:"j83agx80",justifyContent:"taijpn5t",alignItems:"bp9cbjyn",width:"f8ljpb73"}};function l(a){var c=a.thread,d=a.color;return i.jsx(b("CometLazyPopoverTrigger.react"),{popoverResource:b("JSResource")("LSUserControlMenu.react").__setRef("LSUserControlButton.bs"),disableAutoFlip:!0,popoverProps:{thread:c},align:"end",position:"below",children:function(a,c,e,f,h,l,m){return i.jsx(b("CometPressable.react"),{"aria-label":g._(/*FBT_CALL*/"\u516c\u5171\u4e3b\u9875\u9009\u9879"/*FBT_CALL*/),ref:a,onPress:function(a){return b("bs_curry")._1(c,void 0)},overlayDisabled:!0,xstyle:function(a){return[k.button]},style:{backgroundColor:d},children:i.jsx(j,{})})}})}d={styles:k,make:l};function a(a){var c=a.thread;a=a.color;var d=b("useReStore")(),e=b("MWLSActor.bs").useActor(void 0),f=b("ReQLSubscription.bs").useFirst(i.useMemo(function(){var a;return(a=b("ReQL.bs")).mergeJoin(a.filter(a.getKeyRange(a.fromTableAscending(d.table("participants")),{hd:c.threadKey,tl:0}),function(a){return b("bs_caml").i64_neq(a.contactId,e)}),a.fromTableAscending(d.table("contacts")))},[d,JSON.stringify(c.threadKey),e]));if(f===void 0)return null;var g=f[1];if(b("bs_caml").i64_eq(g.contactType,b("LSContactType.bs").page))return i.jsx(l,{thread:c,contact:g,participant:f[0],color:a});else return null}e=a;f.Checkmark=c;f.UserControlButton=d;f.make=e}),null);
__d("MWInboxHeaderButton.bs",["MWChatRTCButtonIcons.bs","MWCircleButtonWithChildren.bs","MWTooltip.react","bs_caml_option","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=h.forwardRef(function(a,c){var d=a.children,e=a.testid,f=a.label,g=a.disabled,i=a.onPress;a=a.linkProps;g=g!==void 0?g:!1;d={children:d,label:f,disabled:g};e!==void 0&&(d.testid=b("bs_caml_option").valFromOption(e));i!==void 0&&(d.onPress=b("bs_caml_option").valFromOption(i));a!==void 0&&(d.linkProps_=b("bs_caml_option").valFromOption(a));g=c==null?void 0:b("bs_caml_option").some(c);g!==void 0&&(d.ref=b("bs_caml_option").valFromOption(g));return h.jsx(b("MWTooltip.react"),{tooltip:f,align:"middle",position:"below",children:h.jsx(b("MWCircleButtonWithChildren.bs").make,d)})});d={make:i};function j(a){var c=a.size;a=a.fill;return b("bs_curry")._2(b("MWChatRTCButtonIcons.bs").$$Audio.icon,a,c)}e={make:j};function a(a){var c=a.fill,d=a.label,e=a.disabled,f=a.onPress;a=e!==void 0?e:!1;return h.jsx(i,{children:h.jsx(j,{fill:c,size:"34px"}),testid:"startVoiceCall",label:d,disabled:a,onPress:function(a){return b("bs_curry")._1(f,void 0)}})}e={Icon:e,make:a};function k(a){var c=a.fill;a=a.size;return b("bs_curry")._3(b("MWChatRTCButtonIcons.bs").Video.icon,c,a,void 0)}a={make:k};function c(a){var c=a.fill,d=a.label,e=a.disabled,f=a.onPress;a=e!==void 0?e:!1;return h.jsx(i,{children:h.jsx(k,{fill:c,size:"34px"}),testid:"startVideoCall",label:d,disabled:a,onPress:function(a){return b("bs_curry")._1(f,void 0)}})}a={Icon:a,make:c};f.BaseButton=d;f.$$Audio=e;f.Video=a}),null);
__d("MWInboxHeaderJoinRoomButton.bs",["fbt","ix","CometPressable.react","MDSRow.react","MDSRowItem.react","MDSText.react","RoomsChatUserActionsFalcoEvent","TetraIcon.react","bs_belt_Option","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react"),k={button:{alignItems:"bp9cbjyn",backgroundColor:"jllm4f4h",borderTop:"gcieejh5",borderEnd:"bn081pho",borderBottom:"humdl8nn",borderStart:"izx4hr6d",borderTopStartRadius:"e72ty7fz",borderTopEndRadius:"qlfml3jp",borderBottomEndRadius:"inkptoze",borderBottomStartRadius:"qmr60zad",cursor:"nhd2j8a9",display:"j83agx80",flexDirection:"btwxx1t3",height:"mudddibn",justifyContent:"taijpn5t",paddingEnd:"n8tt0mok",paddingStart:"hyh9befq"}};function a(a){var c=a.linkHash,d=a.linkUrl,e=a.threadFbid;a=function(a){b("RoomsChatUserActionsFalcoEvent").log(function(){return{event:"button_tap",event_type:"header_video_button",extra_data:void 0,thread_fbid:e,funnel_session_id:void 0,link_hash:b("bs_belt_Option").mapWithDefault(c,"",function(a){return a}),chat_experience:void 0}})};return j.jsx(b("CometPressable.react"),{"aria-label":g._(/*FBT_CALL*/"\u52a0\u5165\u7545\u804a\u5ba4"/*FBT_CALL*/),linkProps:{target:"_blank",url:d},onPress:a,overlayDisabled:!0,xstyle:function(a){return[k.button]},children:j.jsxs(b("MDSRow.react"),{paddingHorizontal:8,paddingTop:0,verticalAlign:"center",expanding:!0,spacingHorizontal:8,children:[j.jsx(b("MDSRowItem.react"),{children:j.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(h("493172"),12),color:"white"})}),j.jsx(b("MDSRowItem.react"),{children:j.jsx(b("MDSText.react"),{color:"white",type:"bodyLink4",children:g._(/*FBT_CALL*/"\u52a0\u5165"/*FBT_CALL*/)})})]})})}c=a;f.styles=k;f.make=c}),null);
__d("MWRoomsLinkUtils.bs",["RoomsLinkUtils","bs_caml_option"],(function(a,b,c,d,e,f){"use strict";c={};function a(a){return b("bs_caml_option").nullable_to_opt(b("RoomsLinkUtils").getRoomsLinkHash(a))}f.RoomsLinkUtils=c;f.getRoomsLinkHash=a}),null);
__d("MWV2ChatRTCButtons.bs",["fbt","CometPressable.react","FBID.bs","LSContactBitOffset.bs","LSContactCapabilityBitOffset.bs","LSContactType.bs","LSMessagingThreadTypeUtil.bs","LSRtcCallState.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","MAWGating.bs","MWChatContactPresenceHook.bs","MWChatIsMessageRequest.bs","MWChatRTCButtonIcons.bs","MWLSActor.bs","MWLSFeatureLimitedStatus.bs","MWTooltip.react","MessagingThreadType.bs","Promise","RTCCallState.bs","ReQL.bs","ReQLSubscription.bs","ReQLSuspense","bs_belt_Option","bs_caml","bs_caml_array","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","bs_js_null_undefined","gkx","promiseDone","react","useRTWebCometStartCallCallback","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j="startVideoCall",k="startVoiceCall";function l(a,c,d,e){var f=b("useReStore")(),g=b("useRTWebCometStartCallCallback")();return i.useCallback(function(h){h=(h=b("ReQL.bs")).first(h.map(h.getKeyRange(h.fromTableAscending(f.table("rtc_ongoing_calls_on_threads_v2")),{hd:a.threadKey,tl:0}),function(a){return a.ongoingCallServerInfoData}));h=h.then(function(f){b("bs_curry")._1(c,void 0);g({existingCall:f!==void 0?{initiator_fbid:null,call_state:b("RTCCallState.bs").ofLsRtcCallState(a.ongoingCallState,a.threadType),server_info_data:b("bs_js_null_undefined").fromOption(b("bs_caml_option").valFromOption(f))}:null,mediaType:d,thread:{id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.threadKey)),type:b("bs_caml_int64").to_int32(a.threadType)},trigger:e});return b("Promise").resolve(void 0)});b("promiseDone")(h,void 0,void 0)},[f,g,JSON.stringify(a.threadKey),a.ongoingCallState,e,c])}function m(a){var c=b("useReStore")(),d=b("MWLSActor.bs").useActor(void 0),e=i.useMemo(function(){var e;return(e=b("ReQL.bs")).take(e.filter(e.getKeyRange(e.fromTableAscending(c.table("participants")),{hd:a.threadKey,tl:0}),function(a){return b("bs_caml").i64_neq(a.contactId,d)}),1)},[c,a.threadKey,JSON.stringify(d)]);e=b("ReQLSubscription.bs").useArray(e);return b("MWChatContactPresenceHook.bs").useHasActiveContact(e.map(function(a){return a.contactId}))}function n(a){var c=a.threadKey,d=b("useReStore")(),e=b("MWLSActor.bs").useActor(void 0);a=b("ReQLSubscription.bs").useArray(i.useMemo(function(){var a;return(a=b("ReQL.bs")).map(a.filter(a.take(a.getKeyRange(a.fromTableAscending(d.table("participants")),{hd:c,tl:0}),2),function(a){return b("bs_caml").i64_neq(a.contactId,e)}),function(a){return b("ReQLSuspense").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("contacts")),{hd:a.contactId,tl:0}))})},[d,JSON.stringify(c),JSON.stringify(e)]));var f;if(a.length!==1)f=!1;else{var g=a[0];f=g!==void 0?b("bs_caml").i64_eq(g.contactType,b("LSContactType.bs").page):!1}if(!f)return[!0,!0];g=!0;f=!0;for(var h=0,j=a.length;h<j;++h){var k=b("bs_caml_array").get(a,h);if(k!==void 0){var l=b("bs_belt_Option").getWithDefault(b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").rtcVoiceCall,k),!0);k=b("bs_belt_Option").getWithDefault(b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").rtcVideoCall,k),!0);g=g&&l;f=f&&k}}if(b("gkx")("1710932"))return[g,f];else return[!1,!1]}function o(a){var c=b("useReStore")(),d=b("MWLSActor.bs").useActor(void 0),e=b("bs_belt_Option").isSome(b("ReQLSubscription.bs").useFirst(i.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableDescending(c.table("messages_ranges_v2__generated")),{hd:a.threadKey,tl:0})},[c,JSON.stringify(a.threadKey)]))),f=b("bs_belt_Option").isSome(b("ReQLSubscription.bs").useFirst(i.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("participants")),{hd:a.threadKey,tl:{hd:d,tl:0}})},[c,JSON.stringify(a.threadKey),JSON.stringify(d)]))),g=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").rtcVoiceCall,a),h=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").rtcVideoCall,a),j=b("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType),k=b("MWLSFeatureLimitedStatus.bs").useIsReadOnlyFeatureLimited(void 0)&&(!j||b("MAWGating.bs").isFeatureLimitEnabled(void 0)),l=n(a),m=a.threadType;f=(b("bs_caml").i64_eq(m,b("MessagingThreadType.bs").group)||b("bs_caml").i64_eq(m,b("MessagingThreadType.bs").secureMessageOverWaGroup))&&f||b("bs_caml").i64_eq(m,b("MessagingThreadType.bs").oneToOne)||b("bs_caml").i64_eq(m,b("MessagingThreadType.bs").secureMessageOverWaOneToOne)?[g,h]:[!1,!1];m=b("MWChatIsMessageRequest.bs").fn(a.folderName);g=!m&&e&&!k&&(!j||b("gkx")("5709"));if(g)return[l[0]&&f[0],l[1]&&f[1]];else return[!1,!1]}function p(a){var c=a.onPress,d=a.label,e=a.icon,f=a.overlayDisabled,g=a.renderContainer;a=a.testid;c={"aria-label":d,onPress:c,overlayDisabled:f,overlayRadius:"50%",children:e};a!==void 0&&(c.testid=b("bs_caml_option").valFromOption(a));f=i.jsx(b("MWTooltip.react"),{tooltip:d,align:"middle",position:"above",children:i.jsx(b("CometPressable.react"),c)});if(g!==void 0)return b("bs_curry")._1(g,f);else return f}c={make:p};function q(a){var c=a.startAudioCall,d=a.fill,e=a.size,f=a.overlayDisabled;a=a.renderContainer;c={onPress:c,label:g._(/*FBT_CALL*/"\u5f00\u59cb\u8bed\u97f3\u901a\u8bdd"/*FBT_CALL*/),icon:b("bs_curry")._2(b("MWChatRTCButtonIcons.bs").$$Audio.icon,d,e),overlayDisabled:f,testid:k};a!==void 0&&(c.renderContainer=b("bs_caml_option").valFromOption(a));return i.jsx(p,c)}d={make:q};function r(a){var c=a.startVideoCall,d=a.fill,e=a.size,f=a.isActive,h=a.overlayDisabled;a=a.renderContainer;c={onPress:c,label:g._(/*FBT_CALL*/"\u5f00\u59cb\u89c6\u9891\u901a\u8bdd"/*FBT_CALL*/),icon:b("bs_curry")._3(b("MWChatRTCButtonIcons.bs").Video.icon,d,e,f),overlayDisabled:h,testid:j};a!==void 0&&(c.renderContainer=b("bs_caml_option").valFromOption(a));return i.jsx(p,c)}e={make:r};function s(a){var c=a.startVideoCall,d=a.startAudioCall,e=a.ongoingCallState,f=a.fill,h=a.size,j=a.overlayDisabled;a=a.renderContainer;if(b("bs_caml").i64_eq(e,b("LSRtcCallState.bs").noOngoingCall))return null;d={onPress:b("bs_caml").i64_eq(e,b("LSRtcCallState.bs").audioGroupCall)?d:b("bs_caml").i64_eq(e,b("LSRtcCallState.bs").videoGroupCall)?c:function(a){},label:b("bs_caml").i64_eq(e,b("LSRtcCallState.bs").audioGroupCall)?g._(/*FBT_CALL*/"\u52a0\u5165\u8bed\u97f3\u804a\u5929"/*FBT_CALL*/):b("bs_caml").i64_eq(e,b("LSRtcCallState.bs").videoGroupCall)?g._(/*FBT_CALL*/"\u52a0\u5165\u89c6\u9891\u804a\u5929"/*FBT_CALL*/):"",icon:b("bs_caml").i64_eq(e,b("LSRtcCallState.bs").audioGroupCall)?b("bs_curry")._2(b("MWChatRTCButtonIcons.bs").$$Audio.icon,f,h):b("bs_caml").i64_eq(e,b("LSRtcCallState.bs").videoGroupCall)?b("bs_curry")._3(b("MWChatRTCButtonIcons.bs").Video.icon,f,h,void 0):null,overlayDisabled:j};a!==void 0&&(d.renderContainer=b("bs_caml_option").valFromOption(a));return i.jsx(p,d)}var t={make:s};function a(a){var c=a.thread,d=a.fill,e=a.size,f=a.disableOverlayOnHover,g=a.audioCallingSurface,h=a.videoCallingSurface,j=a.logAudio,k=a.logVideo;a=a.renderContainer;e=e!==void 0?e:"26px";f=f!==void 0?f:!1;j=j!==void 0?j:function(a){};k=k!==void 0?k:function(a){};var n=m(c),p=o(c),t=p[1];p=p[0];k=l(c,k,"video",h);h=l(c,j,"audio",g);if(!(p||t))return null;j=c.ongoingCallState;if(b("bs_caml").i64_neq(j,b("LSRtcCallState.bs").noOngoingCall)){g={startVideoCall:k,startAudioCall:h,ongoingCallState:j,fill:d,size:e,overlayDisabled:f};a!==void 0&&(g.renderContainer=b("bs_caml_option").valFromOption(a));return i.jsx(s,g)}if(p){c={startAudioCall:h,fill:d,size:e,overlayDisabled:f};a!==void 0&&(c.renderContainer=b("bs_caml_option").valFromOption(a));j=i.jsx(q,c)}else j=null;if(t){g={startVideoCall:k,fill:d,size:e,isActive:n,overlayDisabled:f};a!==void 0&&(g.renderContainer=b("bs_caml_option").valFromOption(a));p=i.jsx(r,g)}else p=null;return i.jsxs(i.Fragment,{children:[j,p]})}a=a;f.startVideoCallTestid=j;f.startVoiceCallTestid=k;f.BaseButton=c;f.$$Audio=d;f.Video=e;f.JoinExistingChat=t;f.make=a}),null);
__d("MessengerRoomsChatJoinRoomButtonQuery",["MessengerRoomsChatJoinRoomButtonQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h!==void 0?h:h=b("MessengerRoomsChatJoinRoomButtonQuery.graphql");c=a;g["default"]=c}),98);
__d("MessengerRoomsChatJoinRoomButtonUtils",["MessengerRoomsChatJoinRoomButtonQuery","RelayFBEnvironment","RelayHooks"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=d("RelayHooks").fetchQuery(c("RelayFBEnvironment"),c("MessengerRoomsChatJoinRoomButtonQuery"),{thread_id:a}).toPromise();return a}g.fetchRoomUrl=a}),98);
__d("MessengerLSJoinRoomButton.react",["fbt","ix","FBLogger","Image.react","MessengerRoomsChatJoinRoomButtonUtils","RoomsChatUserActionsFalcoEvent","URI","ZenonAbstractButton.react","promiseDone","react","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b=d("react");var k=b.useEffect,l=b.useState;function a(a){var b=a.threadFBID;a=l(null);var e=a[0],f=a[1];a=l(null);var g=a[0],m=a[1];a=l(null);var n=a[0],o=a[1];k(function(){c("promiseDone")(d("MessengerRoomsChatJoinRoomButtonUtils").fetchRoomUrl(b),function(a){var b;m(a==null?void 0:(b=a.fetch__MessengerViewerChatForRoomThread)==null?void 0:(b=b.rtc_room_door)==null?void 0:b.link_url);o(a==null?void 0:(b=a.fetch__MessengerViewerChatForRoomThread)==null?void 0:(b=b.rtc_room_door)==null?void 0:b.link_hash);f(a==null?void 0:(b=a.fetch__MessengerViewerChatForRoomThread)==null?void 0:(a=b.rtc_room_door)==null?void 0:a.is_audio_only)},function(a){a.errors&&Array.isArray(a.errors)&&a.errors.forEach(function(a){return c("FBLogger")("rtc_www").addMetadata("RT_WEB","TYPE","ROOM").mustfix("Error fetching url for Messenger Join Room Button: "+a.message)})})},[m,b,n,o,f]);return g!=null&&n!=null&&e!=null?j.jsxs(c("ZenonAbstractButton.react"),{className:"dq4g6rjb k27skwkl fsf7x5fv h5fs5mea dtqh1a21 pdqhzjwd jao8r537 rt34pxt2 js4msrqk ggolc4ur iwso50tu f5m7p0br im547bx5 jl2a5g8c alzwoclg",onClick:function(){c("RoomsChatUserActionsFalcoEvent").log(function(){var a;return{event:"button_tap",event_type:"header_video_button",extra_data:null,funnel_session_id:"",link_hash:n,thread_fbid:(a=b)!=null?a:"0"}}),c("URI").goURIOnNewWindow(g)},children:[j.jsx(c("Image.react"),{className:"a60616oh nhe0l0td",src:e?i("395818"):i("377019")}),j.jsx("span",{className:"mln2r6ah eay0q90j iryl7rsq eohcrkr5 igjjae4c nfkogyam nthtkgg5",children:h._(/*FBT_CALL*/"\u52a0\u5165"/*FBT_CALL*/)})]}):null}a.displayName=a.name+" [from "+f.id+"]";c("stylex").inject(".nthtkgg5{margin-top:5px}",1);c("stylex").inject(".nfkogyam{font-size:0.8125rem}",1);c("stylex").inject(".igjjae4c{font-weight:bold}",1);c("stylex").inject(".eohcrkr5{height:16px}",1);c("stylex").inject(".iryl7rsq{width:32px}",1);c("stylex").inject(".eay0q90j{margin-left:6.5px}",1,".eay0q90j{margin-right:6.5px}");c("stylex").inject(".mln2r6ah{margin-right:10px}",1,".mln2r6ah{margin-left:10px}");c("stylex").inject(".nhe0l0td{margin-top:6.5px}",1);c("stylex").inject(".a60616oh{margin-left:10px}",1,".a60616oh{margin-right:10px}");c("stylex").inject(".alzwoclg{display:flex}",1);c("stylex").inject(".jl2a5g8c{flex-direction:row}",1);c("stylex").inject(".im547bx5{background-color:#5AD539}",1);c("stylex").inject(".f5m7p0br{border-top:none}",.3);c("stylex").inject(".iwso50tu{border-right:none}",.3,".iwso50tu{border-left:none}");c("stylex").inject(".ggolc4ur{border-bottom:none}",.3);c("stylex").inject(".js4msrqk{border-left:none}",.3,".js4msrqk{border-right:none}");c("stylex").inject(".rt34pxt2{border-top-left-radius:18px}",1,".rt34pxt2{border-top-right-radius:18px}");c("stylex").inject(".jao8r537{border-top-right-radius:18px}",1,".jao8r537{border-top-left-radius:18px}");c("stylex").inject(".pdqhzjwd{border-bottom-right-radius:18px}",1,".pdqhzjwd{border-bottom-left-radius:18px}");c("stylex").inject(".dtqh1a21{border-bottom-left-radius:18px}",1,".dtqh1a21{border-bottom-right-radius:18px}");c("stylex").inject(".h5fs5mea{color:white}",1);c("stylex").inject(".fsf7x5fv{cursor:pointer}",1);c("stylex").inject(".k27skwkl{height:28px}",1);c("stylex").inject(".dq4g6rjb{width:82px}",1);g["default"]=a}),98);
__d("RTWebLoggingComponentConvert.bs",["bs_js_exn"],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==="participate_live_dialog")return"participate_live_dialog";else if(a==="free_call")return"free_call";else if(a==="submit_feedback")return"submit_feedback";else if(a==="calendar_clock")return"calendar_clock";else if(a==="rating_not_now")return"rating_not_now";else if(a==="breakout_start_button")return"breakout_start_button";else if(a==="view_participants")return"view_participants";else if(a==="video_escalate_accept")return"video_escalate_accept";else if(a==="media_access_pending")return"media_access_pending";else if(a==="calendar_clock_tooltip")return"calendar_clock_tooltip";else if(a==="create_live_dialog_next_button")return"create_live_dialog_next_button";else if(a==="caller_warning_continue_call_button")return"caller_warning_continue_call_button";else if(a==="raise_hand_queue")return"raise_hand_queue";else if(a==="self_view_minimize")return"self_view_minimize";else if(a==="banner")return"banner";else if(a==="live_indicator")return"live_indicator";else if(a==="more_options")return"more_options";else if(a==="end_live_dialog_end_button")return"end_live_dialog_end_button";else if(a==="create_live_dialog_show_button")return"create_live_dialog_show_button";else if(a==="save_button")return"save_button";else if(a==="start_call_button")return"start_call_button";else if(a==="mweb_roster_row")return"mweb_roster_row";else if(a==="create_live_dialog_start_button")return"create_live_dialog_start_button";else if(a==="incoming_ring_tone")return"incoming_ring_tone";else if(a==="upgrade_chrome")return"upgrade_chrome";else if(a==="recent_calls")return"recent_calls";else if(a==="toggle_filters")return"toggle_filters";else if(a==="screensharing_pop_out_button")return"screensharing_pop_out_button";else if(a==="join_call_button")return"join_call_button";else if(a==="window_resize")return"window_resize";else if(a==="fullscreen_enable")return"fullscreen_enable";else if(a==="calendar_meeting_now_notification_join")return"calendar_meeting_now_notification_join";else if(a==="participant_remove")return"participant_remove";else if(a==="self_view_unminimize")return"self_view_unminimize";else if(a==="review_room")return"review_room";else if(a==="call_back")return"call_back";else if(a==="copy_link")return"copy_link";else if(a==="caller_warning_cancel_call_button")return"caller_warning_cancel_call_button";else if(a==="schedule_room")return"schedule_room";else if(a==="scroll_filters")return"scroll_filters";else if(a==="media_access_rejected")return"media_access_rejected";else if(a==="participant_row_unselect")return"participant_row_unselect";else if(a==="participate_live_dialog_join_button")return"participate_live_dialog_join_button";else if(a==="fullscreen")return"fullscreen";else if(a==="pin_speaker")return"pin_speaker";else if(a==="video_escalate")return"video_escalate";else if(a==="browser_notification")return"browser_notification";else if(a==="calendar_end_call_view")return"calendar_end_call_view";else if(a==="upgrade_edge")return"upgrade_edge";else if(a==="redial")return"redial";else if(a==="toggle_video_first")return"toggle_video_first";else if(a==="poor_network_tooltip")return"poor_network_tooltip";else if(a==="install_app_button")return"install_app_button";else if(a==="video_filter_option")return"video_filter_option";else if(a==="calendar_end_call_view_join")return"calendar_end_call_view_join";else if(a==="chat_panel_message")return"chat_panel_message";else if(a==="audio_button")return"audio_button";else if(a==="plus_expander_menu")return"plus_expander_menu";else if(a==="participant_row_select")return"participant_row_select";else if(a==="fullscreen_disable")return"fullscreen_disable";else if(a==="toggle_chat")return"toggle_chat";else if(a==="toggle_camera")return"toggle_camera";else if(a==="accept_button")return"accept_button";else if(a==="settings")return"settings";else if(a==="participate_live_dialog_leave_button")return"participate_live_dialog_leave_button";else if(a==="calendar_meeting_now_notification")return"calendar_meeting_now_notification";else if(a==="raise_hand")return"raise_hand";else if(a==="breakout_end_button")return"breakout_end_button";else if(a==="call_again")return"call_again";else if(a==="toggle_audio")return"toggle_audio";else if(a==="video_button")return"video_button";else if(a==="create_room")return"create_room";else if(a==="star_rating")return"star_rating";else if(a==="message")return"message";else if(a==="video_layout_switch")return"video_layout_switch";else if(a==="more_options_live_comments_menu")return"more_options_live_comments_menu";else if(a==="unpin_speaker")return"unpin_speaker";else if(a==="select_invitees")return"select_invitees";else if(a==="upsell_rooms_chrome_extension")return"upsell_rooms_chrome_extension";else if(a==="close_dialog")return"close_dialog";else if(a==="add_participant")return"add_participant";else if(a==="toggle_video")return"toggle_video";else if(a==="self_view")return"self_view";else if(a==="close_chat")return"close_chat";else if(a==="end_live_dialog_show_button")return"end_live_dialog_show_button";else if(a==="end_call_button")return"end_call_button";else if(a==="video_escalate_decline")return"video_escalate_decline";else if(a==="calendar_meeting_soon_notification")return"calendar_meeting_soon_notification";else if(a==="decline_button")return"decline_button";else if(a==="upgrade_browser")return"upgrade_browser";else if(a==="screensharing")return"screensharing";else if(a==="close_window")return"close_window";else return"cancel_button"}function c(a){switch(a){case"accept_button":return"accept_button";case"add_participant":return"add_participant";case"audio_button":return"audio_button";case"banner":return"banner";case"breakout_end_button":return"breakout_end_button";case"breakout_start_button":return"breakout_start_button";case"browser_notification":return"browser_notification";case"calendar_clock":return"calendar_clock";case"calendar_clock_tooltip":return"calendar_clock_tooltip";case"calendar_end_call_view":return"calendar_end_call_view";case"calendar_end_call_view_join":return"calendar_end_call_view_join";case"calendar_meeting_now_notification":return"calendar_meeting_now_notification";case"calendar_meeting_now_notification_join":return"calendar_meeting_now_notification_join";case"calendar_meeting_soon_notification":return"calendar_meeting_soon_notification";case"call_again":return"call_again";case"call_back":return"call_back";case"caller_warning_cancel_call_button":return"caller_warning_cancel_call_button";case"caller_warning_continue_call_button":return"caller_warning_continue_call_button";case"cancel_button":return"cancel_button";case"chat_panel_message":return"chat_panel_message";case"close_chat":return"close_chat";case"close_dialog":return"close_dialog";case"close_window":return"close_window";case"copy_link":return"copy_link";case"create_live_dialog_next_button":return"create_live_dialog_next_button";case"create_live_dialog_show_button":return"create_live_dialog_show_button";case"create_live_dialog_start_button":return"create_live_dialog_start_button";case"create_room":return"create_room";case"decline_button":return"decline_button";case"end_call_button":return"end_call_button";case"end_live_dialog_end_button":return"end_live_dialog_end_button";case"end_live_dialog_show_button":return"end_live_dialog_show_button";case"free_call":return"free_call";case"fullscreen":return"fullscreen";case"fullscreen_disable":return"fullscreen_disable";case"fullscreen_enable":return"fullscreen_enable";case"incoming_ring_tone":return"incoming_ring_tone";case"install_app_button":return"install_app_button";case"join_call_button":return"join_call_button";case"live_indicator":return"live_indicator";case"media_access_pending":return"media_access_pending";case"media_access_rejected":return"media_access_rejected";case"message":return"message";case"more_options":return"more_options";case"more_options_live_comments_menu":return"more_options_live_comments_menu";case"mweb_roster_row":return"mweb_roster_row";case"participant_remove":return"participant_remove";case"participant_row_select":return"participant_row_select";case"participant_row_unselect":return"participant_row_unselect";case"participate_live_dialog":return"participate_live_dialog";case"participate_live_dialog_join_button":return"participate_live_dialog_join_button";case"participate_live_dialog_leave_button":return"participate_live_dialog_leave_button";case"pin_speaker":return"pin_speaker";case"plus_expander_menu":return"plus_expander_menu";case"poor_network_tooltip":return"poor_network_tooltip";case"raise_hand":return"raise_hand";case"raise_hand_queue":return"raise_hand_queue";case"rating_not_now":return"rating_not_now";case"recent_calls":return"recent_calls";case"redial":return"redial";case"review_room":return"review_room";case"save_button":return"save_button";case"schedule_room":return"schedule_room";case"screensharing":return"screensharing";case"screensharing_pop_out_button":return"screensharing_pop_out_button";case"scroll_filters":return"scroll_filters";case"select_invitees":return"select_invitees";case"self_view":return"self_view";case"self_view_minimize":return"self_view_minimize";case"self_view_unminimize":return"self_view_unminimize";case"settings":return"settings";case"star_rating":return"star_rating";case"start_call_button":return"start_call_button";case"submit_feedback":return"submit_feedback";case"toggle_audio":return"toggle_audio";case"toggle_camera":return"toggle_camera";case"toggle_chat":return"toggle_chat";case"toggle_filters":return"toggle_filters";case"toggle_video":return"toggle_video";case"toggle_video_first":return"toggle_video_first";case"unpin_speaker":return"unpin_speaker";case"upgrade_browser":return"upgrade_browser";case"upgrade_chrome":return"upgrade_chrome";case"upgrade_edge":return"upgrade_edge";case"upsell_rooms_chrome_extension":return"upsell_rooms_chrome_extension";case"video_button":return"video_button";case"video_escalate":return"video_escalate";case"video_escalate_accept":return"video_escalate_accept";case"video_escalate_decline":return"video_escalate_decline";case"video_filter_option":return"video_filter_option";case"video_layout_switch":return"video_layout_switch";case"view_participants":return"view_participants";case"window_resize":return"window_resize";default:return b("bs_js_exn").raiseError("Invalid RTWebLoggingComponent.t: "+a)}}d={toJS:a,toRe:c};f.converter=d}),null);
__d("RTWebLoggingSurfaceConvert.bs",["bs_js_exn"],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==="caller_warning_dialog")return"caller_warning_dialog";else if(a==="screensharing_pop_out")return"screensharing_pop_out";else if(a==="group_call_participant_picker_dialog")return"group_call_participant_picker_dialog";else if(a==="chat_panel")return"chat_panel";else if(a==="setting_dialog")return"setting_dialog";else if(a==="pre_call_screen")return"pre_call_screen";else if(a==="admin_message")return"admin_message";else if(a==="timeline_top_section")return"timeline_top_section";else if(a==="group_call_view_members_dialog")return"group_call_view_members_dialog";else if(a==="chat_tab")return"chat_tab";else if(a==="missed_call_dialog")return"missed_call_dialog";else if(a==="meeting_room_intern_search_card")return"meeting_room_intern_search_card";else if(a==="meeting_room_map_dialog")return"meeting_room_map_dialog";else if(a==="call_controls")return"call_controls";else if(a==="mweb_roster_view")return"mweb_roster_view";else if(a==="work_profile")return"work_profile";else if(a==="audio_fallback_dialog")return"audio_fallback_dialog";else if(a==="call_container")return"call_container";else if(a==="chat_sidebar")return"chat_sidebar";else if(a==="post_vc_call_upsell")return"post_vc_call_upsell";else if(a==="messenger_bubble")return"messenger_bubble";else if(a==="www_roster_view")return"www_roster_view";else if(a==="incoming_call_dialog")return"incoming_call_dialog";else if(a==="unsupported_browser_dialog")return"unsupported_browser_dialog";else if(a==="workplace_group_chat")return"workplace_group_chat";else if(a==="star_rating_surface")return"star_rating_surface";else if(a==="group_call_add_members_dialog")return"group_call_add_members_dialog";else if(a==="dropdown_call_menu")return"dropdown_call_menu";else if(a==="messages_jewel")return"messages_jewel";else if(a==="chat_sidebar_confirmation_dialog")return"chat_sidebar_confirmation_dialog";else if(a==="meeting_room_profile")return"meeting_room_profile";else if(a==="messenger_header")return"messenger_header";else if(a==="workplace_p2p_chat")return"workplace_p2p_chat";else if(a==="work_hovercard")return"work_hovercard";else if(a==="thread_list")return"thread_list";else if(a==="call_header")return"call_header";else if(a==="post_rooms_call_upsell")return"post_rooms_call_upsell";else return"desktop_notification"}function c(a){switch(a){case"admin_message":return"admin_message";case"audio_fallback_dialog":return"audio_fallback_dialog";case"call_container":return"call_container";case"call_controls":return"call_controls";case"call_header":return"call_header";case"caller_warning_dialog":return"caller_warning_dialog";case"chat_panel":return"chat_panel";case"chat_sidebar":return"chat_sidebar";case"chat_sidebar_confirmation_dialog":return"chat_sidebar_confirmation_dialog";case"chat_tab":return"chat_tab";case"desktop_notification":return"desktop_notification";case"dropdown_call_menu":return"dropdown_call_menu";case"group_call_add_members_dialog":return"group_call_add_members_dialog";case"group_call_participant_picker_dialog":return"group_call_participant_picker_dialog";case"group_call_view_members_dialog":return"group_call_view_members_dialog";case"incoming_call_dialog":return"incoming_call_dialog";case"meeting_room_intern_search_card":return"meeting_room_intern_search_card";case"meeting_room_map_dialog":return"meeting_room_map_dialog";case"meeting_room_profile":return"meeting_room_profile";case"messages_jewel":return"messages_jewel";case"messenger_bubble":return"messenger_bubble";case"messenger_header":return"messenger_header";case"missed_call_dialog":return"missed_call_dialog";case"mweb_roster_view":return"mweb_roster_view";case"post_rooms_call_upsell":return"post_rooms_call_upsell";case"post_vc_call_upsell":return"post_vc_call_upsell";case"pre_call_screen":return"pre_call_screen";case"screensharing_pop_out":return"screensharing_pop_out";case"setting_dialog":return"setting_dialog";case"star_rating_surface":return"star_rating_surface";case"thread_list":return"thread_list";case"timeline_top_section":return"timeline_top_section";case"unsupported_browser_dialog":return"unsupported_browser_dialog";case"work_hovercard":return"work_hovercard";case"work_profile":return"work_profile";case"workplace_group_chat":return"workplace_group_chat";case"workplace_p2p_chat":return"workplace_p2p_chat";case"www_roster_view":return"www_roster_view";default:return b("bs_js_exn").raiseError("Invalid RTWebLoggingSurface.t: "+a)}}d={toJS:a,toRe:c};f.converter=d}),null);
__d("MWInboxHeaderButtons.bs",["fbt","CurrentEnvironment","LSInt64.bs","LSMessagingThreadTypeUtil.bs","LSUserControlButton.bs","MDSRow.react","MDSRowItem.react","MWCMThreadTypes.bs","MWCMUseFolder.bs","MWChatRTCButtonIcons.bs","MWInboxHeaderButton.bs","MWInboxHeaderJoinRoomButton.bs","MWLSGetLearningSpaceRoomOnThread.bs","MWLSTheme.bs","MWRoomsLinkUtils.bs","MWTheme.bs","MWThread_DEPRECATED.bs","MWTooltip.react","MWV2ChatRTCButtons.bs","MessengerLSJoinRoomButton.react","RTWebLoggingComponentConvert.bs","RTWebLoggingSurfaceConvert.bs","XCometGroupDiscussionControllerRouteBuilder","bs_belt_Option","bs_curry","bs_int64","cr:2833","gkx","react","requireDeferred","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={rowItem:{alignItems:"bp9cbjyn",display:"j83agx80",height:"qu8okrzs",justifyContent:"taijpn5t",paddingTop:"ipjc6fyt",paddingEnd:"p8fzw8mz",paddingBottom:"iuny7tx3",paddingStart:"pcp91wgn",width:"eim337gk"},iconContainer:{alignItems:"bp9cbjyn",display:"pq6dq46d",height:"mudddibn",justifyContent:"taijpn5t",position:"l9j0dhe7",width:"ciadx1gn"},iconOverlay:{start:"j9ispegn",position:"pmk7jnqg",width:"k4urcfbm",height:"datstx6m",opacity:"b5wmifdl",top:"kr520xx4",borderTopStartRadius:"mdpwds66",borderTopEndRadius:"b2cqd1jy",borderBottomEndRadius:"n13yt9zj",borderBottomStartRadius:"eh67sqbx"},iconOverlayActive:{opacity:"lupvgy83"}},l=b("requireDeferred")("ZenonUserActionLoggerCommon.bs").__setRef("MWInboxHeaderButtons.bs"),m=b("requireDeferred")("ZenonUserActionLoggerCommon.bs").__setRef("MWInboxHeaderButtons.bs");function n(a){var c=a.thread;a=a.color;var d=j.useCallback(function(a){m.onReady(function(a){return b("bs_curry")._1(a.logClick,{component:b("bs_curry")._1(b("RTWebLoggingComponentConvert.bs").converter.toJS,"audio_button"),surface:b("bs_curry")._1(b("RTWebLoggingSurfaceConvert.bs").converter.toJS,"messenger_header")})})},[]),e=j.useCallback(function(a){l.onReady(function(a){return b("bs_curry")._1(a.logClick,{component:b("bs_curry")._1(b("RTWebLoggingComponentConvert.bs").converter.toJS,"video_button"),surface:b("bs_curry")._1(b("RTWebLoggingSurfaceConvert.bs").converter.toJS,"messenger_header")})})},[]);return j.jsx(b("MWV2ChatRTCButtons.bs").make,{thread:c,fill:a,size:"34px",audioCallingSurface:"comet_inbox_audio_button",videoCallingSurface:"comet_inbox_video_button",logAudio:d,logVideo:e,renderContainer:function(a){return j.jsx(b("MDSRowItem.react"),{xstyle:[k.rowItem],children:a})}})}c={make:n};function a(a){var c=a.thread,d=a.info,e=a.setInfo;a=b("MWThread_DEPRECATED.bs").useFBID(void 0);var f=b("MWCMUseFolder.bs").useHook(c),h=b("MWLSTheme.bs").useTheme(c.threadKey);h=b("MWTheme.bs").top(h);var l;if(b("cr:2833")==null||f===void 0)l=null;else{f={passthroughProps:{collapsedThreadId:b("bs_int64").to_string(c.threadKey)},url:b("XCometGroupDiscussionControllerRouteBuilder").buildURL({idorvanity:b("bs_int64").to_string(f.fbGroupId)})};l=j.jsx(b("cr:2833").make,{color:h,link:f})}f=b("MWCMThreadTypes.bs").isAnyCMThread(c.threadType)?g._(/*FBT_CALL*/"\u804a\u5929\u4fe1\u606f"/*FBT_CALL*/):g._(/*FBT_CALL*/"\u5bf9\u8bdd\u4fe1\u606f"/*FBT_CALL*/);var m=b("MWLSGetLearningSpaceRoomOnThread.bs").useHook(c),o=m[0];return j.jsxs(b("MDSRow.react"),{paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",children:[j.jsx(b("LSUserControlButton.bs").make,{thread:c,color:h}),j.jsx(n,{thread:c,color:h}),o&&m[2]&&!b("LSMessagingThreadTypeUtil.bs").isSecure(c.threadType)?b("bs_belt_Option").mapWithDefault(m[1],null,function(a){return j.jsx(b("MWInboxHeaderJoinRoomButton.bs").make,{linkHash:b("MWRoomsLinkUtils.bs").getRoomsLinkHash(a),linkUrl:a,threadFbid:b("LSInt64.bs").string(c.threadKey)})}):null,l,b("gkx")("1943249")&&!o&&!b("LSMessagingThreadTypeUtil.bs").isSecure(c.threadType)?j.jsx(b("MessengerLSJoinRoomButton.react"),{threadFBID:a}):null,j.jsx(b("MDSRowItem.react"),{xstyle:[k.rowItem],children:j.jsx(b("MWTooltip.react"),{tooltip:f,align:"middle",position:"below",children:j.jsx(b("MWInboxHeaderButton.bs").BaseButton.make,{children:j.jsxs("div",{className:(i||(i=b("stylex")))(k.iconContainer),children:[j.jsx("div",{className:i(k.iconOverlay,d&&b("CurrentEnvironment").facebookdotcom?k.iconOverlayActive:!1),style:{backgroundColor:h}}),b("bs_curry")._2(b("MWChatRTCButtonIcons.bs").Info.icon,h,d)]}),label:f,onPress:function(a){return b("bs_curry")._1(e,function(a){return!d})}})})})]})}d=b("cr:2833");e=a;f.$MWInboxHeaderCollapseButton$requireCond=b("cr:2833");f.mCollapseButton=d;f.styles=k;f.$ZenonUserActionLoggerCommon$Deferred=l;f.$ZenonUserActionLoggerCommon$Deferred$1=m;f.RTCButtons=c;f.make=e}),null);
__d("LSContactLink.bs",["CometLink.react","CometPressable.react","CurrentEnvironment","FBID.bs","MWLSContactTypeExactUtils.bs","XCometVanityURLControllerRouteBuilder","bs_caml_option","bs_int64","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.secondaryName,d=b("MWLSContactTypeExactUtils.bs").isIgContact(a);return c!==void 0&&d?"https://www.instagram.com/"+c:(b("CurrentEnvironment").facebookdotcom?"":"https://www.facebook.com")+b("XCometVanityURLControllerRouteBuilder").buildURL({vanity:b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.id))})}var i={expanding:{display:"j83agx80"}};function c(a){var c=a.contact,d=a.children,e=a.isText,f=a.label;a=a.testid;e=e!==void 0?e:!0;var g=f!==void 0?b("bs_caml_option").some(f):void 0,j=c.secondaryName,k=b("MWLSContactTypeExactUtils.bs").isIgContact(c);if(j!==void 0&&k){k="https://www.instagram.com/"+j;if(e){j={href:k,target:"_blank",children:d};f!==void 0&&(j.label=f);a!==void 0&&(j.testid=a);return h.jsx(b("CometLink.react"),j)}j={expanding:!0,linkProps:{target:"_blank",url:k},overlayRadius:"50%",xstyle:function(a){return[i.expanding]},children:d};g!==void 0&&(j.label=b("bs_caml_option").valFromOption(g));a!==void 0&&(j.testid=b("bs_caml_option").valFromOption(a));return h.jsx(b("CometPressable.react"),j)}k=(b("CurrentEnvironment").facebookdotcom?"":"https://www.facebook.com")+b("XCometVanityURLControllerRouteBuilder").buildURL({vanity:b("FBID.bs").ofStringExn(b("bs_int64").to_string(c.id))});j=b("CurrentEnvironment").facebookdotcom?void 0:"_blank";if(e){c={href:k,children:d};j!==void 0&&(c.target=b("bs_caml_option").valFromOption(j));f!==void 0&&(c.label=f);a!==void 0&&(c.testid=a);return h.jsx(b("CometLink.react"),c)}e={url:k};j!==void 0&&(e.target=b("bs_caml_option").valFromOption(j));f={expanding:!0,linkProps:e,overlayRadius:"50%",xstyle:function(a){return[i.expanding]},children:d};g!==void 0&&(f.label=b("bs_caml_option").valFromOption(g));a!==void 0&&(f.testid=b("bs_caml_option").valFromOption(a));return h.jsx(b("CometPressable.react"),f)}d=c;f.getHref=a;f.styles=i;f.make=d}),null);
__d("LSPresenceStatusText.bs",["fbt","CometRelativeTimestamp.react","MWChatContactPresenceHook.bs","MWLSActor.bs","MessagingThreadType.bs","ReQL.bs","ReQLSubscription.bs","bs_caml","bs_curry","bs_int64","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j=g._(/*FBT_CALL*/"\u5728\u7ebf"/*FBT_CALL*/);function k(a){var c=a.threadKey;a=b("bs_int64").to_string(c);var d=b("useReStore")(),e=b("MWLSActor.bs").useActor(void 0);return b("ReQLSubscription.bs").useArray(i.useMemo(function(){var a;return(a=b("ReQL.bs")).map(a.filter(a.getKeyRange(a.fromTableAscending(d.table("participants")),{hd:c,tl:0}),function(a){return b("bs_caml").i64_neq(a.contactId,e)}),function(a){return a.contactId})},[d,e,a]))}function l(a){var c=a.contactId,d=a.renderWrapper;a=a.renderNullState;var e=b("MWChatContactPresenceHook.bs").useIsActive(c);c=b("MWChatContactPresenceHook.bs").useLastActiveTimestampMs(c);if(e)return b("bs_curry")._1(d,j);else if(c!==void 0)return b("bs_curry")._1(d,g._(/*FBT_CALL*/"{time}\u524d\u5728\u7ebf"/*FBT_CALL*/,[g._param("time",i.jsx(b("CometRelativeTimestamp.react"),{date:new Date(c),format:"minimized"}))]));else return b("bs_curry")._1(a,void 0)}c={make:l};function m(a){var c=a.thread,d=a.renderWrapper;a=a.renderNullState;c=k(c);if(c.length!==1)return b("bs_curry")._1(a,void 0);c=c[0];return i.jsx(l,{contactId:c,renderWrapper:d,renderNullState:a})}d={PresenceText:c,make:m};function n(a){var c=a.thread,d=a.renderWrapper;a=a.renderNullState;c=k(c);c=b("MWChatContactPresenceHook.bs").useHasActiveContact(c);if(c)return b("bs_curry")._1(d,j);else return b("bs_curry")._1(a,void 0)}e={make:n};function o(a){return a}function p(a){return null}function a(a){var c=a.thread,d=a.renderWrapper;a=a.renderNullState;d=d!==void 0?d:o;a=a!==void 0?a:p;var e=c.threadType;if(b("bs_caml").i64_eq(e,b("MessagingThreadType.bs").oneToOne))return i.jsx(m,{thread:c,renderWrapper:d,renderNullState:a});else if(b("bs_caml").i64_eq(e,b("MessagingThreadType.bs").group))return i.jsx(n,{thread:c,renderWrapper:d,renderNullState:a});else return null}c=a;f.OneOnOnePresence=d;f.GroupPresence=e;f.defaultRenderWrapper=o;f.defaultRenderNullState=p;f.make=c}),null);
__d("LSVerificationBadge.bs",["CometPageVerificationIcon.react","LSContactBitOffset.bs","LSContactCapabilityBitOffset.bs","MWLSActor.bs","ReQL.bs","ReQLSubscription.bs","ReQLSuspense","bs_caml","react","stylex","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={badge:{paddingStart:"scb9dxdr"}};function a(a){var c=a.thread;a=a.size;var d=b("useReStore")(),e=b("MWLSActor.bs").useActor(void 0),f=b("ReQLSubscription.bs").useArray(i.useMemo(function(){var a;return(a=b("ReQL.bs")).take(a.map(a.filter(a.getKeyRange(a.fromTableAscending(d.table("participants")),{hd:c.threadKey,tl:0}),function(a){return b("bs_caml").i64_neq(a.contactId,e)}),function(a){var c=b("ReQLSuspense").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("contacts")),{hd:a.contactId,tl:0}));return[a,c]}),2)},[d,JSON.stringify(c.threadKey),e]));if(f.length!==1)return null;f=f[0];f=f[1];if(f!==void 0&&b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").verified,f)===!0)return i.jsx("span",{className:(h||(h=b("stylex")))(j.badge),children:i.jsx(b("CometPageVerificationIcon.react"),{size:a,verificationBadge:"BLUE_VERIFIED"})});else return null}c=a;f.styles=j;f.make=c}),null);
__d("MWInboxHeaderDetails.bs",["CometMiddot.react","CometPlaceholder.react","LSContactLink.bs","LSPresenceStatusText.bs","LSRtcCallState.bs","LSThreadTitle.bs","LSVerificationBadge.bs","MDSText.react","MWCMInboxHeaderCommunityGroupName.bs","MWCMThreadTypes.bs","MWChatCalculateIsMutedFromExpireTime.bs","MWChatHeaderDetailsSubtitle.bs","MWLSContactTypeExactUtils.bs","MWSeparatorContainer.react","MWVerticalRhythm.bs","MessagingThreadType.bs","MessengerMuteUtils.bs","ReQL.bs","ReQLSubscription.bs","bs_caml","bs_caml_option","react","stylex","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={container:{display:"j83agx80",flexDirection:"cbu4d94t",alignItems:"ll8tlv6m",justifyContent:"taijpn5t",flexGrow:"buofh1pr",minHeight:"qx9c56kf"},item:{maxWidth:"d2edcug0",display:"j83agx80",alignItems:"bp9cbjyn"},middot:{paddingEnd:"ihtri3yf",paddingStart:"e9o6kcyi"}};function a(a){var c=a.thread,d=a.threadNameSize,e=a.color;a=a.isTitleALink;a=a!==void 0?a:!0;var f=b("useReStore")(),g=b("ReQLSubscription.bs").useFirst(i.useMemo(function(){return b("ReQL.bs").filter(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(f.table("contacts")),{hd:c.threadKey,tl:0}),b("MWLSContactTypeExactUtils.bs").isIgContact)},[f,JSON.stringify(c.threadKey)])),k;if(g!==void 0){g=g.secondaryName;k=g!==void 0&&g!==""?g:null}else k=null;g=b("MWCMThreadTypes.bs").isJoinedCMThread(c.threadType);var l=b("MessengerMuteUtils.bs").calcMuteUntilMs(c),m=b("MWChatCalculateIsMutedFromExpireTime.bs").useHook(l);l=b("bs_caml").i64_neq(c.ongoingCallState,b("LSRtcCallState.bs").noOngoingCall);var n={align:"center",type:"meta3",numberOfLines:1,children:i.jsx(b("CometMiddot.react"),{})};e!==void 0&&(n.color=b("bs_caml_option").valFromOption(e));var o=i.jsx("div",{className:(h||(h=b("stylex")))(j.middot),children:i.jsx(b("MDSText.react"),n)});n=b("bs_caml").i64_eq(c.threadType,b("MessagingThreadType.bs").oneToOne)&&a?i.jsx(b("LSThreadTitle.bs").make,{thread:c,wrapOutput:function(a,c){return i.jsx(b("LSContactLink.bs").make,{contact:a,children:c})}}):i.jsx(b("LSThreadTitle.bs").make,{thread:c});a={align:"center",isSemanticHeading:!0,type:d,numberOfLines:1,children:[n,i.jsx(b("CometPlaceholder.react"),{children:i.jsx(b("LSVerificationBadge.bs").make,{thread:c,size:"small"}),fallback:null})],testid:"mw_inbox_header_details_title"};e!==void 0&&(a.color=b("bs_caml_option").valFromOption(e));if(g)d=i.jsx(b("MWCMInboxHeaderCommunityGroupName.bs").make,{thread:c,renderWrapper:function(a){a={align:"center",type:"meta3",numberOfLines:1,children:a};e!==void 0&&(a.color=b("bs_caml_option").valFromOption(e));return i.jsxs(i.Fragment,{children:[i.jsx(b("MWVerticalRhythm.bs").make,{height:6}),i.jsx("div",{className:(h||(h=b("stylex")))(j.item),children:i.jsx(b("MDSText.react"),a)})]})}});else{if(l){if(k!==null){n={align:"center",type:"meta3",numberOfLines:1,children:k};e!==void 0&&(n.color=b("bs_caml_option").valFromOption(e));g=i.jsx(b("MDSText.react"),n)}else g=null;l={align:"center",type:"meta3",numberOfLines:1,children:i.jsx(b("MWChatHeaderDetailsSubtitle.bs").ongoingCall,{})};e!==void 0&&(l.color=b("bs_caml_option").valFromOption(e));n=i.jsxs(i.Fragment,{children:[i.jsx(b("MWVerticalRhythm.bs").make,{height:6}),i.jsxs(b("MWSeparatorContainer.react"),{children:[g,i.jsx(b("MDSText.react"),l),m?i.jsx(b("MWChatHeaderDetailsSubtitle.bs").mutedIcon,{forceInlineDisplay:!0}):null],separator:o,xstyle:j.item})]})}else n=i.jsx(b("LSPresenceStatusText.bs").make,{thread:c,renderWrapper:function(a){if(k!==null){var c={align:"center",type:"meta3",numberOfLines:1,children:k};e!==void 0&&(c.color=b("bs_caml_option").valFromOption(e));c=i.jsx(b("MDSText.react"),c)}else c=null;a={align:"center",type:"meta3",numberOfLines:1,children:a};e!==void 0&&(a.color=b("bs_caml_option").valFromOption(e));return i.jsxs(i.Fragment,{children:[i.jsx(b("MWVerticalRhythm.bs").make,{height:6}),i.jsxs(b("MWSeparatorContainer.react"),{children:[c,i.jsx(b("MDSText.react"),a),m?i.jsx(b("MWChatHeaderDetailsSubtitle.bs").mutedIcon,{forceInlineDisplay:!0}):null],separator:o,xstyle:j.item})]})},renderNullState:function(a){if(k!==null){a={align:"center",type:"meta3",numberOfLines:1,children:k};e!==void 0&&(a.color=b("bs_caml_option").valFromOption(e));a=i.jsx(b("MDSText.react"),a)}else a=null;return i.jsxs(b("MWSeparatorContainer.react"),{beforeContent:i.jsx(b("MWVerticalRhythm.bs").make,{height:6}),children:[a,m?i.jsx(b("MWChatHeaderDetailsSubtitle.bs").mutedIcon,{forceInlineDisplay:!0}):null],separator:o,xstyle:j.item})}});d=i.jsx(i.Fragment,{children:n})}return i.jsxs("div",{className:h(j.container),children:[i.jsx("div",{className:h(j.item),children:i.jsxs(b("MDSText.react"),a)}),d]})}c=a;f.styles=j;f.make=c}),null);
__d("MWInboxHeaderDetailsContainer.bs",["CometLazyDialogTrigger.react","CometPlaceholder.react","CometPressable.react","JSResourceForInteraction","LSContactLink.bs","LSMessagingThreadTypeUtil.bs","MDSRow.react","MDSRowItem.react","MWInboxHeaderDetails.bs","MWLSActor.bs","MWThreadPicture.bs","MWV2GetOtherUser.bs","MWV2GetThreadTitle.bs","ReQL.bs","ReQLSubscription.bs","bs_belt_Option","bs_caml_option","bs_curry","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i={detailsContainer:{paddingStart:"hyh9befq"}};function a(a){var c=a.thread,d=a.photoSize,e=a.badgeSize,f=a.threadNameSize,g=a.color;a=a.isTitleALink;d=d!==void 0?d:"s_40";e=e!==void 0?e:10;f=f!==void 0?f:"headlineEmphasized3";var j=b("MWLSActor.bs").useActor(void 0),k=b("useReStore")(),l=b("ReQLSubscription.bs").useArray(h.useMemo(function(){var a;return(a=b("ReQL.bs")).leftJoin(a.getKeyRange(a.fromTableAscending(k.table("participants")),{hd:c.threadKey,tl:0}),a.fromTableAscending(k.table("contacts")))},[k,JSON.stringify(c.threadKey)])),m=b("MWV2GetOtherUser.bs").useOtherUser(c,l),n=h.jsx(b("MWThreadPicture.bs").make,{photoSize:d,badgeSize:e,thread:c}),o=h.useRef(null);if(m!==void 0){d=m[1];e=h.jsx(b("LSContactLink.bs").make,{contact:d,children:n,isText:!1,label:d.name})}else e=b("LSMessagingThreadTypeUtil.bs").isGroup(c.threadType)?h.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResourceForInteraction")("MWLSGroupMembershipDialog.react",{name:"MWLSGroupMembershipDialog","class":"fluid"}).__setRef("MWInboxHeaderDetailsContainer.bs"),dialogProps:{onClose:function(a){}},children:function(a){var d=b("bs_belt_Option").getWithDefault(b("MWV2GetThreadTitle.bs").computeThreadTitle(void 0,c,l,j),"");return h.jsx(b("CometPressable.react"),{"aria-label":d,ref:o,onPress:function(c){return b("bs_curry")._1(a,void 0)},overlayDisabled:!0,children:n})}}):n;m={thread:c,threadNameSize:f};g!==void 0&&(m.color=b("bs_caml_option").valFromOption(g));a!==void 0&&(m.isTitleALink=b("bs_caml_option").valFromOption(a));return h.jsx(b("MDSRow.react"),{paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",expanding:!0,children:h.jsxs(b("CometPlaceholder.react"),{children:[h.jsx(b("MDSRowItem.react"),{children:e}),h.jsx(b("MDSRowItem.react"),{expanding:!0,xstyle:[i.detailsContainer],children:h.jsx(b("MWInboxHeaderDetails.bs").make,m)})],fallback:null})})}c=a;f.styles=i;f.make=c}),null);
__d("MWInboxHeader.bs",["MDSRow.react","MWInboxHeaderButtons.bs","MWInboxHeaderDetailsContainer.bs","MWThread_DEPRECATED.bs","MWUIParticipantDetails.bs","bs_curry","gkx","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){var c=a.thread,d=a.info;a=a.setInfo;var e=b("MWThread_DEPRECATED.bs").useFBID(void 0);e=b("bs_curry")._1(b("MWUIParticipantDetails.bs").useParticipantReachabilityStatus,e);return h.jsx(b("MWInboxHeaderButtons.bs").make,{thread:c,info:d,setInfo:a,isReachable:e})}c={make:i};function j(a){var c=a.threadId,d=a.thread,e=a.info;a=a.setInfo;return typeof c==="object"&&c.NAME==="User"?h.jsx(i,{thread:d,info:e,setInfo:a}):h.jsx(b("MWInboxHeaderButtons.bs").make,{thread:d,info:e,setInfo:a})}d={make:j};function a(a){var c=a.thread,d=a.info;a=a.setInfo;var e=b("MWThread_DEPRECATED.bs").useIdExn(void 0),f=b("gkx")("571")?["p_12","p_10","s_36",9,"headlineEmphasized5"]:["p_16","p_12","s_40",10,"headlineEmphasized3"];return h.jsxs(b("MDSRow.react"),{paddingHorizontal:function(){switch(f[0]){case"p_0":return 0;case"p_4":return 4;case"p_8":return 8;case"p_12":return 12;case"p_16":return 16}}(),paddingVertical:function(){switch(f[1]){case"p_0":return 0;case"p_4":return 4;case"p_8":return 8;case"p_10":return 10;case"p_12":return 12;case"p_16":return 16}}(),verticalAlign:"center",children:[h.jsx(b("MWInboxHeaderDetailsContainer.bs").make,{thread:c,photoSize:f[2],badgeSize:f[3],threadNameSize:f[4]}),h.jsx(j,{threadId:e,thread:c,info:d,setInfo:a})]})}e=h.memo(a);f.UserThreadInboxHeaderButtons=c;f.InboxHeaderButtonsWrapper=d;f.make=e}),null);
__d("MWCMEditChatInfo.bs",["fbt","MAWInboxInfoButton.bs","MWCMEditChatInfoDialogTrigger.bs","MWInboxInfoActionsSectionIcons.bs","MWPBumpEntityKey.bs","TetraIcon.react","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j=g._(/*FBT_CALL*/"\u66f4\u6539\u804a\u5929\u4fe1\u606f"/*FBT_CALL*/);function a(a){a=a.thread;return i.jsx(b("MWCMEditChatInfoDialogTrigger.bs").make,{thread:a,children:function(a){return i.jsx(b("MAWInboxInfoButton.bs").make,{addOnStart:i.jsx(b("TetraIcon.react"),{icon:b("MWInboxInfoActionsSectionIcons.bs").ChangeChatName.icon}),label:j,onPress:function(c){b("MWPBumpEntityKey.bs").bumpEntityKeyWithAppId("mw.infobar","customise_section_change_chat_info");return b("bs_curry")._1(a,void 0)}})}})}c=a;f.make=c}),null);
__d("MWInboxInfoEditEmoji.bs",["fbt","CometLazyDialogTrigger.react","JSResource","MAWInboxInfoButton.bs","MWEmoji.bs","MWLikeSvgIcon.bs","MWPBumpEntityKey.bs","MWTheme.bs","bs_curry","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={iconContainer:{alignItems:"bp9cbjyn",display:"pq6dq46d",fontSize:"o3w64lxj",justifyContent:"taijpn5t"}},l=g._(/*FBT_CALL*/"\u66f4\u6539\u8868\u60c5"/*FBT_CALL*/);function a(a){a=a.thread;var c=a.customEmoji,d=b("MWTheme.bs").useTheme(void 0),e=b("MWTheme.bs").bottom(d);return j.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("MWChatCustomizeEmojiDialog").__setRef("MWInboxInfoEditEmoji.bs"),dialogProps:{threadKey:a.threadKey,onClose:function(a){}},children:function(a){var d,f=0;c!==void 0&&c!==""?d=j.jsx("span",{role:"presentation",className:(i||(i=b("stylex")))(k.iconContainer),children:j.jsx(b("MWEmoji.bs").make,{emoji:c,size:20})}):f=1;f===1&&(d=j.jsx("span",{role:"presentation",className:(i||(i=b("stylex")))(k.iconContainer),children:j.jsx(b("MWLikeSvgIcon.bs").make,{color:e})}));return j.jsx(b("MAWInboxInfoButton.bs").make,{addOnStart:d,label:l,onPress:function(c){b("MWPBumpEntityKey.bs").bumpEntityKeyWithAppId("mw.infobar","customise_section_change_emoji");return b("bs_curry")._1(a,void 0)}})}})}c=a;f.styles=k;f.title=l;f.make=c}),null);
__d("MWInboxInfoEditNicknames.bs",["fbt","CometLazyDialogTrigger.react","JSResource","MAWInboxInfoButton.bs","MWInboxInfoActionsSectionIcons.bs","TetraIcon.react","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j=g._(/*FBT_CALL*/"\u7f16\u8f91\u6635\u79f0"/*FBT_CALL*/);function a(a){a=a.thread;return i.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("LSNicknameDialog.react").__setRef("MWInboxInfoEditNicknames.bs"),dialogProps:{thread:a,onClose:function(a){}},children:function(a){return i.jsx(b("MAWInboxInfoButton.bs").make,{addOnStart:i.jsx(b("TetraIcon.react"),{icon:b("MWInboxInfoActionsSectionIcons.bs").EditNicknames.icon}),label:j,onPress:function(c){return b("bs_curry")._1(a,void 0)},testid:"mw_edit_nicknames_button"})}})}c=a;f.make=c}),null);
__d("MWInboxInfoEditPhoto.bs",["fbt","MAWInboxInfoButton.bs","MWInboxInfoActionsSectionIcons.bs","MWV2EditPhotoUploader.bs","TetraIcon.react","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j=g._(/*FBT_CALL*/"\u66f4\u6362\u7167\u7247"/*FBT_CALL*/);function a(a){a=a.thread;return i.jsx(b("MWV2EditPhotoUploader.bs").make,{thread:a,children:function(a){return i.jsx(b("MAWInboxInfoButton.bs").make,{addOnStart:i.jsx(b("TetraIcon.react"),{icon:b("MWInboxInfoActionsSectionIcons.bs").ChangePhoto.icon}),label:j,onPress:function(c){return b("bs_curry")._1(a,void 0)}})}})}c=a;f.make=c}),null);
__d("MWInboxInfoEditTheme.bs",["fbt","CometLazyDialogTrigger.react","JSResource","MAWInboxInfoButton.bs","MWPBumpEntityKey.bs","MWTheme.bs","bs_curry","gkx","react","useCometUniqueID","useSetAttributeRef"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function j(a){var b=function(a){if(a.TAG===0)return a._0.label;else return a._0.label};return"mw_edit_theme_svg:"+b(a)}var k=b("gkx")("571")?"24":"20",l=g._(/*FBT_CALL*/"\u66f4\u6362\u4e3b\u9898"/*FBT_CALL*/);function m(a){a=b("MWTheme.bs").useTheme(void 0);var c=b("MWTheme.bs").bottom(a),d=b("useCometUniqueID")(),e=b("useSetAttributeRef")("id",d);d=b("useSetAttributeRef")("mask","url(#"+(d+")"));e=i.jsxs(i.Fragment,{children:[i.jsx("defs",{children:i.jsxs("mask",{ref:e,children:[i.jsx("rect",{width:"100%",height:"100%",fill:"white"}),i.jsx("circle",{cx:"12",cy:"12",r:"3",fill:"black"})]})}),i.jsx("circle",{cx:"12",cy:"12",r:"9",fill:c,ref:d})]});c={role:"presentation",height:k,width:k,fill:"none",viewBox:"0 0 24 24"};c["data-testid"]=j(a);return i.createElement("svg",c,e)}c={make:m};function a(a){return i.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("MWChatCustomizeThemeDialog").__setRef("MWInboxInfoEditTheme.bs"),dialogProps:{onClose:function(a){}},children:function(a){return i.jsx(b("MAWInboxInfoButton.bs").make,{addOnStart:i.jsx(m,{}),label:l,onPress:function(c){b("MWPBumpEntityKey.bs").bumpEntityKeyWithAppId("mw.infobar","customise_section_change_theme");return b("bs_curry")._1(a,void 0)},testid:"mw_inbox_edit_theme_button"})}})}d=a;f.ColorWheelSvgIcon=c;f.make=d}),null);
__d("MWEditThreadNameDialogTrigger.bs",["CometLazyDialogTrigger.react","JSResource","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.thread,d=a.children,e=h.useRef(null);return h.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("MWV2ThreadNameDialog.react").__setRef("MWEditThreadNameDialogTrigger.bs"),dialogProps:{thread:c,onClose:function(a){}},children:function(a){return b("bs_curry")._2(d,a,e)}})}c=a;f.make=c}),null);
__d("MWInboxInfoEditThreadName.bs",["fbt","MAWInboxInfoButton.bs","MWEditThreadNameDialogTrigger.bs","MWInboxInfoActionsSectionIcons.bs","TetraIcon.react","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j=g._(/*FBT_CALL*/"\u66f4\u6539\u804a\u5929\u540d\u79f0"/*FBT_CALL*/);function a(a){a=a.thread;return i.jsx(b("MWEditThreadNameDialogTrigger.bs").make,{thread:a,children:function(a,c){return i.jsx(b("MAWInboxInfoButton.bs").make,{addOnStart:i.jsx(b("TetraIcon.react"),{icon:b("MWInboxInfoActionsSectionIcons.bs").ChangeChatName.icon}),label:j,onPress:function(c){return b("bs_curry")._1(a,void 0)}})}})}c=a;f.make=c}),null);
__d("MWInboxInfoSearchInConversation.bs",["fbt","MAWInboxInfoButton.bs","MWInboxInfoActionsSectionIcons.bs","TetraIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j=g._(/*FBT_CALL*/"\u5728\u5bf9\u8bdd\u4e2d\u641c\u7d22"/*FBT_CALL*/);function a(a){a=a.toggleSearch;return i.jsx(b("MAWInboxInfoButton.bs").make,{addOnStart:i.jsx(b("TetraIcon.react"),{icon:b("MWInboxInfoActionsSectionIcons.bs").Search.icon}),label:j,onPress:a,testid:"mw_search_in_conversation_button"})}c=a;f.make=c}),null);
__d("MWInboxPersistedUIState.bs",["WebStorage","WebStorage.bs","bs_belt_Option","bs_caml_option","react","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j=b("WebStorage.bs").getLocalStorage(void 0);function a(a,c){var d=i.useState(function(){var d=b("bs_belt_Option").flatMap(j,function(a){return b("bs_caml_option").nullable_to_opt(a.getItem(c))});if(d===void 0)return a;try{d=b("bs_caml_option").some(JSON.parse(d))}catch(a){b("recoverableViolation")("Unable to parse value at "+c,"messenger_web_product"),d=void 0}if(d!==void 0)return b("bs_caml_option").valFromOption(d);else return a}),e=d[0];i.useEffect(function(){var d=JSON.stringify(e);if(d!==void 0){var a=b("bs_belt_Option").flatMap(j,function(a){return b("bs_caml_option").nullable_to_opt((h||(h=b("WebStorage"))).setItemGuarded(a,c,d))});a!==void 0&&b("recoverableViolation")("Unable to set item at path "+c,"messenger_web_product")}},[e,c]);return[e,d[1]]}f.localStorage=j;f.useHook=a}),null);
__d("MWInboxInfoActionsSection.bs",["fbt","LSMessagingThreadTypeUtil.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","MAWGating.bs","MWCMEditChatInfo.bs","MWCMThreadTypes.bs","MWCollapsible.bs","MWInboxInfoEditEmoji.bs","MWInboxInfoEditNicknames.bs","MWInboxInfoEditPhoto.bs","MWInboxInfoEditTheme.bs","MWInboxInfoEditThreadName.bs","MWInboxInfoSearchInConversation.bs","MWInboxPersistedUIState.bs","MWLSFeatureLimitedStatus.bs","MWPBumpEntityKey.bs","bs_curry","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c,d=a.thread;a=a.toggleSearch;var e=b("MWInboxPersistedUIState.bs").useHook(!1,"__MWInboxInfoActionsSection.isOpen__"),f=e[1],h=e[0],j=(e=b("LSThreadBitOffset.bs")).has((c=b("LSThreadCapabilityBitOffset.bs")).threadNameCustomization,d),k=e.has(c.threadDescriptionCustomization,d),l=e.has(c.threadPhotoCustomization,d),m=e.has(c.colorCustomization,d),n=e.has(c.emojiCustomization,d);e=e.has(c.nicknames,d);c=b("gkx")("1846003");var o=b("gkx")("1848989")&&!b("MAWGating.bs").isArmadillo(void 0)&&b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").searchInConversation,d),p=b("LSMessagingThreadTypeUtil.bs").isSecure(d.threadType);p=b("MWLSFeatureLimitedStatus.bs").useIsReadOnlyFeatureLimited(void 0)&&(!p||b("MAWGating.bs").isFeatureLimitEnabled(void 0))&&b("gkx")("1992357");var q=b("MWCMThreadTypes.bs").isAnyCMThread(d.threadType);k=[q&&j&&k&&!p?i.jsx(b("MWCMEditChatInfo.bs").make,{thread:d},"0"):null,!q&&j&&!p?i.jsx(b("MWInboxInfoEditThreadName.bs").make,{thread:d},"1"):null,l&&!p?i.jsx(b("MWInboxInfoEditPhoto.bs").make,{thread:d},"2"):null,m&&!p?i.jsx(b("MWInboxInfoEditTheme.bs").make,{},"3"):null,n&&!p?i.jsx(b("MWInboxInfoEditEmoji.bs").make,{thread:d},"4"):null,e&&!p&&c?i.jsx(b("MWInboxInfoEditNicknames.bs").make,{thread:d},"5"):null,o?i.jsx(b("MWInboxInfoSearchInConversation.bs").make,{toggleSearch:a},"6"):null];q=k.some(function(a){return a!==null});if(q)return i.jsx(b("MWCollapsible.bs").make,{children:k,onPress:function(a){b("MWPBumpEntityKey.bs").bumpEntityKeyWithAppId("mw.infobar","customise_section."+(h?"close":"open"));return b("bs_curry")._1(f,function(a){return!h})},label:g._(/*FBT_CALL*/"\u5b9a\u5236\u804a\u5929"/*FBT_CALL*/),isOpen:h,testid:"mw_inbox_customize_chat_button"});else return null}c=a;f.make=c}),null);
__d("MWInboxInfoDetailsSection.bs",["CometColumn.react","CometColumnItem.react","CometPlaceholder.react","LSContactLink.bs","LSMediaUrl.bs","LSPresenceStatusText.bs","LSThreadTitle.bs","LSVerificationBadge.bs","MDSText.react","MDSTextPairing.react","MWCMThreadTypes.bs","MWFacepile.bs","MWLSContactTypeExactUtils.bs","MWThreadPicture.bs","MessagingThreadType.bs","ReQL.bs","ReQLSubscription.bs","bs_belt_Option","bs_caml","bs_caml_option","cr:241","cr:994","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.thread;a=a.toggleSearch;var d=b("useReStore")(),e=b("bs_belt_Option").isSome(b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").filter(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("contacts")),{hd:c.threadKey,tl:0}),b("MWLSContactTypeExactUtils.bs").isIgContact)},[d,JSON.stringify(c.threadKey)])));if(e&&b("bs_caml").i64_eq(c.threadType,b("MessagingThreadType.bs").oneToOne)){e=c.nullstateDescriptionText1;e=e!==void 0?b("bs_caml_option").some(e):void 0}else e=void 0;var f=function(a){a=a.thread;var c=b("MWCMThreadTypes.bs").isJoinedCMThread(a.threadType);if(!c&&!(b("cr:994")==null)){c=b("LSMediaUrl.bs").Thread.threadPictureUrl(a);if(c!==void 0)return h.jsx(b("cr:994").make,{source:{uri:c},size:72});else return h.jsx(b("MWFacepile.bs").make,{thread:a,photoSize:"s_80",badgeSize:14})}return h.jsx(b("MWThreadPicture.bs").make,{photoSize:"s_80",badgeSize:14,thread:a})},g={headline:h.jsxs(h.Fragment,{children:[h.jsx(b("LSThreadTitle.bs").make,{thread:c,wrapOutput:function(a,c){return h.jsx(b("LSContactLink.bs").make,{contact:a,children:c,testid:"mw_inbox_info_details_section_title"})}}),h.jsx(b("CometPlaceholder.react"),{children:h.jsx(b("LSVerificationBadge.bs").make,{thread:c,size:"large"}),fallback:null})]}),level:3,textAlign:"center"};e!==void 0&&(g.meta=b("bs_caml_option").valFromOption(e));return h.jsxs(b("CometColumn.react"),{children:[h.jsx(b("CometColumnItem.react"),{align:"center",paddingTop:16,paddingVertical:12,children:h.jsx(f,{thread:c})}),h.jsx(b("CometColumnItem.react"),{align:"center",paddingHorizontal:16,paddingVertical:0,children:h.jsx(b("MDSTextPairing.react"),g)}),h.jsx(b("LSPresenceStatusText.bs").make,{thread:c,renderWrapper:function(a){return h.jsx(b("CometColumnItem.react"),{align:"center",paddingTop:8,paddingVertical:0,children:h.jsx(b("CometPlaceholder.react"),{children:h.jsx(b("MDSText.react"),{align:"center",color:"secondary",type:"body4",children:a}),fallback:null})})}}),b("cr:241")==null?null:h.jsx(b("CometColumnItem.react"),{children:h.jsx(b("cr:241").make,{thread:c,toggleSearch:a})})]})}c=a;f.$MDSProfilePhoto$OR$null$requireCond=b("cr:994");f.$MWInboxInfoQuickActions$requireCond=b("cr:241");f.make=c}),null);
__d("MWInboxInfoGroupOptionsSection.bs",["fbt","LS.bs","LSOptimisticSetNeedsAdminApprovalForNewParticipant","LSTransaction.bs","MDSListCell.react","MDSText.react","MDSTextPairing.react","MWCMThreadTypes.bs","MWCollapsible.bs","MWSwitch.react","bs_curry","promiseDone","react","useCometUniqueID","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j={labelContainer:{cursor:"am9p1bwg"},subLabelContainer:{paddingTop:"jktsbyx5"}},k=g._(/*FBT_CALL*/"\u9700\u8981\u7ba1\u7406\u5458\u6279\u51c6"/*FBT_CALL*/),l=g._(/*FBT_CALL*/"\u8981\u6c42\u7ba1\u7406\u5458\u6279\u51c6\u7fa4\u804a\u7684\u6240\u6709\u52a0\u5165\u7533\u8bf7"/*FBT_CALL*/);function a(a){var c=a.thread,d=b("useReStore")();a=i.useState(function(){return!1});var e=a[1],f=b("useCometUniqueID")(),h=c.needsAdminApprovalForNewParticipant,m=h!==void 0?h:!1,n=i.useCallback(function(a){var e=b("LSTransaction.bs").run(d,function(d){return b("LSOptimisticSetNeedsAdminApprovalForNewParticipant")(c.threadKey,a,b("LS.bs").make(d))},"readWrite");b("promiseDone")(e,void 0,void 0)},[d,JSON.stringify(c.threadKey)]);if(b("MWCMThreadTypes.bs").isAnyCMThread(c.threadType))return null;else return i.jsx(b("MWCollapsible.bs").make,{children:i.jsx(b("MDSListCell.react"),{addOnEnd:i.jsx(b("MWSwitch.react"),{onValueChange:function(a){return b("bs_curry")._1(n,!m)},value:m,children:k,"aria-describedby":f,size:"small"}),addOnEndVerticalAlign:"top",content:i.jsx(i.Fragment,{children:i.jsx(b("MDSTextPairing.react"),{meta:i.jsx(b("MDSText.react"),{type:"meta3",children:l,id:f}),headline:i.jsx(b("MDSText.react"),{type:"headline4",children:k}),level:4})}),xstyle:[j.labelContainer],size:"medium"}),onPress:function(a){return b("bs_curry")._1(e,function(a){return!a})},label:g._(/*FBT_CALL*/"\u7fa4\u804a\u9009\u9879"/*FBT_CALL*/),isOpen:a[0]})}c=a;f.make=c}),null);
__d("MWMembersSectionIcons.bs",["cr:11273"],(function(a,b,c,d,e,f){"use strict";a=b("cr:11273").Add;f.$MDSMembersSectionIcons$OR$FDSMembersSectionIcons$requireCond=b("cr:11273");f.Add=a}),null);
__d("MWInboxInfoMemberList.bs",["fbt","LSMessagingThreadTypeUtil.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","MAWGating.bs","MDSListCell.react","MDSText.react","MWAddMemberToGroupDialogTrigger.bs","MWCMThreadTypes.bs","MWGroupLimitContainer.bs","MWLSFeatureLimitedStatus.bs","MWLSGroupMembershipMemberList.bs","MWMembersSectionIcons.bs","MWPParticipantsAndContactsForThread.bs","TetraIcon.react","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j=g._(/*FBT_CALL*/"\u6dfb\u52a0\u5176\u4ed6\u4eba"/*FBT_CALL*/);function k(a){a=a.thread;return i.jsx(b("MWGroupLimitContainer.bs").make,{children:i.jsx(b("MWAddMemberToGroupDialogTrigger.bs").make,{thread:a,children:function(a,c){return i.jsx(b("MDSListCell.react"),{addOnStart:i.jsx("div",{className:"thwo4zme tv7at329 bp9cbjyn taijpn5t j83agx80 t80i3w57 spb7xbtv bkmhp75w emlxlaya s45kfl79",children:i.jsx(b("TetraIcon.react"),{icon:b("MWMembersSectionIcons.bs").Add.icon})}),content:i.jsx(b("MDSText.react"),{type:"headline4",children:j}),size:"medium",onPress:function(c){return b("bs_curry")._1(a,void 0)},ref:c})}}),groupLimitReachedContent:i.jsx(b("MDSListCell.react"),{content:i.jsx(b("MDSText.react"),{color:"secondary",type:"body4",children:g._(/*FBT_CALL*/"\u6210\u5458\u4eba\u6570\u5df2\u8fbe\u4e0a\u9650\u3002\u5982\u8981\u6dfb\u52a0\u5176\u4ed6\u6210\u5458\uff0c\u8bf7\u5148\u4ece\u7fa4\u804a\u4e2d\u79fb\u9664\u7528\u6237\u3002"/*FBT_CALL*/),testid:"members_list_group_limit_reached"}),size:"medium"}),thread:a})}c={make:k};function a(a){a=a.thread;var c=b("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType);c=b("MWLSFeatureLimitedStatus.bs").useIsReadOnlyFeatureLimited(void 0)&&(!c||b("MAWGating.bs").isFeatureLimitEnabled(void 0));var d=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").addMember,a),e=b("MWPParticipantsAndContactsForThread.bs").useValue(a),f=!b("MWCMThreadTypes.bs").isAnyCMThread(a.threadType);return i.jsxs(i.Fragment,{children:[i.jsx(b("MWLSGroupMembershipMemberList.bs").make,{thread:a,showAdminsOnly:!1,showAdminIndicator:f,participantsAndContacts:e}),!c&&d?i.jsx(k,{thread:a}):null]})}d=a;f.AddPeopleButton=c;f.make=d}),null);
__d("MWInboxInfoMembersSection.bs",["fbt","MWCollapsible.bs","MWInboxInfoMemberList.bs","MWInboxPersistedUIState.bs","MWPBumpEntityKey.bs","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){a=a.thread;var c=b("MWInboxPersistedUIState.bs").useHook(!1,"__MWInboxInfoMembersSection.isOpen__"),d=c[1],e=c[0];c=i.jsx(i.Fragment,{children:i.jsx(b("MWInboxInfoMemberList.bs").make,{thread:a})});return i.jsx(b("MWCollapsible.bs").make,{children:c,onPress:function(a){b("MWPBumpEntityKey.bs").bumpEntityKeyWithAppId("mw.infobar","chat_members_section."+(e?"close":"open"));return b("bs_curry")._1(d,function(a){return!e})},label:g._(/*FBT_CALL*/"\u804a\u5929\u6210\u5458"/*FBT_CALL*/),isOpen:e})}c=a;f.make=c}),null);
__d("MWInboxInfoPendingRequest.bs",["fbt","ix","BaseRow.react","BaseRowItem.react","CometMiddot.react","CometTextWithEntities.react","LS.bs","LSAuthorityLevel.bs","LSContactBlockedByViewerStatus.bs","LSContactGender.bs","LSContactIdType.bs","LSContactType.bs","LSContactViewerRelationship.bs","LSContactWorkForeignEntityType.bs","LSMediaUrl.bs","LSOptimisticRespondToAdminApprovalRequest","LSTransaction.bs","LSVec.bs","LSVerifyContactRowExists","MDSListCell.react","MDSText.react","MDSTextPairing.react","MWChatTextTransform.bs","MWLSContactTypeExactUtils.bs","MWTooltip.react","ReQL.bs","ReQLSubscription.bs","TetraIcon.react","TetraProfilePhoto.react","bs_curry","fbicon","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function k(a){var c=a.response,d=a.thread,e=a.contact,f=b("useReStore")(),i=j.useCallback(function(a){var c=b("LSTransaction.bs").run(f,function(c){return b("LSOptimisticRespondToAdminApprovalRequest")(d.threadKey,b("LSVec.bs").make([e.id]),a?!1:!0,b("LS.bs").make(c))},"readWrite");b("promiseDone")(c,void 0,void 0)},[f,JSON.stringify(d.threadKey),JSON.stringify(e.id)]);a=g._(/*FBT_CALL*/"\u5ffd\u7565"/*FBT_CALL*/);var k=g._(/*FBT_CALL*/"\u6279\u51c6"/*FBT_CALL*/);if(c)return j.jsx(b("MWTooltip.react"),{tooltip:a,align:"middle",position:"above",children:j.jsx(b("TetraIcon.react"),{"aria-label":a,icon:b("fbicon")._(h("478232"),16),onPress:function(a){return b("bs_curry")._1(i,1)},testid:"ignore_button",color:"secondary"})});else return j.jsx(b("MWTooltip.react"),{tooltip:k,align:"middle",position:"above",children:j.jsx(b("TetraIcon.react"),{"aria-label":k,icon:b("fbicon")._(h("477813"),16),onPress:function(a){return b("bs_curry")._1(i,0)},testid:"approve_button",color:"secondary"})})}c={make:k};var l={item:{paddingTop:"cxgpxx05",paddingEnd:"dflh9lhu",paddingBottom:"sj5x9vvc",paddingStart:"scb9dxdr"}};function a(a){var c=a.thread,d=a.groupMembershipApprovalRequest,e=b("useReStore")();a=j.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(e.table("contacts")),{hd:d.contactId,tl:0})},[e,JSON.stringify(c.threadKey),JSON.stringify(d.contactId)]);a=b("ReQLSubscription.bs").useFirst(a);var f=d.contactId;j.useEffect(function(){b("promiseDone")(b("LSTransaction.bs").run(e,function(a){return b("LSVerifyContactRowExists")(f,b("LSContactIdType.bs").fbid,void 0,void 0,b("LSContactType.bs").user,void 0,void 0,void 0,void 0,!1,!1,b("LSContactBlockedByViewerStatus.bs").unblocked,void 0,!1,b("LSAuthorityLevel.bs").clientPartial,void 0,void 0,b("LSContactWorkForeignEntityType.bs").unknown,b("LSContactGender.bs").unknown,b("LSContactViewerRelationship.bs").unknown,void 0,b("LS.bs").make(a))},"readWrite"),void 0,void 0)},[e,JSON.stringify(f)]);if(a===void 0)return null;var g=a.secondaryName;g=g!==void 0&&b("MWLSContactTypeExactUtils.bs").isIgContact(a)?g:null;return j.jsx(b("MDSListCell.react"),{addOnStart:j.jsx(b("TetraProfilePhoto.react"),{shape:"circle",alt:a.name,size:36,source:{uri:b("LSMediaUrl.bs").Contact.profilePictureUrl(a)}}),addOnEnd:j.jsxs(b("BaseRow.react"),{children:[j.jsx(b("BaseRowItem.react"),{children:j.jsx(k,{response:1,thread:c,contact:a}),xstyle:[l.item]}),j.jsx(b("BaseRowItem.react"),{children:j.jsx(k,{response:0,thread:c,contact:a}),xstyle:[l.item]})]}),content:j.jsx(b("MDSTextPairing.react"),{body:j.jsxs(b("MDSText.react"),{color:"secondary",type:"body4",children:[j.jsx(j.Fragment,{children:g}),g!==null&&d.subscribeSource!==""?j.jsx(b("CometMiddot.react"),{}):null,j.jsx(b("CometTextWithEntities.react"),{text:d.subscribeSource,transforms:[b("MWChatTextTransform.bs").emoticonTransform,b("MWChatTextTransform.bs").emojiTransform]})]}),headline:j.jsx(b("MDSText.react"),{type:"headlineEmphasized5",children:j.jsx(b("CometTextWithEntities.react"),{text:a.name,transforms:[b("MWChatTextTransform.bs").emoticonTransform,b("MWChatTextTransform.bs").emojiTransform]})}),level:4}),size:"medium"})}d=a;f.ApprovalResponseButton=c;f.styles=l;f.make=d}),null);
__d("MWInboxInfoPendingRequestsSection.bs",["fbt","MWCollapsible.bs","MWInboxInfoPendingRequest.bs","MWInboxPersistedUIState.bs","ReQL.bs","ReQLSubscription.bs","bs_curry","bs_int64","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=a.thread;a=a.isOpenInitial_TEST_ONLY;a=a!==void 0?a:!1;a=b("MWInboxPersistedUIState.bs").useHook(a,"__MWInboxInfoPendingRequestsSection.isOpen__");var d=a[1],e=a[0],f=b("useReStore")();a=i.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(f.table("group_membership_approval_requests")),{hd:c.threadKey,tl:0})},[f,JSON.stringify(c.threadKey)]);a=b("ReQLSubscription.bs").useArray(a);a=a.map(function(a){return i.jsx(b("MWInboxInfoPendingRequest.bs").make,{thread:c,groupMembershipApprovalRequest:a},b("bs_int64").to_string(a.contactId))});var h=a.length;if(h===0)return null;else return i.jsx(b("MWCollapsible.bs").make,{children:a,onPress:function(a){return b("bs_curry")._1(d,function(a){return!e})},label:g._(/*FBT_CALL*/"\u52a0\u5165\u7533\u8bf7\uff08{memberRequestCount}\uff09"/*FBT_CALL*/,[g._param("memberRequestCount",String(h))]),isOpen:e})}c=a;f.make=c}),null);
__d("MWCMInboxInfoGroupReportAdminButton.bs",["fbt","MAWInboxInfoButton.bs","MWCMUseGetReportCommunityDialogTrigger.bs","MWInboxInfoPrivacyAndSupportSectionIcons.bs","MWPBumpEntityKey.bs","TetraIcon.react","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j=g._(/*FBT_CALL*/"\u5411\u7ba1\u7406\u5458\u4e3e\u62a5"/*FBT_CALL*/);function a(a){a=a.thread;var c=b("MWCMUseGetReportCommunityDialogTrigger.bs").useHook(a);return i.jsx(b("MAWInboxInfoButton.bs").make,{addOnStart:i.jsx(b("TetraIcon.react"),{icon:b("MWInboxInfoPrivacyAndSupportSectionIcons.bs").ReportMessages.icon}),label:j,onPress:function(a){b("MWPBumpEntityKey.bs").bumpEntityKeyWithAppId("mw.infobar","privacy_support_section_report_to_admin");return b("bs_curry")._1(c,void 0)}})}c=a;f.make=c}),null);
__d("MWInboxInfoIgnoreMessages.bs",["fbt","CometLazyDialogTrigger.react","JSResource","LsIgnoreTappedFalcoEvent","LsMessengerThreadDamagingActionsEntryPoint.bs","MAWInboxInfoButton.bs","MWInboxInfoPrivacyAndSupportSectionIcons.bs","MWPBumpEntityKey.bs","TetraIcon.react","bs_caml_int64","bs_curry","bs_int64","react","uuid"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=a.thread,d=g._(/*FBT_CALL*/"\u5ffd\u7565\u6d88\u606f"/*FBT_CALL*/),e=b("uuid")();return i.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("MWChatIgnoreMessagesDialogForJSResource.react").__setRef("MWInboxInfoIgnoreMessages.bs"),dialogProps:{onClose:function(a){},thread:c,uuid:e,entryPoint:b("LsMessengerThreadDamagingActionsEntryPoint.bs").threadSettings},children:function(a){return i.jsx(b("MAWInboxInfoButton.bs").make,{addOnStart:i.jsx(b("TetraIcon.react"),{icon:b("MWInboxInfoPrivacyAndSupportSectionIcons.bs").IgnoreMessages.icon}),label:d,onPress:function(d){b("MWPBumpEntityKey.bs").bumpEntityKeyWithAppId("mw.infobar","privacy_support_section_ignore");b("LsIgnoreTappedFalcoEvent").log(function(){return{thread:{id:b("bs_int64").to_string(c.threadKey),type:b("bs_caml_int64").to_int32(c.threadType)},entry_point:{entry_point:b("bs_caml_int64").to_int32(b("LsMessengerThreadDamagingActionsEntryPoint.bs").threadSettings)},uuid:e,extra_data_map:{}}});return b("bs_curry")._1(a,void 0)},testid:"mw_ignore_messages_button"})}})}c=a;f.make=c}),null);
__d("MWInboxInfoLeaveGroupItem.bs",["MWLSConfirmRemoveFromGroup.bs","MWUseNavigateAfterLeavingGroup.bs","bs_curry"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.thread;a=a.children;var d=b("MWUseNavigateAfterLeavingGroup.bs").useHook(c);c=b("MWLSConfirmRemoveFromGroup.bs").useHook(c,!0,!1,d);return b("bs_curry")._2(a,c[0],c[1])}c=a;f.make=c}),null);
__d("MWInboxInfoPrivacyAndSupportSection.bs",["fbt","LSMessageThreadUnsendabilityStatus.bs","LSMessagingThreadTypeUtil.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","LSWhatsAppConnectStatus.bs","LsMessengerThreadDamagingActionsEntryPoint.bs","LsMessengerThreadDamagingActionsSource","MAWGating.bs","MAWInboxInfoButton.bs","MWCMInboxInfoGroupReportAdminButton.bs","MWCMThreadTypes.bs","MWCollapsible.bs","MWInboxInfoBlockMessages.bs","MWInboxInfoFRXItem.bs","MWInboxInfoIgnoreMessages.bs","MWInboxInfoLeaveGroupItem.bs","MWInboxInfoMessengerRestrict.bs","MWInboxInfoNotifications.bs","MWInboxInfoPrivacyAndSupportSectionIcons.bs","MWInboxPersistedUIState.bs","MWLSActor.bs","MWLSCanLeaveGroup.bs","MWPBumpEntityKey.bs","MWPUseIsThreadMuted.bs","MWThreadListHoverButtonDropdownMenuIcons.bs","MessagingThreadType.bs","MessengerRestrictButtonSource.bs","ReQL.bs","ReQLSubscription.bs","SortedAsyncIterable.bs","TetraIcon.react","bs_caml","bs_caml_option","bs_curry","cr:12291","cr:12295","cr:1275","cr:484","gkx","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function j(a){var c=a.threadType;a=a.cannotUnsendReason;if(a!==void 0&&b("bs_caml").i64_eq(c,b("MessagingThreadType.bs").oneToOne))return b("bs_caml").i64_eq(a,b("LSMessageThreadUnsendabilityStatus.bs").denyIfPageThread);else return!1}function k(a){var c=b("useReStore")(),d=b("MWLSActor.bs").useActor(void 0),e=a.threadKey;return b("ReQLSubscription.bs").useFirst(i.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("participants")),{hd:e,tl:{hd:d,tl:0}})},[c,d,JSON.stringify(e)]))!==void 0}var l=b("cr:1275")==null?void 0:b("bs_caml_option").some(b("cr:1275"));function a(a){var c=a.thread,d=b("useReStore")(),e=b("MWLSActor.bs").useActor(void 0);a=b("MWInboxPersistedUIState.bs").useHook(!1,"__MWInboxInfoPrivacyAndSupportSection.isOpen__");var f=a[1],h=a[0];a=b("LSMessagingThreadTypeUtil.bs").isSecure(c.threadType);var m=b("ReQLSubscription.bs").useFirst(i.useMemo(function(){if(b("LSMessagingThreadTypeUtil.bs").isOneToOne(c.threadType)){var a;return(a=b("ReQL.bs")).leftJoin(a.filter(a.getKeyRange(a.fromTableAscending(d.table("participants")),{hd:c.threadKey,tl:0}),function(a){return b("bs_caml").i64_neq(a.contactId,e)}),a.fromTableAscending(d.table("contacts")))}else return b("SortedAsyncIterable.bs").empty(void 0)},[d,JSON.stringify(c.threadKey)])),n=m!==void 0?m[0].contactId:void 0,o=b("MWPUseIsThreadMuted.bs").useHook(c),p=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").ignoreMessages,c)&&!a,q=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").block,c),r=b("gkx")("3846")&&b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").restrictContact,c),s=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").feedbackAndReport,c),t=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").reportChatToAdmin,c),u=b("MWCMThreadTypes.bs").isAnyCMThread(c.threadType),v=b("MWLSCanLeaveGroup.bs").useHook(c),w=k(c),x=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").muteThread,c),y=!(b("cr:12291")==null)&&a?i.jsx(b("cr:12291").make,{thread:c}):null,z=b("cr:484")==null?null:i.jsx(b("cr:484").make,{thread:c,triggerLocation:"sidebar"}),A,B=0;b("cr:12295")==null||!(a&&o&&!b("MAWGating.bs").isOccamadillo)?B=1:A=i.jsx(b("cr:12295").make,{thread:c});B===1&&(A=i.jsx(b("MWInboxInfoNotifications.bs").make,{thread:c,children:function(a,c,d,e,f){c={addOnStart:i.jsx(b("TetraIcon.react"),{icon:f?b("MWInboxInfoPrivacyAndSupportSectionIcons.bs").Notifications.Off.icon:b("MWInboxInfoPrivacyAndSupportSectionIcons.bs").Notifications.On.icon}),label:d,onPress:function(c){b("MWPBumpEntityKey.bs").bumpEntityKeyWithAppId("mw.infobar","privacy_support_section_mute."+(f?"unmute":"mute"));return b("bs_curry")._1(a,void 0)},testid:"mw_notifications_section_button"};e!==void 0&&(c.subLabel=e);return i.jsx(b("MAWInboxInfoButton.bs").make,c)}}));if(m!==void 0){a=m[1];o=a!==void 0&&b("bs_caml").i64_eq(c.threadType,b("MessagingThreadType.bs").oneToOne)?b("bs_caml").i64_eq(a.waConnectStatus,b("LSWhatsAppConnectStatus.bs").whatsappAddressable):!1}else o=!1;B=i.jsxs(i.Fragment,{children:[!(b("cr:1275")==null)&&n!==void 0&&o?i.jsx(l.make,{contactId:n}):null,x?A:null,p?i.jsx(b("MWInboxInfoIgnoreMessages.bs").make,{thread:c}):null,z,y,r&&n!==void 0?i.jsx(b("MWInboxInfoMessengerRestrict.bs").make,{contactId:n,thread:c,threadKey:c.threadKey,loggingEntryPoint:b("LsMessengerThreadDamagingActionsEntryPoint.bs").threadSettings,buttonSource:b("MessengerRestrictButtonSource.bs").thread_detail_settings}):null,q&&n!==void 0?i.jsx(b("MWInboxInfoBlockMessages.bs").make,{thread:c,contactId:n,isPage:j(c),children:function(a,c,d,e){return i.jsx(b("MAWInboxInfoButton.bs").make,{addOnStart:i.jsx(b("TetraIcon.react"),{icon:b("MWInboxInfoPrivacyAndSupportSectionIcons.bs").BlockMessages.icon}),label:d,onPress:function(c){return b("bs_curry")._1(a,void 0)},testid:"mw_block_messages_button"})},loggingEntryPoint:b("LsMessengerThreadDamagingActionsEntryPoint.bs").threadSettings,loggingSource:j(c)?b("LsMessengerThreadDamagingActionsSource").PAGE:b("LsMessengerThreadDamagingActionsSource").CANONICAL_THREAD}):null,t&&u?i.jsx(b("MWCMInboxInfoGroupReportAdminButton.bs").make,{thread:c}):null,s?i.jsx(b("MWInboxInfoFRXItem.bs").make,{thread:c,children:function(a,c,d,e){return i.jsx(b("MAWInboxInfoButton.bs").make,{addOnStart:i.jsx(b("TetraIcon.react"),{icon:b("MWInboxInfoPrivacyAndSupportSectionIcons.bs").FRXItem.icon}),subLabel:e,label:d,onPress:function(c){b("bs_curry")._1(a,void 0);return b("MWPBumpEntityKey.bs").bumpEntityKeyWithAppId("mw.infobar","privacy_support_section_something_wrong")},testid:"mw_info_frx_button",ref:c})}}):null,w&&v?i.jsx(b("MWInboxInfoLeaveGroupItem.bs").make,{thread:c,children:function(a,c){return i.jsx(b("MAWInboxInfoButton.bs").make,{addOnStart:i.jsx(b("TetraIcon.react"),{icon:b("MWThreadListHoverButtonDropdownMenuIcons.bs").LeaveChat.icon}),label:c,onPress:function(c){b("MWPBumpEntityKey.bs").bumpEntityKeyWithAppId("mw.infobar","privacy_support_section_leave_chat");return b("bs_curry")._1(a,function(a){})},testid:"mw_leave_group_button"})}}):null]});return i.jsx(b("MWCollapsible.bs").make,{children:B,onPress:function(a){b("MWPBumpEntityKey.bs").bumpEntityKeyWithAppId("mw.infobar","privacy_support_section."+(h?"close":"open"));return b("bs_curry")._1(f,function(a){return!h})},label:g._(/*FBT_CALL*/"\u9690\u79c1\u8bbe\u7f6e\u4e0e\u652f\u6301"/*FBT_CALL*/),isOpen:h,testid:"mw_privacy_and_support_section_button"})}c=a;f.isThreadForPage=j;f.$MAWInboxInfoPrivacyAndSupportSectionCreateSecureConversationMenuItem$requireCondXplat=b("cr:1275");f.$MAWEndToEndEncryptionKeysSection$requireCondXplat=b("cr:12291");f.$MAWEphemeralMessagesSettingsSection$requireCondXplat=b("cr:484");f.$MAWInboxInfoPrivacyAndSupportSectionUnmuteThreadButton$requireCondXplat=b("cr:12295");f.make=c}),null);
__d("MWThreadCapabilitiesContext.bs",["LSThreadBitOffset.bs","bs_int64","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=h.createContext(function(a){return!1});function a(a){var c=a.children,d=a.thread;a=b("bs_int64").to_string(d.capabilities);var e=b("bs_int64").to_string(d.capabilities2);a=h.useCallback(function(a){return b("LSThreadBitOffset.bs").has(a,d)},[a,e]);return h.createElement(i.Provider,{children:c,value:a})}d={make:a};function c(a){return h.useContext(i)}f.Provider=d;f.useHook=c}),null);
__d("MWMessageListMediaPressableContainer.bs",["CometPressable.react","LSMediaUrl.bs","LSThreadCapabilityBitOffset.bs","MWThreadCapabilitiesContext.bs","MessagingAttachmentType.bs","bs_caml","bs_caml_option","bs_curry","cr:956","gkx","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("cr:956")==null?void 0:b("bs_caml_option").some(b("cr:956"));function a(a){var c=a.attachment,d=a.onPress,e=a.children,f=a.xstyle,g=a.overlayDisabled,j=a.testid,k=a.ariaLabel,l=a.linkProps_;a=a.onHoverIn;g=g!==void 0?g:!1;var m=b("MWThreadCapabilitiesContext.bs").useHook(void 0);m=b("gkx")("1581")&&b("bs_curry")._1(m,b("LSThreadCapabilityBitOffset.bs").blurMedia);var n=b("bs_caml").i64_eq(c.attachmentType,b("MessagingAttachmentType.bs").image),o=b("bs_caml").i64_eq(c.attachmentType,b("MessagingAttachmentType.bs").video);if(!(b("cr:956")==null)&&(n||o)&&m){n={url:b("LSMediaUrl.bs").Attachment.previewUrl(c),type_:o?0:1,onPress:d,children:e,xstyle:f,overlayDisabled:g};j!==void 0&&(n.testid=b("bs_caml_option").valFromOption(j));k!==void 0&&(n.ariaLabel=b("bs_caml_option").valFromOption(k));l!==void 0&&(n.linkProps_=b("bs_caml_option").valFromOption(l));return h.jsx(i.make,n)}m={onPress:function(a){return b("bs_curry")._1(d,void 0)},overlayDisabled:g,xstyle:function(a){return f},children:e};k!==void 0&&(m["aria-label"]=b("bs_caml_option").valFromOption(k));l!==void 0&&(m.linkProps=b("bs_caml_option").valFromOption(l));j!==void 0&&(m.testid=b("bs_caml_option").valFromOption(j));a!==void 0&&(m.onHoverIn=b("bs_caml_option").valFromOption(a));return h.jsx(b("CometPressable.react"),m)}c=a;f.$MWMessageListProtectedMedia$requireCond=b("cr:956");f.make=c}),null);
__d("XCometMessengerMediaControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/messenger_media/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("MWV2UseMediaViewerURL.bs",["FBID.bs","MessagingAttachmentType.bs","XCometMessengerMediaControllerRouteBuilder","XCometMessengerPhotoControllerRouteBuilder","bs_caml","bs_int64","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){return h.useMemo(function(){var c=b("bs_caml").i64_eq(a.attachmentType,b("MessagingAttachmentType.bs").animatedImage);if(c)return b("XCometMessengerPhotoControllerRouteBuilder").buildURL({photo_ids:void 0,fbid:b("FBID.bs").ofStringExn(a.attachmentFbid),message_id:a.messageId});else return b("XCometMessengerMediaControllerRouteBuilder").buildURL({thread_id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.threadKey)),attachment_id:b("FBID.bs").ofStringExn(a.attachmentFbid),message_id:a.messageId})},[JSON.stringify(a.threadKey),JSON.stringify(a.attachmentType),JSON.stringify(a.messageId),a.attachmentFbid])}f.useHook=a}),null);
__d("VideoThumbnailDuration.react",["getFormattedTimestamp","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.videoDuration;return h.jsx("div",{className:"sf5mxxl7 pmk7jnqg pcp91wgn r8blr3vg p8fzw8mz jwdofwj8 r9r71o1u pphx12oy ljqsnud1 eu9nqtd9 qttc61fc ihh4hy1g kdgqqoy6 jk6sbkaj tqsryivl bp9cbjyn",children:c("getFormattedTimestamp")(a)})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWInboxInfoPhotoGallery.bs",["fbt","CometImage.react","CometImageCover.react","CometInfiniteScrollTrigger.react","CometPhotoGrid.react","CometPlaceholder.react","CometProgressIndicator.react","JSResourceForInteraction","MWMessageListMediaPressableContainer.bs","MWV2UseMediaViewerURL.bs","VideoThumbnailDuration.react","bs_belt_Option","bs_caml_int64","bs_caml_option","bs_curry","react","stylex","useCometLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={attachmentContainer:{height:"datstx6m"},progressRingContainer:{display:"j83agx80",justifyContent:"taijpn5t",marginTop:"aov4n071",paddingTop:"fdg1wqfs",paddingEnd:"jxrgncrl",paddingBottom:"ae35evdt",paddingStart:"qnrpqo6b"},videoThumbnail:{position:"l9j0dhe7",height:"datstx6m",display:"q9uorilb",objectFit:"bixrwtb6",width:"k4urcfbm"},videoThumbnailPlayIcon:{position:"pmk7jnqg",start:"kfkz5moi",top:"rk01pc8j",transform:"py2didcb"},photoGridSpacingNormalizer:{marginTop:"rs0gx3tq",marginEnd:"kady6ibp",marginBottom:"dicw6rsg",marginStart:"dwxx2s2f"}};function l(a){var c=a.attachment,d=a.getPreviewUrl,e=a.onPress,f=a.navigateToRouteForMediaViewer;a=b("bs_curry")._1(d,c);d=b("MWV2UseMediaViewerURL.bs").useHook(c);var h=j.jsx(b("CometImageCover.react"),{alt:b("bs_belt_Option").getWithDefault(c.filename,""),src:a}),l=j.jsx(b("CometImage.react"),{src:"/images/video/play_48dp.png",xstyle:[k.videoThumbnailPlayIcon]}),m=c.playableDurationMs;if(m!==void 0){m=b("bs_caml_int64").to_float(m)/1e3|0;l=j.jsxs("div",{className:(i||(i=b("stylex")))(k.videoThumbnail),children:[h,l,j.jsx(b("VideoThumbnailDuration.react"),{videoDuration:m})]})}else l=h;m=f?{passthroughProps:{origSrc:a},url:d}:void 0;h=b("useCometLazyDialog")(b("JSResourceForInteraction")("MWV2MediaViewer.react",{name:"MWV2MediaViewer","class":"fluid"}).__setRef("MWInboxInfoPhotoGallery.bs"));var n=h[1],o=h[0];a={attachment:c,onPress:function(a){e!==void 0&&b("bs_curry")._1(e,void 0);if(!f)return o({attachment:c},function(a){})},children:l,xstyle:[k.attachmentContainer],overlayDisabled:!0,testid:"mw_gallery_item",ariaLabel:g._(/*FBT_CALL*/"\u67e5\u770b\u7167\u7247"/*FBT_CALL*/),onHoverIn:function(a){if(!f)return b("bs_curry")._1(n,void 0)}};m!==void 0&&(a.linkProps_=b("bs_caml_option").valFromOption(m));return j.jsx(b("MWMessageListMediaPressableContainer.bs").make,a)}c={make:l};function a(a){var c=a.media,d=a.hasMore,e=a.onLoadMore,f=a.isLoading,g=a.getPreviewUrl,h=a.onPressMedia,m=a.navigateToRouteForMediaViewer;a=a.uniformGrid;var n=m!==void 0?m:!0;m=a!==void 0?a:!1;return j.jsxs(j.Fragment,{children:[j.jsx("div",{className:(i||(i=b("stylex")))(k.photoGridSpacingNormalizer),children:j.jsx(b("CometPhotoGrid.react"),{children:c.map(function(a){return j.jsx(b("CometPlaceholder.react"),{children:j.jsx(l,{attachment:a,getPreviewUrl:g,onPress:h,navigateToRouteForMediaViewer:n},a.attachmentFbid+a.messageId),fallback:null})}),uniformGrid:m})}),j.jsx(b("CometInfiniteScrollTrigger.react"),{hasMore:d,isLoading:f,onLoadMore:e,xstyle:k.progressRingContainer,children:j.jsx(b("CometProgressIndicator.react"),{size:"default"})})]})}d=a;f.styles=k;f.GalleryItem=c;f.make=d}),null);
__d("MWInboxInfoPhotos.bs",["fbt","MWCollapsible.bs","MWInboxInfoPhotoGallery.bs","MWInboxPersistedUIState.bs","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");c={attachmentContainer:{height:"datstx6m"},progressRingContainer:{display:"j83agx80",justifyContent:"taijpn5t",marginTop:"aov4n071",paddingTop:"fdg1wqfs",paddingEnd:"jxrgncrl",paddingBottom:"ae35evdt",paddingStart:"qnrpqo6b"}};function a(a){var c=a.media,d=a.hasMore,e=a.onLoadMore,f=a.isLoading,h=a.getPreviewUrl;a=a.navigateToRouteForMediaViewer;a=a!==void 0?a:!0;var j=b("MWInboxPersistedUIState.bs").useHook(!1,"__MWInboxInfoSharedPhotosSection.isOpen__");if(c.length<=0)return null;var k=j[1],l=j[0];return i.jsx(b("MWCollapsible.bs").make,{children:i.jsx(b("MWInboxInfoPhotoGallery.bs").make,{media:c,hasMore:d,onLoadMore:e,isLoading:f,getPreviewUrl:h,navigateToRouteForMediaViewer:a}),onPress:function(a){return b("bs_curry")._1(k,function(a){return!l})},label:g._(/*FBT_CALL*/"\u5206\u4eab\u7684\u5a92\u4f53\u6587\u4ef6"/*FBT_CALL*/),isOpen:l,testid:"mw_shared_photos_section_button"})}d=a;f.styles=c;f.make=d}),null);
__d("MWLSLoadMoreThreadSharedAttachments.bs",["LS.bs","LSIssueAttachmentsRangeQuery","LSTransaction.bs","MWThreadKey.bs","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useReStore")(),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0);return h.useCallback(function(e){e=b("LSTransaction.bs").run(c,function(c){return b("LSIssueAttachmentsRangeQuery")(d,a,b("LS.bs").make(c))},"readWrite");b("promiseDone")(e,void 0,void 0)},[c,d,JSON.stringify(a)])}f.useHook=a}),null);
__d("MWSharedAttachmentsSectionHooks.bs",["LSThreadMediaGalleryGroup.bs","MessagingAttachmentType.bs","ReQL.bs","ReQLSubscription.bs","SortedAsyncIterable.bs","bs_belt_Option","bs_caml","bs_caml_option","bs_curry","react","usePrevious","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c,d,e){var f=h.useState(function(){return!1}),g=f[1],i=f[0],j=a.length,k=b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(b("usePrevious")(j)),0);f=b("usePrevious")(c);var l=f==null?void 0:b("bs_caml_option").some(f);h.useEffect(function(){d===void 0&&b("bs_curry")._1(e,void 0)},[d]);h.useEffect(function(){var a=k!==j,d=l===!0&&!c;i&&(d||a)&&b("bs_curry")._1(g,function(a){return!1})},[j,c,i]);a=h.useCallback(function(a){if(!i){b("bs_curry")._1(e,void 0);return b("bs_curry")._1(g,function(a){return!0})}},[i,e,g]);f=j>0||!i&&!c;return[i,a,f]}function i(a,c,d){var e=b("useReStore")(),f=JSON.stringify(a),g=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").filter(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableDescending(e.table("attachments_ranges_v2__generated")),{hd:a,tl:0}),function(a){return b("bs_caml").i64_eq(a.mediaGroup,c)})},[e,f,c])),i=b("bs_belt_Option").map(g,function(a){return a.minTimestampMs}),j=b("bs_belt_Option").map(g,function(a){return a.hasMoreBefore});f=h.useMemo(function(){if(i!==void 0)return b("ReQL.bs").filter(b("ReQL.bs").bounds(b("ReQL.bs").fromIndexDescending(e.table("attachments").index("fk_messages")),{NAME:"range",VAL:[{NAME:"greaterThanOrEqual",VAL:{hd:a,tl:{hd:i,tl:0}}},{NAME:"lessThanOrEqual",VAL:{hd:a,tl:{hd:[2328,1316134911],tl:0}}}]}),d);else return b("SortedAsyncIterable.bs").empty(void 0)},[e,f,i,d]);return[f,g,i,j]}function c(a){var c=h.useCallback(function(a){if(b("bs_caml").i64_eq(a.attachmentType,b("MessagingAttachmentType.bs").xma))return a.defaultCtaType==="xma_web_url";else return!1},[]);a=a.threadKey;a=i(a,b("LSThreadMediaGalleryGroup.bs").links,c);c=b("ReQLSubscription.bs").useArray(a[0]);return[c,b("LSThreadMediaGalleryGroup.bs").links,a[1],a[2],a[3]]}function d(a){var c=h.useCallback(function(a){a=a.attachmentType;if(b("bs_caml").i64_eq(a,b("MessagingAttachmentType.bs").image))return!0;else return b("bs_caml").i64_eq(a,b("MessagingAttachmentType.bs").video)},[]);a=a.threadKey;a=i(a,b("LSThreadMediaGalleryGroup.bs").photosAndVideos,c);c=b("ReQLSubscription.bs").useArray(a[0]);return[c,b("LSThreadMediaGalleryGroup.bs").photosAndVideos,a[1],a[2],a[3]]}function e(a){var c=h.useCallback(function(a){return b("bs_caml").i64_eq(a.attachmentType,b("MessagingAttachmentType.bs").file)},[]);a=a.threadKey;a=i(a,b("LSThreadMediaGalleryGroup.bs").filesOnly,c);c=b("ReQLSubscription.bs").useArray(a[0]);return[c,b("LSThreadMediaGalleryGroup.bs").filesOnly,a[1],a[2],a[3]]}f.useLoader=a;f.useQueryAttachments=i;f.useQueryLinkAttachments=c;f.useQueryMediaAttachments=d;f.useQueryFileAttachments=e}),null);
__d("MWOpenInboxInfoSharedPhotosSection.bs",["LSMediaUrl.bs","MWInboxInfoPhotos.bs","MWLSLoadMoreThreadSharedAttachments.bs","MWSharedAttachmentsSectionHooks.bs","bs_belt_Option","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=a.thread;var c=b("MWSharedAttachmentsSectionHooks.bs").useQueryMediaAttachments(a),d=c[0],e=b("bs_belt_Option").getWithDefault(c[4],!0),f=b("MWLSLoadMoreThreadSharedAttachments.bs").useHook(c[1]);c=b("MWSharedAttachmentsSectionHooks.bs").useLoader(d,e,c[2],f);f=h.useCallback(function(a){return b("bs_belt_Option").getWithDefault(b("LSMediaUrl.bs").Attachment.previewUrl(a),"")},[]);return h.jsx(b("MWInboxInfoPhotos.bs").make,{thread:a,media:d,hasMore:e,onLoadMore:c[1],isLoading:c[0],getPreviewUrl:f})}c=a;f.make=c}),null);
__d("MWInboxInfo.bs",["BaseMultiStepContainer.re","CometColumn.react","CometColumnItem.react","CometScrollableArea.react","LSMessagingThreadTypeUtil.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","MWCMThreadTypes.bs","MWInboxInfoActionsSection.bs","MWInboxInfoDetailsSection.bs","MWInboxInfoGroupOptionsSection.bs","MWInboxInfoMembersSection.bs","MWInboxInfoPendingRequestsSection.bs","MWInboxInfoPrivacyAndSupportSection.bs","MWOpenInboxInfoSharedPhotosSection.bs","MWV2ThreadIsPage.bs","ReQL.bs","ReQLSubscription.bs","ReQLSuspense","TetraList.react","bs_caml","bs_caml_option","cr:10879","cr:2513","cr:2514","cr:818","gkx","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i={container:{marginBottom:"sjgh65i0"}};c=b("cr:2513")==null?void 0:b("bs_caml_option").some(b("cr:2513"));d=b("cr:10879")==null?void 0:b("bs_caml_option").some(b("cr:10879"));e=b("cr:2514")==null?void 0:b("bs_caml_option").some(b("cr:2514"));var j=b("cr:818")==null?void 0:b("bs_caml_option").some(b("cr:818"));function k(a){a=a.thread;var c=b("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType),d=!(b("cr:2513")==null),e=b("gkx")("1857541");if(e)if(c)if(b("cr:10879")==null)return null;else return h.jsx(h.Suspense,{children:h.jsx(b("cr:10879").make,{thread:a}),fallback:null});else if(d)return null;else return h.jsx(b("MWOpenInboxInfoSharedPhotosSection.bs").make,{thread:a});else return null}var l={make:k};function m(a){a=a.thread;if(!(b("cr:818")==null)&&b("MWCMThreadTypes.bs").isJoinedCMThread(a.threadType))return h.jsx(b("cr:818").make,{thread:a});else return null}var n={make:m};function o(a){a=a.thread;var c=b("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType),d=b("gkx")("1801841");if(d||c||b("cr:2514")==null)return null;else return h.jsx(b("cr:2514").make,{thread:a})}var p={make:o};function q(a){var c=a.pushPage;a=a.thread;var d=b("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType);if(d||b("cr:2513")==null)return null;else return h.jsx(b("cr:2513").make,{thread:a,pushPage:c,isSecureThread:d})}var r={make:q};function s(a){var c=b("useReStore")();return b("ReQLSubscription.bs").useFirst(h.useMemo(function(){var d,e=b("ReQLSuspense").firstExn((d=b("ReQL.bs")).map(d.fromTableAscending(c.table("_user_info")),function(a){return a.facebookUserId}));return d.filter(d.getKeyRange(d.fromTableAscending(c.table("participants")),{hd:a.threadKey,tl:0}),function(a){return b("bs_caml").i64_eq(a.contactId,e)})},[c,JSON.stringify(a.threadKey)]))}function t(a){var c=a.thread,d=a.toggleSearch;a=a.pushPage;var e=b("LSMessagingThreadTypeUtil.bs").isGroup(c.threadType),f=s(c);if(f!==void 0){f=f.isAdmin;f=f!==void 0&&f?!0:!1}else f=!1;var g=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").messageRequestComposerBanner,c),i=b("LSMessagingThreadTypeUtil.bs").isSecure(c.threadType);f=e&&f&&!g&&!i;return h.jsx(b("CometColumn.react"),{children:h.jsxs(b("MWV2ThreadIsPage.bs").make,{thread:c,children:[h.jsx(b("MWInboxInfoDetailsSection.bs").make,{thread:c,toggleSearch:d}),h.jsx(b("CometColumnItem.react"),{paddingVertical:20,children:h.jsxs(b("TetraList.react"),{children:[h.jsx(m,{thread:c}),h.jsx(b("MWInboxInfoActionsSection.bs").make,{thread:c,toggleSearch:d}),f?h.jsx(b("MWInboxInfoGroupOptionsSection.bs").make,{thread:c}):null,f?h.jsx(b("MWInboxInfoPendingRequestsSection.bs").make,{thread:c}):null,e?h.jsx(b("MWInboxInfoMembersSection.bs").make,{thread:c}):null,h.jsx(q,{pushPage:a,thread:c}),h.jsx(b("MWInboxInfoPrivacyAndSupportSection.bs").make,{thread:c}),h.jsx(o,{thread:c}),h.jsx(k,{thread:c})]})})]})})}var u={make:t};function a(a){var c=a.thread,d=a.toggleSearch;a=a.disableInitialAutoFocus;var e;if(b("cr:2513")==null)e=h.jsx(t,{thread:c,toggleSearch:d});else{var f={children:function(a){return h.jsx(t,{thread:c,toggleSearch:d,pushPage:a})},disableFocusContainment:!0};a!==void 0&&(f.disableInitialAutoFocus=a);e=h.jsx(b("BaseMultiStepContainer.re").make,f)}return h.jsx(b("CometScrollableArea.react"),{expanding:!0,xstyle:i.container,children:e})}a=h.memo(a);f.styles=i;f.$MWInboxInfoSharedContentSection$requireCond=b("cr:2513");f.mwInboxInfoSharedContentSection=c;f.$MAWSecureInboxInfoSharedPhotosSection$requireCond=b("cr:10879");f.mAWSecureInboxInfoSharedPhotosSection=d;f.$null$OR$MWInboxInfoSharedFilesSection$requireCond=b("cr:2514");f.mWInboxInfoSharedFilesSection=e;f.$MWCMInboxInfoGroupInfoSection$OR$null$requireCond=b("cr:818");f.mWCMInboxInfoGroupInfoSection=j;f.SharedMediaSection=l;f.GroupInfoSection=n;f.SharedFileSection=p;f.SharedContentSection=r;f.useViewerParticipant=s;f.MWInboxInfoImplementation=u;f.make=a}),null);
__d("ReactStyle.bs",["ReactDOMStyle.bs"],(function(a,b,c,d,e,f){"use strict";a=b("ReactDOMStyle.bs").unsafeAddProp;f.unsafeAddProp=a}),null);
__d("MWInboxSearchHeader.bs",["fbt","ix","BaseTextInput.react","CometPressable.react","CometProgressRingIndeterminate.react","LS.bs","LSClearMessageSearchTable","LSIssueMessageSearchQuery","LSMessageSearchType.bs","LSMessagingThreadTypeUtil.bs","LSSearchRequestStatusType.bs","LSTransaction.bs","MDSText.react","MWLSActor.bs","ReQL.bs","ReQLSubscription.bs","ReactStyle.bs","SortedAsyncIterable.bs","TetraButton.react","TetraIcon.react","bs_belt_Option","bs_caml","bs_caml_array","bs_caml_format","bs_caml_obj","bs_curry","bs_int64","cr:1047","fbicon","promiseDone","react","stylex","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||b("react"),l=g._(/*FBT_CALL*/"\u641c\u7d22"/*FBT_CALL*/),m={root:{display:"j83agx80",alignItems:"bp9cbjyn",borderBottom:"linmgsc8",paddingTop:"cxgpxx05",paddingEnd:"hv4rvrfc",paddingBottom:"sj5x9vvc",paddingStart:"dati1w0a"},searchInputContainer:{alignItems:"bp9cbjyn",display:"j83agx80",flexGrow:"buofh1pr",marginEnd:"oi9244e8",position:"l9j0dhe7",backgroundColor:"b3i9ofy5",borderTopStartRadius:"br7hx15l",borderTopEndRadius:"h2jyy9rg",borderBottomEndRadius:"n3ddgdk9",borderBottomStartRadius:"owxd89k7"},searchInput:{boxSizing:"rq0escxv",display:"a8c37x1j",minWidth:"a5nuqjux",position:"l9j0dhe7",width:"k4urcfbm"},startIcon:{position:"pmk7jnqg",start:"ax37mqq2",top:"c0p38np4"},searchInputText:{flexGrow:"buofh1pr",appearance:"dwo3fsh8",borderTop:"qu0x051f",borderEnd:"esr5mh6w",borderBottom:"e9989ue4",borderStart:"r7d6kgcz",boxSizing:"rq0escxv",color:"oo9gr5id",fontFamily:"ihxqhq3m",fontSize:"jq4qci2q",outline:"lzcic4wl",transitionProperty:"nlq1og4t",width:"k4urcfbm","::-ms-clear":{display:"iu8raji3"},"::placeholder":{color:"b1f16np4"},":focus::placeholder":{color:"hdh3q7d8"},height:"tv7at329",paddingTop:"l60d2q6s",paddingEnd:"d1544ag0",paddingBottom:"hwnh5xvq",paddingStart:"tw6a2znq",textIndent:"o1lsuvei",backgroundColor:"g5ia77u1"},resultsText:{marginEnd:"r70wmyd8",whiteSpace:"g0qnabr5"},button:{alignItems:"bp9cbjyn",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",display:"j83agx80",height:"k7cz35w2",justifyContent:"taijpn5t",width:"bsnbvmp4"},progressIndicator:{marginEnd:"o3lre8g0",paddingTop:"jwdofwj8"}};function a(a){var c=a.thread,d=a.setVisibleMessage,e=a.onClose,f=b("MWLSActor.bs").useActor(void 0),i=b("useReStore")();a=b("ReQLSubscription.bs").useFirst(k.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(i.table("message_search_queries")),{hd:b("LSMessageSearchType.bs").thread,tl:0})},[i]));var n=b("bs_belt_Option").map(a,function(a){return a.query});a=k.useState(function(){return b("bs_belt_Option").getWithDefault(n,"")});var o=a[1],p=a[0];a=k.useState(function(){return 0});var q=a[1],r=a[0],s=k.useRef(!0),t=b("ReQLSubscription.bs").useFirst(k.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(i.table("message_search_queries")),{hd:b("LSMessageSearchType.bs").message,tl:{hd:p,tl:{hd:c.threadKey,tl:0}}})},[i,p,c])),u=b("bs_belt_Option").map(t,function(a){return a.query}),v=b("ReQLSubscription.bs").useArray(k.useMemo(function(){if(u!==void 0)return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(i.table("message_search_results")),{hd:b("LSMessageSearchType.bs").message,tl:{hd:u,tl:{hd:c.threadKey,tl:0}}});else return b("SortedAsyncIterable.bs").empty(void 0)},[i,u,c]));k.useEffect(function(){b("bs_belt_Option").isNone(t)&&b("bs_curry")._1(q,function(a){return 0})},[t,q]);a=k.useMemo(function(){if(t!==void 0&&b("bs_caml").i64_eq(t.status,b("LSSearchRequestStatusType.bs").complete))return g._(/*FBT_CALL*/"{totalResults}\u4e2a\u7ed3\u679c"/*FBT_CALL*/,[g._param("totalResults",b("bs_int64").to_string(t.resultCount))]);else return null},[t,c]);var w=b("bs_belt_Option").mapWithDefault(t,!0,function(a){return b("bs_caml").i64_eq(a.status,b("LSSearchRequestStatusType.bs").complete)})?null:k.jsx("div",{className:(j||(j=b("stylex")))(m.progressIndicator),children:k.jsx(b("CometProgressRingIndeterminate.react"),{color:"blue",size:16})}),x=k.useRef(void 0);k.useEffect(function(){if(v.length>0&&r<v.length){var a=b("bs_caml_array").get(v,r);b("bs_caml_obj").caml_notequal(x.current,a)&&(b("bs_curry")._1(d,function(c){c=a.matchOffsets;var d=a.matchLengths;if(c!==void 0)if(d!==void 0){c=c.split(",");var e=d.split(",");d=c.map(function(a,c){return{matchOffset:b("bs_caml_format").caml_int_of_string(a),matchLength:b("bs_caml_format").caml_int_of_string(b("bs_caml_array").get(e,c))}})}else d=[];else d=[];return{timestamp:b("bs_belt_Option").getExn(a.messageTimestampMs),messageId:b("bs_belt_Option").getExn(a.messageId),highlights:d,contextLine:b("bs_belt_Option").getWithDefault(a.contextLine,""),source:0}}),x.current=a)}},[v,r]);var y=k.useRef(void 0);k.useEffect(function(){b("bs_belt_Option").mapWithDefault(y.current,!0,function(a){return p!==a[0]?!0:a[1]!==q})&&!s.current&&(b("bs_curry")._1(q,function(a){return 0}),b("promiseDone")(b("LSTransaction.bs").run(i,function(a){var c=b("LS.bs").make(a);return b("LSClearMessageSearchTable")(b("LSMessageSearchType.bs").message,c).then(function(a){return b("LSClearMessageSearchTable")(b("LSMessageSearchType.bs").thread,c)})},"readWrite"),function(a){return b("bs_curry")._1(d,function(a){})})),y.current=[p,q]},[p,q]);k.useEffect(function(){s.current&&(s.current=!1)},[p,s]);var z=k.useCallback(function(a){b("bs_curry")._1(d,function(a){});var e=b("LSMessagingThreadTypeUtil.bs").isSecure(c.threadType),g,h=0;e&&!(b("cr:1047")==null)?g=b("bs_curry")._4(b("cr:1047").searchSecureDatabaseMessages,a,c.threadKey,f,i):h=1;h===1&&(g=b("LSTransaction.bs").run(i,function(d){var e=b("LS.bs").make(d);return b("LSClearMessageSearchTable")(b("LSMessageSearchType.bs").message,e).then(function(d){return b("LSIssueMessageSearchQuery")(a,b("LSMessageSearchType.bs").message,c.threadKey,void 0,e)})},"readWrite"));b("promiseDone")(g,void 0,void 0)},[i,p,JSON.stringify(c.threadKey),f]),A=k.useRef(n),B=k.useRef(!1);k.useEffect(function(){(b("bs_caml_obj").caml_notequal(A.current,n)||!B.current)&&(n!==void 0&&(s.current=!0,b("bs_curry")._1(o,function(a){return n}),b("bs_curry")._1(z,n)),A.current=n,B.current=!0)},[n,o,s,z,B]);var C=function(a){r===(v.length-1|0)&&b("bs_belt_Option").mapWithDefault(t,!1,function(a){return b("bs_belt_Option").getWithDefault(a.hasNextPage,!1)})&&b("promiseDone")(b("LSTransaction.bs").run(i,function(a){return b("LSIssueMessageSearchQuery")(p,b("LSMessageSearchType.bs").message,c.threadKey,b("bs_belt_Option").getExn(b("bs_belt_Option").getExn(t).nextPageCursor),b("LS.bs").make(a))},"readWrite"),void 0,void 0);return b("bs_curry")._1(q,function(a){return a+1|0})},D=function(a){return b("bs_curry")._1(q,function(a){return a-1|0})},E=k.useCallback(function(a){b("promiseDone")(b("LSTransaction.bs").run(i,function(a){var c=b("LS.bs").make(a);return b("LSClearMessageSearchTable")(b("LSMessageSearchType.bs").message,c).then(function(a){return b("LSClearMessageSearchTable")(b("LSMessageSearchType.bs").thread,c)})},"readWrite"),function(a){return b("bs_curry")._1(e,void 0)})},[i,e]);k.useEffect(function(){b("bs_curry")._1(d,function(a){})},[]);var F=v.length===0||r===(v.length-1|0)&&!b("bs_belt_Option").mapWithDefault(t,!1,function(a){return b("bs_belt_Option").getWithDefault(a.hasNextPage,!1)}),G=r===0,H=k.useMemo(function(){var a=b("ReactStyle.bs").unsafeAddProp({},"--divider","rgba(0,0,0,0)");return b("ReactStyle.bs").unsafeAddProp(a,"--card-background","rgba(0,0,0,0)")},[]);return k.jsxs("form",{className:(j||(j=b("stylex")))(m.root),onSubmit:function(a){a.preventDefault();return b("bs_curry")._1(z,p)},children:[k.jsxs("div",{style:H,className:j(m.searchInputContainer),children:[k.jsxs("label",{className:j(m.searchInput),children:[k.jsx("div",{className:j(m.startIcon),children:k.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(h("491282"),16),color:"tertiary"})}),k.jsx(b("BaseTextInput.react"),{autoFocus:!0,onChange:function(a){return b("bs_curry")._1(o,function(b){return a.target.value})},placeholder:l,value:p,xstyle:[m.searchInputText],spellCheck:!1,label:l,testid:"mw_thread_search_input"})]}),w,a===null?null:k.jsx("div",{role:"alert",className:(j||(j=b("stylex")))(m.resultsText),children:k.jsx(b("MDSText.react"),{type:"meta3",children:a,testid:"mw_thread_search_results"})})]}),k.jsx(b("CometPressable.react"),{disabled:F,onPress:C,xstyle:function(a){return[m.button]},children:k.jsx(b("TetraIcon.react"),{alt:g._(/*FBT_CALL*/"\u4e0b\u4e00\u6761"/*FBT_CALL*/),icon:b("fbicon")._(h("505564"),16),color:F?"disabled":"highlight"})}),k.jsx(b("CometPressable.react"),{disabled:G,onPress:D,xstyle:function(a){return[m.button]},children:k.jsx(b("TetraIcon.react"),{alt:g._(/*FBT_CALL*/"\u4e0a\u4e00\u6761"/*FBT_CALL*/),icon:b("fbicon")._(h("492450"),16),color:G?"disabled":"highlight"})}),k.jsx("div",{children:k.jsx(b("TetraButton.react"),{label:g._(/*FBT_CALL*/"\u5173\u95ed"/*FBT_CALL*/),type:"overlay",onPress:E})})]})}c=b("cr:1047");d=a;f.searchPlaceholder=l;f.styles=m;f.$MWInboxSecureContentSearch$requireCond=b("cr:1047");f.mWInboxSecureContentSearch=c;f.make=d}),null);
__d("LSNullstateCTAType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];f.none=a;f.getStarted=c;f.icebreaker=d}),null);
__d("LsReplyRenderedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743878");c=b("FalcoLoggerInternal").create("ls_reply_rendered",a);e.exports=c}),null);
__d("MWChatTextFormatting",["$InternalEnum","MessengerFormattingConfig","TetraText.react","UnicodeUtils","cr:1695543","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=b("$InternalEnum").Mirrored(["CodeBlock","InlineCode","BlockQuote","InlineQuote","Bold","Italics","StrikeThrough"]);function j(a){var b,d=function(a){return a[2]},e=1,f=!0,g=function(a){return!0};switch(a){case i.Bold:b=c("MessengerFormattingConfig").boldConfig.pattern;break;case i.Italics:b=c("MessengerFormattingConfig").italicConfig.pattern;break;case i.StrikeThrough:b=c("MessengerFormattingConfig").strikethroughConfig.pattern;break;case i.InlineCode:b=c("MessengerFormattingConfig").codeConfig.pattern;break;case i.BlockQuote:b=c("MessengerFormattingConfig").blockQuoteConfig.pattern;f=!1;break;case i.InlineQuote:g=function(a){return a.trim()!==">"};b=c("MessengerFormattingConfig").singleInlineBlockQuoteConfig.pattern;f=!1;break;case i.CodeBlock:d=function(a){var b;return(b=a[4])!=null?b:a[5]};b=c("MessengerFormattingConfig").codeBlockV2Config.pattern;f=!1;break}if(b==null)throw c("unrecoverableViolation")("No formatting config found for given format","messenger_comet");return{getCleanText:d,hasClosingTag:f,regExp:new RegExp(b,"gm"),tagIndex:e,validator:g}}var k=[i.CodeBlock,i.InlineCode,i.BlockQuote,i.InlineQuote,i.Bold,i.Italics,i.StrikeThrough];function a(a,d){switch(d.format){case i.Bold:return h.jsx("b",{children:d.text});case i.Italics:return h.jsx("i",{children:d.text});case i.StrikeThrough:return h.jsx("strike",{children:d.text});case i.CodeBlock:return h.jsx("div",{className:"ii04i59q b3onmgus e5nlhep0 ph5uu5jm ecm0bbzt l82x9zwi uo3d90p7 pw54ja7n ue3kfks5 b3i9ofy5",children:h.jsx(c("TetraText.react"),{type:"body4",children:h.jsx("code",{children:d.text})})});case i.InlineCode:return h.jsx("code",{className:"",children:d.text});case i.BlockQuote:case i.InlineQuote:return h.jsx(b("cr:1695543"),{children:d.text})}}a.displayName=a.name+" [from "+f.id+"]";function e(a,d){switch(d.format){case i.Bold:return h.jsx("b",{children:d.text});case i.Italics:return h.jsx("i",{children:d.text});case i.StrikeThrough:return h.jsx("strike",{children:d.text});case i.CodeBlock:return h.jsx("div",{className:"ii04i59q b3onmgus e5nlhep0 ph5uu5jm ecm0bbzt l82x9zwi uo3d90p7 pw54ja7n ue3kfks5 b3i9ofy5",children:h.jsx(c("TetraText.react"),{type:"body4",children:h.jsx("code",{children:d.text})})});case i.InlineCode:return h.jsx("code",{className:"",children:d.text});case i.BlockQuote:case i.InlineQuote:return h.jsx(b("cr:1695543"),{children:d.text})}}e.displayName=e.name+" [from "+f.id+"]";function l(a){var b=[];k.forEach(function(c){var e=j(c),f=e.getCleanText,g=e.hasClosingTag,h=e.regExp,i=e.tagIndex;e=e.validator;var k;if(!e(a))return;e=function(){if(k==null)return"break";var e=d("UnicodeUtils").substr(a,0,k.index);e=e.length-d("UnicodeUtils").strlen(e);var h=k.index-e,j=k[0].length;g&&(h+=k[i].length,j-=k[i].length);e=function(a){var b=h+j,c=a.offset+a.length;return b>a.offset&&h<c};var l=f(k);if(!b.find(e)){if(b.length>0){e=b[b.length-1];if(e.entity.format===c&&e.offset+e.length+1===h){e.entity.text+="\n"+l;e.length+=j+1;return"continue"}}b.push({entity:{__typename:"MessengerTextFormatting",format:c,text:l},length:j,offset:h})}};_loop:while((k=h.exec(a))!=null){var l=e();switch(l){case"break":break _loop;case"continue":continue}}});return b}g.messageRenderer=a;g.replyRenderer=e;g.getFormattingRanges=l}),98);
__d("MWChatReplyText.bs",["CometTextWithEntities.react","MWChatTextFormatting","MWChatTextTransform.bs","bs_caml_option","bs_curry","cr:385","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={replyToText:{color:"m9osqain"}};function a(a){var c=a.text;a=a.ranges;var d={};d.MessengerTextFormatting=[b("MWChatTextFormatting").replyRenderer];c=b("cr:385")==null?c:b("bs_curry")._1(b("cr:385").unvault,c);c={maxLength:120,maxLines:2,truncationStyle:"ellipsis-only",withParagraphs:!1,text:c,renderers:d,transforms:b("MWChatTextTransform.bs").epdTextTransformsNoVault};a!==void 0&&(c.ranges=b("bs_caml_option").valFromOption(a));d=i.jsx(b("CometTextWithEntities.react"),c);return i.jsx("div",{dir:"auto",className:(h||(h=b("stylex")))(j.replyToText),children:d})}c=a;f.styles=j;f.$MAWVault$requireCond=b("cr:385");f.make=c}),null);
__d("LSHotEmojiSize.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];f.none=a;f.small=c;f.medium=d;f.large=e}),null);
__d("MWChatHotLikeEmitterContext.bs",["MWChatHotlikeEmitter.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("MWChatHotlikeEmitter.bs").createEmitter(void 0),j=h.createContext(i);function a(a){a=a.children;return h.createElement(j.Provider,{value:i,children:a})}d={make:a};function c(a){return h.useContext(j)}f.emitter=i;f.context=j;f.Provider=d;f.useHook=c}),null);
__d("XStickerAssetController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/stickers/asset/",{sticker_id:{type:"Int",required:!0},image_type:{type:"Enum",defaultValue:"BestEffortImage",enumType:1}})}),null);
__d("MessengerHotLikeUtils",["EmojiLikeConstants","StickerConstants","XStickerAssetController"],(function(a,b,c,d,e,f,g){"use strict";var h={small:1e3,medium:2e3,large:3e3};function a(a){var b=c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID;switch(!0){case a<h.small:b=c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID;break;case a<h.medium:b=c("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID;break;case a<h.large:b=c("StickerConstants").HOT_LIKE_LARGE_STICKER_ID;break}return b}function b(a){var b=d("EmojiLikeConstants").size.SMALL;a<h.small?b=d("EmojiLikeConstants").size.SMALL:a<h.medium?b=d("EmojiLikeConstants").size.MEDIUM:a<h.large&&(b=d("EmojiLikeConstants").size.LARGE);return b}function e(a){var b;switch(a){case c("StickerConstants").HOT_LIKE_LARGE_STICKER_ID:b=120;break;case c("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID:b=84;break;case c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID:b=35;break;case d("EmojiLikeConstants").size.LARGE:b=64;break;case d("EmojiLikeConstants").size.MEDIUM:b=64;break;case d("EmojiLikeConstants").size.SMALL:b=32;break}return b?{height:b,width:b}:void 0}function f(){return c("XStickerAssetController").getURIBuilder().setInt("sticker_id",c("StickerConstants").HOT_LIKE_LARGE_STICKER_ID).setEnum("image_type","BestEffortImage").getURI().toString()}function i(a){return c("XStickerAssetController").getURIBuilder().setInt("sticker_id",a).setEnum("image_type","BestEffortImage").getURI().toString()}function j(a){return a&&a.custom_like_icon}g.SizeTimes=h;g.getStickerIDForTime=a;g.getEmojiSizeForTime=b;g.getMetadataForHotLike=e;g.getPreviewURI=f;g.getURIWithID=i;g.getCustomEmojiFromThread=j}),98);
__d("MWChatFileIcon.bs",["ix","TetraIcon.react","fbicon","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={icon:{display:"j83agx80",alignItems:"bp9cbjyn",justifyContent:"taijpn5t",paddingTop:"cxgpxx05",paddingEnd:"dflh9lhu",paddingBottom:"sj5x9vvc",paddingStart:"scb9dxdr",marginEnd:"o3lre8g0",backgroundColor:"hybvsw6c",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv"}};function a(a){return j.jsx("div",{className:(i||(i=b("stylex")))(k.icon),children:j.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(g("908355"),16),color:"primary"})})}c=a;f.styles=k;f.make=c}),null);
__d("Navigator.bs",["bs_caml_option"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=navigator.permissions;if(c==null)return;var d=c.query;if(!(d==null))return b("bs_caml_option").nullable_to_opt(d.call(c,a))}f.query=a}),null);
__d("WebWorker",["invariant","BlobFactory","Bootloader","EventListener","SubscriptionsHandler","URI","WebWorkerConfig","XHRRequest","areSameOrigin","cr:951783","createTrustedScriptURLForWebWorker","emptyFunction","filterObject","getCrossOriginTransport","gkx","memoize","performanceNow","recoverableViolation"],(function(a,b,c,d,e,f,g){var h,i,j=a.URL||a.webkitURL,k={remove:b("emptyFunction")},l=function(){"use strict";function c(a){var c=this;this.$2=!1;this.$3=null;this.$4=a;this.__worker=null;this.$5=b("emptyFunction");this.$6=b("emptyFunction");this.$7=[];this.$8=[];this.$9=!1;this.$10=new(b("SubscriptionsHandler"))();this.$1=b("cr:951783")!==null?b("cr:951783")(function(){c.$9||c.terminate()}):k;b("gkx")("708253")&&setTimeout(function(){!c.$9&&!c.isCurrentState("terminated")&&b("recoverableViolation")("WebWorker (resource: "+a.name+") allowCrossPageTransitions must be true on Comet, or you must handle cleaning up your worker.","comet_infra")},1e3);this.$11("constructed")}var d=c.prototype;d.setMessageHandler=function(a){this.$5=a||b("emptyFunction");return this};d.setErrorHandler=function(a){this.$6=a||b("emptyFunction");return this};d.postMessage=function(a,b){this.isCurrentState("constructed")&&g(0,5977);this.isCurrentState("terminated")&&g(0,5978);if(this.isCurrentState("preparing")){this.$7.push(this.postMessage.bind(this,a,b));return this}a={type:"message",message:a};b?this.getInterfaceableWorker().postMessage(a,b):this.getInterfaceableWorker().postMessage(a);return this};d.$12=function(){this.isCurrentState("terminated")||(this.$11("terminated"),this.__worker=null,this.$13(),this.$7=[],this.$8=[],this.$1&&this.$1.remove&&this.$1.remove())};d.terminate=function(){this.isCurrentState("executing")&&this.__worker!=null&&this.__worker.terminate(),this.$12()};d.execute=function(){this.isCurrentState("terminated")&&g(0,5979);if(["preparing","executing"].some(this.isCurrentState,this))return this;this.$11("preparing");c.prepareResource(this.$4,this.$14.bind(this));return this};d.setAllowCrossPageTransition=function(a){b("gkx")("708253")&&!a&&b("recoverableViolation")("allowAcrossPageTransitions must be true because we dont kill these in Comet.","comet_infra");this.$9=a;return this};d.isCurrentState=function(a){c.states.includes(a)||g(0,5980,a);return a===this.$3};d.$14=function(){this.isCurrentState("executing")&&g(0,5981);if(this.isCurrentState("terminated"))return;this.$4.sameOriginURL||this.$4.source||g(0,19837,this.$4.name);this.$4.sameOriginURL?this.__worker=this.constructWorker(this.$4.sameOriginURL):(this.__worker=this.constructWorker(c.evalWorkerURL),this.getInterfaceableWorker().postMessage(this.$4.source));this.$15("ping",Date.now());if(this.$4.dynamicModules)try{this.$15("defineModules",this.$4.dynamicModules)}catch(a){this.terminate();this.$16("define_error",{message:a.message});throw a}this.$17();this.$11("executing");this.$7.forEach(function(a){return a()});this.$7=[];this.$8.forEach(function(a){return a()});this.$8=[]};d.$13=function(){this.$10.release()};d.$15=function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];this.getInterfaceableWorker().postMessage({type:a,args:c})};d.$16=function(a,b){c.$16(a,this.$4.name,babelHelpers["extends"]({},b,{cross_page_transition:!!this.$9,state:this.$3}))};c.$18=function(){return Object.keys(b("filterObject")({object_url:c.$19(),eval_url:q(),data_url:c.$20(),worker:c.isSupported(),transferables:c.areTransferablesSupported()},function(a){return!!a}))};d.$17=function(){this.$10.addSubscriptions(b("EventListener").listen(this.getInterfaceableWorker(),"message",this.$21.bind(this)),b("EventListener").listen(this.getInterfaceableWorker(),"error",this.$22.bind(this)))};d.$22=function(a){var b=this.$6(a);!b&&!a.defaultPrevented&&this.$16("exception",{message:a.message})};d.$21=function(b){b=b.data;switch(b.type){case"message":this.$5(b.message);break;case"pong":this.$2=!0;this.$16("executed",{dt:Math.floor(b.args[1]-b.args[0]),bytes:this.$4.source?this.$4.source.length:-1});break;case"terminate":this.terminate();break;case"haste-error":this.terminate();this.$16("haste_error",{message:b.message});break;case"console":var c=b.args.shift();["log","error","info","debug","warn"].includes(c)||g(0,5983,c);a.console[c].apply(a.console,b.args);break}};d.$11=function(a){c.states.includes(a)||g(0,5984,a),this.$16("transition",{next_state:a}),this.$3=a};c.prepareResource=function(d,e){e===void 0&&(e=b("emptyFunction"));d.sameOriginURL||d.url||d.source||g(0,5985);!c.isSupported()&&g(0,5986);if(d.sameOriginURL)e();else if(d.url&&b("areSameOrigin")(new(h||(h=b("URI")))(d.url),new(h||(h=b("URI")))(a.location.href)))d.sameOriginURL=d.url,e();else if(d.source)c.$23()&&(d.sameOriginURL=c.$24(d.source)),e();else if(!d.loading){var f=(i||(i=b("performanceNow")))();d.loading=[e];c.$25(d.url,function(a){a?(d.source=a,c.$23()&&(d.sameOriginURL=c.$24(a)),c.$16("prepared",d.name,{dt:Math.floor((i||(i=b("performanceNow")))()-f),bytes:a.length})):c.$16("failed",d.name,{dt:Math.floor((i||(i=b("performanceNow")))()-f),bytes:0}),d.loading.forEach(function(a){return a()}),d.loading=!1})}else d.loading.push(e);return d};c.releaseResource=function(a){a.sameOriginURL.indexOf("blob:")===0&&(j.revokeObjectURL&&j.revokeObjectURL(a.sameOriginURL),a.sameOriginURL=null);return a};c.isSupported=function(){return p&&(c.$23()||q())};c.isMessageChannelSupported=function(){return c.areTransferablesSupported()&&!!a.MessageChannel};c.areTransferablesSupported=function(){return c.isSupported()&&r()};c.$25=function(a,c){new(b("XHRRequest"))(a).setTransportBuilder(b("getCrossOriginTransport")).setMethod("GET").setResponseHandler(function(a){c(a)}).setErrorHandler(c.bind(null,null)).send()};c.$24=function(a){c.$23()||g(0,5987);if(c.$19()){var d=b("BlobFactory").getBlob([a],{type:"application/javascript"});return j.createObjectURL(d)}if(c.$20())return"data:application/javascript,"+encodeURIComponent(a)};c.$19=function(){return b("BlobFactory").isSupported()&&n()};c.$20=function(){return o()};c.$23=function(){return c.$19()||c.$20()};c.$16=function(a,d,e){if(!b("WebWorkerConfig").logging.enabled)return;b("Bootloader").loadModules(["BanzaiLogger"],function(f){f.log(b("WebWorkerConfig").logging.config,babelHelpers["extends"]({},e,{features_array:c.$18(),event:a,resource:d}))},"WebWorker")};d.constructWorker=function(a){return m(a)};d.$26=function(a,b){if(this.isCurrentState("preparing")){this.$8.push(this.$26.bind(this,a,b));return}this.getInterfaceableWorker().postMessage({type:"port",message:a},b)};d.createMessageChannel=function(a,b){var c=new MessageChannel();this.$26(a,[c.port2].concat(b||[]));c.port1.start();return c.port1};d.getInterfaceableWorker=function(){return this.__worker};return c}();l.states=["constructed","preparing","executing","terminated"];l.evalWorkerURL=b("WebWorkerConfig").evalWorkerURL;function m(c){return new a.Worker(b("createTrustedScriptURLForWebWorker")(c))}var n=b("memoize")(function(){var a,c;if(!j||!j.createObjectURL)return!1;try{a=j.createObjectURL(b("BlobFactory").getBlob([""],{type:"application/javascript"}));var d=m(a);d.terminate();c=!0}catch(a){c=!1}finally{j.revokeObjectURL&&j.revokeObjectURL(a)}return c}),o=b("memoize")(function(){try{var a=m("data:application/javascript,");a.terminate();a=!0}catch(b){a=!1}return a}),p=!!a.Worker,q=b("memoize")(function(){try{var a=m(l.evalWorkerURL);a.terminate();a=!0}catch(b){a=!1}return a}),r=b("memoize")(function(){try{var a=m(l.evalWorkerURL),b=new ArrayBuffer(0);a.postMessage({buffer:b},[b]);a.terminate();b=!0}catch(a){b=!1}return b});e.exports=l}),null);
__d("StylexHelpers.bs",["stylex"],(function(a,b,c,d,e,f){"use strict";var g;(g||(g=b("stylex"))).inject(".spvqvc9t{clip:rect(0,0,0,0)}",1);g.inject(".ikw5e13s{clip-path:inset(50%)}",1);g.inject(".ebnioo9u{height:1px}",1);g.inject(".lq84ybu9{overflow-x:hidden}",1);g.inject(".hf30pyar{overflow-y:hidden}",1);g.inject(".s8sjc6am{position:absolute}",1);g.inject(".rfd0zzc9{width:1px}",1);a={visuallyHidden:{clip:"spvqvc9t",clipPath:"ikw5e13s",height:"ebnioo9u",overflowX:"lq84ybu9",overflowY:"hf30pyar",position:"s8sjc6am",width:"rfd0zzc9"}};f.styles=a}),null);
__d("CometInteractionTracingQuickLogModule",[],(function(a,b,c,d,e,f){a=Object.freeze({APP_COLLECTIONS_TAIL_LOAD:30605376,APP_SECTIONS_FEED_TAILLOAD:30605366,BLUE_ON_COMET_MODAL:30605363,BOOKMARK_ITEM:30613596,CHANNEL_TAB_ALL_VIDEOS_CARD_FETCH_MORE:30605391,CHANNEL_TAB_LATEST_VIDEOS_CARD_HSCROLL_LOAD_MORE:30605392,CHANNEL_TAB_PLAYLISTS_CARD_FETCH_MORE:30605390,CHANNEL_TAB_SERIES_CARD_FETCH_MORE:30605389,CHAT_TAB_OPEN:30605380,CHAT_TAB_SEND_MESSAGE:30605384,COLLECTIONS_TAILLOAD:30605367,COMMUNITY_VIEW_DIALOG_OPEN:30614747,COMPOSER_SUBMIT_PROCESSING:30605375,DIALOG_SHOW:30605362,EVENT_RSVP_WWW:30605345,FEED_COMPOSER_DIALOG_OPEN:30605316,FEED_PREFERENCES_DIALOG_OPEN:30605385,GROUP_COMPOSER_DIALOG_OPEN:30605340,GROUP_MALL_FEED_TAILLOAD:30605332,HOMEPAGE_BADGED_NAVIGATION:30632331,HOME_FEED_TAILLOAD:30605313,HOVERCARD_SHOW:30619670,LWI_SECTION_OPTION_CHANGE:30605381,MARKETPLACE_BUY_LOCATION_DIALOG_OPEN:30605342,MARKETPLACE_COMPOSER_CREATE:30605344,MARKETPLACE_DEALS_FEED_PAGINATION:30605371,MARKETPLACE_ECOMM_PRODUCT_FEED_PAGINATION:30605373,MARKETPLACE_FEED_SAVED_PAGINATION:30605347,MARKETPLACE_HOME_FEED_PAGINATION:30605341,MARKETPLACE_SEARCH_FEED_PAGINATION:30605343,NOTIFICATION_PAGINATION:30605314,PAGE_ABOUT_FACEPILES_SEE_ALL_DIALOG_LOAD:30605358,PAGE_ABOUT_OPEN_MAP_VIEW:30605325,PAGE_ADMIN_SELECT_MANAGED_PAGE:30605324,PAGE_APPOINEMENT_SETTING_INITIAL_LOAD:30620522,PAGE_COMMUNITY_FACEPILES_SEE_ALL_DIALOG_LOAD:30605356,PAGE_COMMUNITY_TOP_FANS_CARD_SEE_ALL_DIALOG_LOAD:30605355,PAGE_COMPOSER_DIALOG_OPEN:30605333,PAGE_HOME_CARD_SEE_ALL_DIALOG_LOAD:30605330,PAGE_LIKE:30605317,PAGE_OPEN_VIDEO:30605318,PAGE_PHOTO_TAB_FETCH_MORE:30605331,PAGE_POST_OPEN_DETAILS:30605327,PAGE_REVIEWS_COMPOSER_TRIGGER:30605369,PAGE_REVIEWS_FEED_SORT:30605368,PAGE_REVIEWS_RECOMMENDATION_POST:30605370,PAGE_VIDEO_TAB_FETCH_MORE:30605319,POPOVER_SHOW:30605361,PRIVACY_SELECTOR_DIALOG_LOAD:30605326,PRIVACY_SELECTOR_SAVED_CUSTOM_PAGINATION:30605365,PROFILE_COMPOSER_DIALOG_OPEN:30605360,PROFILE_MENTIONS_FEED_TAILLOAD:30616610,PROFILE_PICTURE_MENU_OPEN:30615365,PROFILE_PIC_EDIT_DIALOG_LOAD_MORE:30605386,PROFILE_PIC_EDIT_DIALOG_OPEN:30605387,PROFILE_PIC_OPEN:30605364,PROFILE_RATINGS_REVIEWS_FEED_TAILLOAD:30617968,PROFILE_SWITCHING_TTI:30618615,PROFILE_TILES_TAILLOAD:30605378,PYMK_FEED_PAGINATION:30618398,REELS_VIEWER_VIDEO_TRANSITION:30612548,SEARCH_TYPEAHEAD:30620813,SEE_MORE_FEED_UNIT:30615438,STORY_VIEWER_BUCKETS_TRANSITION:30613201,STORY_VIEWER_NAV_LIST_LOAD_PAGINATION:30605322,TAHOE_COMMENT_CREATE:30621572,TARGETING_DIALOG_OPEN:30605379,TA_TTRC_COMET:30605354,TIMELINE_FEED_TAILLOAD:30605315,UFI_LOAD_MORE_COMMENTS:30605393,UFI_REACTIONS_DIALOG_OPEN:30605374,VIDEO_HOME_CATALOG_ALL_SHOWS_PAGINATION:30605336,VIDEO_HOME_CATALOG_MORE_FACEBOOK_ORIGINALS_PAGINATION:30605382,VIDEO_HOME_CATALOG_NAV:30605349,VIDEO_HOME_CHANNEL_PAGINATION:30605372,VIDEO_HOME_CONTEXT_MENU_TRIGGER:30605353,VIDEO_HOME_FEED_NAV:30605352,VIDEO_HOME_FEED_PAGINATION:30605334,VIDEO_HOME_LATEST_NAV:30605351,VIDEO_HOME_LATEST_PAGINATION:30605335,VIDEO_HOME_PLAYLIST_VIDEO_LIST_PAGINATION:30605337,VIDEO_HOME_SAVED_NAV:30605350,VIDEO_HOME_SAVED_PAGINATION:30605339,VIDEO_HOME_SETTINGS_TOGGLE:30605346,VIDEO_HOME_SPORTS_HIGHLIGHTS_PAGINATION:30605359,VIDEO_HOME_WATCHLIST_PAGE_NAV:30605348,VIDEO_HOME_WATCHLIST_PAGINATION:30605338});f["default"]=a}),66);
__d("MWVersion.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").one;c=[0,2];f.v1=a;f.v2=c}),null);
__d("MWV2MessageHasAttachment.bs",["LSMessageContentType.bs","bs_caml_int64","bs_int64"],(function(a,b,c,d,e,f){"use strict";function a(a){if(!b("bs_int64").equal(a.displayedContentTypes,b("LSMessageContentType.bs").text)&&!b("bs_int64").equal(a.displayedContentTypes,b("bs_caml_int64").add(b("LSMessageContentType.bs").text,b("LSMessageContentType.bs").forwardIndicator))&&!b("bs_int64").equal(a.displayedContentTypes,b("LSMessageContentType.bs").glyph)&&!b("bs_int64").equal(a.displayedContentTypes,b("bs_caml_int64").add(b("LSMessageContentType.bs").glyph,b("LSMessageContentType.bs").forwardIndicator)))return!b("bs_int64").equal(a.displayedContentTypes,b("bs_caml_int64").add(b("LSMessageContentType.bs").text,b("LSMessageContentType.bs").storyReply));else return!1}f.make=a}),null);
__d("MWPForwardedContent.bs",["fbt","MDSForwardSvgIcon.bs","MWPMessageAuthor.bs","MWV2MessageHasAttachment.bs","MessagingAttachmentType.bs","ReQL.bs","ReQLSubscription.bs","SortedAsyncIterable.bs","bs_caml","react","stylex","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={container:{display:"j83agx80",alignItems:"bp9cbjyn",paddingTop:"jwdofwj8",paddingBottom:"pby63qed"},text:{paddingStart:"hyh9befq",color:"pipptul6",fontSize:"sq6gx45u"}};function a(a){return g._(/*FBT_CALL*/"{name}\u8f6c\u53d1\u4e86\u6d88\u606f"/*FBT_CALL*/,[g._param("name",a)])}function c(a){return g._(/*FBT_CALL*/"{name}\u8f6c\u53d1\u4e86\u94fe\u63a5"/*FBT_CALL*/,[g._param("name",a)])}var l=g._(/*FBT_CALL*/"\u8f6c\u53d1\u4e86\u94fe\u63a5"/*FBT_CALL*/);function d(a){return g._(/*FBT_CALL*/"{name}\u8f6c\u53d1\u4e86\u56fe\u7247"/*FBT_CALL*/,[g._param("name",a)])}var m=g._(/*FBT_CALL*/"\u8f6c\u53d1\u4e86\u56fe\u7247"/*FBT_CALL*/);function e(a){return g._(/*FBT_CALL*/"{name}\u8f6c\u53d1\u4e86\u89c6\u9891"/*FBT_CALL*/,[g._param("name",a)])}var n=g._(/*FBT_CALL*/"\u8f6c\u53d1\u4e86\u89c6\u9891"/*FBT_CALL*/);function o(a){if(b("bs_caml").i64_eq(a.attachmentType,b("MessagingAttachmentType.bs").xma))return a.defaultCtaType==="xma_web_url";else return!1}function p(a){if(b("bs_caml").i64_eq(a.attachmentType,b("MessagingAttachmentType.bs").animatedImage))return!0;else return b("bs_caml").i64_eq(a.attachmentType,b("MessagingAttachmentType.bs").image)}function q(a){return b("bs_caml").i64_eq(a.attachmentType,b("MessagingAttachmentType.bs").video)}function r(a,c,d){var e=b("useReStore")(),f=a.messageId,h=a.threadKey,i=b("MWV2MessageHasAttachment.bs").make(a),k=b("ReQLSubscription.bs").useFirst(j.useMemo(function(){if(i)return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(e.table("attachments")),{hd:h,tl:{hd:f,tl:0}});else return b("SortedAsyncIterable.bs").empty(void 0)},[e,f,JSON.stringify(h),i]));return j.useMemo(function(){if(c)if(k!==void 0)if(o(k))return g._(/*FBT_CALL*/"\u4f60\u8f6c\u53d1\u4e86\u94fe\u63a5"/*FBT_CALL*/);else if(p(k))return g._(/*FBT_CALL*/"You forwarded an image"/*FBT_CALL*/);else if(b("bs_caml").i64_eq(k.attachmentType,b("MessagingAttachmentType.bs").video))return g._(/*FBT_CALL*/"You forwarded a video"/*FBT_CALL*/);else return g._(/*FBT_CALL*/"You forwarded a message"/*FBT_CALL*/);else return g._(/*FBT_CALL*/"You forwarded a message"/*FBT_CALL*/);else if(k!==void 0)if(d!==void 0)if(o(k))return g._(/*FBT_CALL*/"{name}\u8f6c\u53d1\u4e86\u94fe\u63a5"/*FBT_CALL*/,[g._param("name",d)]);else if(p(k))return g._(/*FBT_CALL*/"{name}\u8f6c\u53d1\u4e86\u56fe\u7247"/*FBT_CALL*/,[g._param("name",d)]);else if(b("bs_caml").i64_eq(k.attachmentType,b("MessagingAttachmentType.bs").video))return g._(/*FBT_CALL*/"{name}\u8f6c\u53d1\u4e86\u89c6\u9891"/*FBT_CALL*/,[g._param("name",d)]);else return g._(/*FBT_CALL*/"\u8f6c\u53d1\u4e86\u6d88\u606f"/*FBT_CALL*/);else if(o(k))return g._(/*FBT_CALL*/"\u8f6c\u53d1\u4e86\u94fe\u63a5"/*FBT_CALL*/);else if(p(k))return g._(/*FBT_CALL*/"\u8f6c\u53d1\u4e86\u56fe\u7247"/*FBT_CALL*/);else if(b("bs_caml").i64_eq(k.attachmentType,b("MessagingAttachmentType.bs").video))return g._(/*FBT_CALL*/"\u8f6c\u53d1\u4e86\u89c6\u9891"/*FBT_CALL*/);else return g._(/*FBT_CALL*/"\u8f6c\u53d1\u4e86\u6d88\u606f"/*FBT_CALL*/);else if(d!==void 0)return g._(/*FBT_CALL*/"{name}\u8f6c\u53d1\u4e86\u6d88\u606f"/*FBT_CALL*/,[g._param("name",d)]);else return g._(/*FBT_CALL*/"\u8f6c\u53d1\u4e86\u6d88\u606f"/*FBT_CALL*/)},[c,k,d])}function s(a,c){var d=b("MWPMessageAuthor.bs").useAuthorName(a);return r(a,c,d[0])}function t(a){var c=a.message;a=a.outgoing;c=s(c,a);return j.jsxs("div",{className:(i||(i=b("stylex")))(k.container),children:[j.jsx(b("MDSForwardSvgIcon.bs").make,{color:"tertiary",size:"16"}),j.jsx("div",{className:i(k.text),children:c})]})}t=t;f.styles=k;f.textForwardedBySomeone=a;f.linkForwardedBySomeone=c;f.linkForwardedByUnknown=l;f.imageForwardedBySomeone=d;f.imageForwardedByUnknown=m;f.videoForwardedBySomeone=e;f.videoForwardedByUnknown=n;f.isLink=o;f.isImage=p;f.isVideo=q;f.useTitleWithName=r;f.useTitle=s;f.make=t}),null);
__d("MWForwardedContent.bs",["MDSForwardSvgIcon.bs","MWPForwardedContent.bs","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={container:{display:"j83agx80",alignItems:"bp9cbjyn",paddingTop:"jwdofwj8",paddingBottom:"pby63qed"},text:{paddingStart:"hyh9befq",color:"pipptul6",fontSize:"sq6gx45u"}};function a(a){var c=a.message;a=a.outgoing;c=b("MWPForwardedContent.bs").useTitle(c,a);return i.jsxs("div",{className:(h||(h=b("stylex")))(j.container),children:[i.jsx(b("MDSForwardSvgIcon.bs").make,{color:"tertiary",size:"16"}),i.jsx("div",{className:h(j.text),children:c})]})}c=a;f.styles=j;f.make=c}),null);
__d("MWMessageListAttachmentDimensions.bs",["react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,b){return h.useMemo(function(){var c=b.previewWidthLarge,d=b.previewHeightLarge;return a!==void 0&&c!==void 0&&d!==void 0&&a===1?[c,d]:[b.previewWidth,b.previewHeight]},[a,b])}f.useHook=a}),null);
__d("MWV2MediaViewerContainer.bs",["MessengerBlurpleLogoSvg.bs","XMessengerDotComCometRootControllerRouteBuilder","bs_belt_Option","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={buttonContainer:{start:"re5koujm",position:"pmk7jnqg",top:"fcg2cn6m"},actionContainer:{end:"cypi58rs",position:"pmk7jnqg",top:"fcg2cn6m"},container:{alignItems:"gs1a9yip",backgroundColor:"tqsryivl",boxSizing:"rq0escxv",display:"j83agx80",flexDirection:"cbu4d94t",flexGrow:"buofh1pr",height:"datstx6m",overflowX:"ni8dbmo4",overflowY:"stjgntxs",position:"l9j0dhe7",userSelect:"abiwlrkh",":focus":{outline:"iqfcb0g7"}}};function a(a){var c=a.children,d=a.shouldShowMessengerLogo;a=a.actions;return i.jsxs("div",{className:(h||(h=b("stylex")))(j.container),children:[c,i.jsx("div",{className:h(j.buttonContainer),children:b("bs_belt_Option").getWithDefault(d,!1)?i.jsx("a",{"aria-label":"Messenger",href:b("XMessengerDotComCometRootControllerRouteBuilder").buildURL(),children:i.jsx(b("MessengerBlurpleLogoSvg.bs").make,{width:"40",height:"40"})}):null}),i.jsx("div",{className:h(j.actionContainer),children:a})]})}c=a;f.styles=j;f.make=c}),null);
__d("MWV2MediaViewerShowDialog.bs",["JSResourceForInteraction","MWV2MediaViewerFallback.bs","bs_curry","react","useCometLazyDialog"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){return h.jsx(b("MWV2MediaViewerFallback.bs").make,{onClose:a})}function a(a){var c=b("useCometLazyDialog")(b("JSResourceForInteraction")("MWV2MediaViewer.react",{name:"MWV2MediaViewer","class":"fluid"}).__setRef("MWV2MediaViewerShowDialog.bs"),i),d=c[1];h.useEffect(function(){a||b("bs_curry")._1(d,void 0)},[d,a]);return[c[0],d]}f.useHook=a}),null);
__d("MWV2ChatImage.bs",["fbt","LSAuthorityLevel.bs","LsTargetType.bs","MWChatImageInsetShadow.bs","MWInboxInfoSharedContentQPLLogger.bs","MWLSThreadDisplayContext.bs","MWMessageListAttachmentDimensions.bs","MWMessageListMediaPressableContainer.bs","MWPStableImage.bs","MWV2AttachmentProgressBar.bs","MWV2LogMessageClick.bs","MWV2MediaViewerShowDialog.bs","MWV2UseFocusRowAfterClosingPushView.bs","MWV2UseMediaViewerURL.bs","bs_caml","bs_caml_int64","bs_caml_option","bs_curry","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={container:{display:"j83agx80",position:"l9j0dhe7",overflowX:"ni8dbmo4",overflowY:"stjgntxs"},content:{display:"j83agx80",flexDirection:"cbu4d94t",marginTop:"kvgmc6g5",marginEnd:"cxmmr5t8",marginBottom:"oygrvhab",marginStart:"hcukyx3x",position:"l9j0dhe7"},standalone:{borderTopStartRadius:"e72ty7fz",borderBottomStartRadius:"qmr60zad",borderTopEndRadius:"qlfml3jp",borderBottomEndRadius:"inkptoze"},withAppAttribution:{borderTopStartRadius:"e72ty7fz",borderBottomStartRadius:"mrjvor2e",borderTopEndRadius:"qlfml3jp",borderBottomEndRadius:"jinzq4gt"},appIcon:{width:"hhz5lgdu",height:"gl3lb2sf",marginEnd:"fv0vnmcu",objectFit:"r0294ipz",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv"},appAttr:{paddingTop:"ecm0bbzt",paddingEnd:"p8fzw8mz",paddingBottom:"e5nlhep0",paddingStart:"pcp91wgn",display:"j83agx80",alignItems:"bp9cbjyn",borderBottomStartRadius:"qmr60zad",borderBottomEndRadius:"inkptoze",lineHeight:"dfwzkoeu"},appText:{fontSize:"e9vueds3",color:"oo9gr5id",wordBreak:"qv66sw1b"},incoming_connect_top:{borderTopStartRadius:"jk6sbkaj"},outgoing_connect_top:{borderTopEndRadius:"kdgqqoy6"},incoming_connect_bottom:{borderBottomStartRadius:"qttc61fc"},outgoing_connect_bottom:{borderBottomEndRadius:"ihh4hy1g"}};function l(a){a=a.attachment;var c=a.attributionAppName;if(c===void 0)return null;a=a.attributionAppIcon;return j.jsxs("div",{className:(i||(i=b("stylex")))(k.appAttr),children:[a!==void 0?j.jsx("img",{role:"presentation",src:a,className:(i||(i=b("stylex")))(k.appIcon)}):null,j.jsx("span",{className:i(k.appText),children:c})]})}c={make:l};function a(a){var c=a.message,d=a.attachment,e=a.getPreviewUrl,f=a.connectTop,h=a.connectBottom,m=a.outgoing;a=a.navigateToRouteForMediaViewer;h=h!==void 0?h:!1;var n=a!==void 0?a:!0;a=b("MWLSThreadDisplayContext.bs").useHook(void 0);var o=d.attributionAppName!==void 0;a=b("MWMessageListAttachmentDimensions.bs").useHook(a,d);var p=a[1];a=a[0];var q=b("MWV2UseMediaViewerURL.bs").useHook(d);f=f?m?k.outgoing_connect_top:k.incoming_connect_top:!1;h=h?m?k.outgoing_connect_bottom:k.incoming_connect_bottom:!1;m=b("gkx")("1924962");var r=b("MWV2UseFocusRowAfterClosingPushView.bs").useHook(void 0),s=b("MWV2MediaViewerShowDialog.bs").useHook(n),t=s[1],u=s[0];s=b("bs_curry")._1(e,d);if(s===void 0)return null;e=n&&b("bs_caml").i64_gt(c.authorityLevel,b("LSAuthorityLevel.bs").clientPartial)?{passthroughProps:{origSrc:s},url:q}:void 0;q=d.titleText;a={attachment:d,onPress:function(a){b("MWV2LogMessageClick.bs").log(c,b("LsTargetType.bs").attachmentImage,void 0,void 0);b("MWInboxInfoSharedContentQPLLogger.bs").logOpenSharedContentFromThread(0);b("bs_curry")._1(r,function(a){return!0});if(!n)return u({attachment:d},function(a){})},children:[j.jsx(b("MWPStableImage.bs").make,{width:a!==void 0?b("bs_caml_int64").to_float(a):void 0,height:p!==void 0?b("bs_caml_int64").to_float(p):void 0,src:s,alt:q!==void 0&&m?q:g._(/*FBT_CALL*/"\u67e5\u770b\u7167\u7247"/*FBT_CALL*/),maxHeight:200,maxWidth:480,className:(i||(i=b("stylex")))(k.content,o?k.withAppAttribution:k.standalone,f,h),children:j.jsx(l,{attachment:d})}),b("bs_caml").i64_le(c.authorityLevel,b("LSAuthorityLevel.bs").clientPartial)?j.jsx(b("MWV2AttachmentProgressBar.bs").make,{attachment:d}):null,j.jsx(b("MWChatImageInsetShadow.bs").make,{xstyle:[f,h]})],xstyle:[k.container,k.standalone,f,h],testid:"chat-image",onHoverIn:function(a){if(!n)return b("bs_curry")._1(t,void 0)},disabled:b("bs_caml").i64_le(c.authorityLevel,b("LSAuthorityLevel.bs").clientPartial)};e!==void 0&&(a.linkProps_=b("bs_caml_option").valFromOption(e));return j.jsxs(b("MWMessageListMediaPressableContainer.bs").make,a,d.attachmentFbid)}d=a;f.styles=k;f.AppAttribution=c;f.make=d}),null);
__d("MWResponsiveVideo.bs",["BaseGlimmer.react","CometObjectFitContainer.react","CometPlaceholder.react","LSThreadCapabilityBitOffset.bs","MWLSThreadDisplayContext.bs","MWThreadCapabilitiesContext.bs","bs_caml_option","bs_curry","deferredLoadComponentForReason","gkx","react","requireDeferredForDisplay","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={container:{maxWidth:"d2edcug0",position:"l9j0dhe7",minWidth:"fc1w0g64",minHeight:"on1dxsw4",overflowX:"ni8dbmo4",overflowY:"stjgntxs"},fill:{position:"pmk7jnqg",top:"kr520xx4",left:"j34wkznp",right:"kwrap0ej",bottom:"i09qtzwb",zIndex:"tkr6xdv7"}},k={root:{display:"j83agx80",overflowX:"ni8dbmo4",overflowY:"stjgntxs",height:"datstx6m",width:"k4urcfbm",position:"pmk7jnqg",borderTopStartRadius:"e72ty7fz",borderBottomStartRadius:"qmr60zad",borderTopEndRadius:"qlfml3jp",borderBottomEndRadius:"inkptoze"},glimmer:{height:"datstx6m",width:"k4urcfbm",position:"pmk7jnqg"}};function l(a){a=a.xstyle;return i.jsx("div",{className:(h||(h=b("stylex")))(k.root,a),children:i.jsx(b("BaseGlimmer.react"),{className:h(k.glimmer),index:0})})}c={styles:k,make:l};var m=b("requireDeferredForDisplay")("MWChatVideoPlayer.bs").__setRef("MWResponsiveVideo.bs");function n(a,c,d,e,f,g,h,i,j,k){k={fbid:c,sdSrc:f,originalHeight:g,originalWidth:h,hideExpandButton:i,controls:j};a!==void 0&&(k.autoPlaySetting=b("bs_caml_option").valFromOption(a));d!==void 0&&(k.hdSrc=d);e!==void 0&&(k.initalForceHD=e);return k}function o(a){return i.createElement(b("deferredLoadComponentForReason")(m).make,a)}d={makeProps:n,make:o};function p(a){if(a===1)return[240,140];else return[180,140]}function a(a){var c=a.width,d=a.height,e=a.src,f=a.maxHeight,g=a.maxWidth,k=a.connectTopStyles;a=a.fbid;var m=b("MWLSThreadDisplayContext.bs").useHook(void 0),q=i.useMemo(function(){var a=c!==void 0?d!==void 0?[c,d]:[500,300]:[500,300];return a[0]/a[1]},[c,d]),r=b("MWThreadCapabilitiesContext.bs").useHook(void 0),s=b("gkx")("1581")&&b("bs_curry")._1(r,b("LSThreadCapabilityBitOffset.bs").blurMedia);r=i.useMemo(function(){var a=c!==void 0?c:500,b=p(m);return{maxHeight:f.toString()+"px",minHeight:s?b[1].toString(10)+"px":"",minWidth:s?b[0].toString(10)+"px":"",width:Math.min(a,g).toString()+"px"}},[f,c,g,s,m]);return i.jsxs("div",{className:(h||(h=b("stylex")))(j.container),style:r,children:[i.jsx("div",{className:h(j.fill),children:i.jsx(b("CometPlaceholder.react"),{children:i.jsx(o,n(s?"off":void 0,a,void 0,void 0,e,d!==void 0?d|0:300,c!==void 0?c|0:500,!0,"mwchat",void 0)),fallback:i.jsx(l,{xstyle:k})})}),i.jsx(b("CometObjectFitContainer.react"),{contentAspectRatio:q,children:null,objectFitMode:"CONTAINER_WIDTH_BASED_ASPECT_RATIO"})]})}e=a;f.styles=j;f.VideoLoader=c;f.$MWChatVideoPlayer$DeferredForDisplay=m;f.MWChatVideoPlayerLazy=d;f.getMinDimensionsForProtectedVideo=p;f.make=e}),null);
__d("MWV2ChatVideo.bs",["fbt","FBID.bs","LSAuthorityLevel.bs","LsTargetType.bs","MWChatImageInsetShadow.bs","MWLSThreadDisplayContext.bs","MWMessageListMediaPressableContainer.bs","MWResponsiveVideo.bs","MWV2AttachmentProgressBar.bs","MWV2LogMessageClick.bs","MWV2MediaViewerShowDialog.bs","MWV2UseFocusRowAfterClosingPushView.bs","MWV2UseMediaViewerURL.bs","bs_caml","bs_caml_int64","bs_caml_obj","bs_caml_option","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j={root:{display:"a8c37x1j",position:"l9j0dhe7",maxWidth:"d2edcug0",backgroundColor:"nred35xi",borderTopStartRadius:"e72ty7fz",borderBottomStartRadius:"qmr60zad",borderTopEndRadius:"qlfml3jp",borderBottomEndRadius:"inkptoze",backfaceVisibility:"efwgsih4",overflowX:"ni8dbmo4",overflowY:"stjgntxs"},incoming_connect_top:{borderTopStartRadius:"jk6sbkaj"},outgoing_connect_top:{borderTopEndRadius:"kdgqqoy6"}};function a(a){var c=a.message,d=a.attachment,e=a.getPreviewUrl,f=a.connectTop,h=a.outgoing;a=a.navigateToRouteForMediaViewer;var k=a!==void 0?a:!0;a=b("MWV2UseMediaViewerURL.bs").useHook(d);f=f?h?j.outgoing_connect_top:j.incoming_connect_top:!1;var l=b("MWV2UseFocusRowAfterClosingPushView.bs").useHook(void 0);h=b("MWLSThreadDisplayContext.bs").useHook(void 0);var m=b("MWV2MediaViewerShowDialog.bs").useHook(k),n=m[1],o=m[0];m=b("bs_curry")._1(e,d);if(m===void 0)return null;e=k&&b("bs_caml").i64_gt(c.authorityLevel,b("LSAuthorityLevel.bs").clientPartial)?{passthroughProps:{origSrc:m},url:a}:void 0;a=d.previewWidth;var p=d.previewHeight;a={attachment:d,onPress:function(a){b("MWV2LogMessageClick.bs").log(c,b("LsTargetType.bs").attachmentVideo,void 0,void 0);b("bs_curry")._1(l,function(a){return!0});if(!k)return o({attachment:d},function(a){})},children:[i.jsx(b("MWResponsiveVideo.bs").make,{width:a!==void 0?b("bs_caml_int64").to_float(a):void 0,height:p!==void 0?b("bs_caml_int64").to_float(p):void 0,src:m,maxHeight:200,maxWidth:b("bs_caml_obj").caml_equal(h,1)?500:167,connectTopStyles:f,fbid:b("FBID.bs").ofStringExn(d.attachmentFbid)}),b("bs_caml").i64_le(c.authorityLevel,b("LSAuthorityLevel.bs").clientPartial)?i.jsx(b("MWV2AttachmentProgressBar.bs").make,{attachment:d}):null,i.jsx(b("MWChatImageInsetShadow.bs").make,{xstyle:[f]})],xstyle:[j.root,f],overlayDisabled:!0,testid:"chat-video",ariaLabel:g._(/*FBT_CALL*/"\u5c55\u5f00\u89c6\u9891"/*FBT_CALL*/),onHoverIn:function(a){if(!k)return b("bs_curry")._1(n,void 0)},disabled:b("bs_caml").i64_le(c.authorityLevel,b("LSAuthorityLevel.bs").clientPartial)};e!==void 0&&(a.linkProps_=b("bs_caml_option").valFromOption(e));return i.jsxs(b("MWMessageListMediaPressableContainer.bs").make,a)}c=a;f.styles=j;f.make=c}),null);
__d("MWMessageListAttachment.bs",["fbt","LSMediaUrl.bs","MWAudioPlayer.bs","MWLSThreadDisplayContext.bs","MWV2ChatImage.bs","MWV2ChatVideo.bs","MWV2Sticker.bs","MWV2TombstonedMessage.bs","bs_caml_option","react","recoverableViolation","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react");function a(a){var c=a.xstyle,d=a.connectTop;a=a.connectBottom;c=c!==void 0?b("bs_caml_option").valFromOption(c):!1;return j.jsx("div",{className:(i||(i=b("stylex")))(c),children:j.jsx(b("MWV2TombstonedMessage.bs").make,{children:g._(/*FBT_CALL*/"\u6e32\u67d3\u5a92\u4f53\u6587\u4ef6\u65f6\u51fa\u9519"/*FBT_CALL*/),connectTop:d,connectBottom:a})})}a={make:a};function c(a){var c=a.attachment,d=a.message,e=a.connectTop;a=a.outgoing;var f=j.useCallback(function(a){return b("LSMediaUrl.bs").Attachment.playableUrl(a)});return j.jsx(b("MWV2ChatVideo.bs").make,{message:d,attachment:c,getPreviewUrl:f,connectTop:e,outgoing:a})}c={make:c};function d(a){var c=a.attachment;a=a.outgoing;var d=j.useCallback(function(a){return b("LSMediaUrl.bs").Attachment.playableUrl(a)},[c]);return j.jsx(b("MWAudioPlayer.bs").make,{attachment:c,getPlayableUrl:d,outgoing:a})}d={make:d};function e(a){var c=a.message,d=a.attachment,e=a.connectTop,f=a.connectBottom;a=a.outgoing;var g=b("MWLSThreadDisplayContext.bs").useHook(void 0),h=j.useCallback(function(a){var c=a.previewUrlLarge;if(c!==void 0&&g===1)return c;else return b("LSMediaUrl.bs").Attachment.previewUrl(a)},[g]),i=function(a){return b("LSMediaUrl.bs").Attachment.playableUrl(a)};return j.jsx(b("MWV2ChatImage.bs").make,{message:c,attachment:d,getPreviewUrl:h,getPlayableUrl:i,connectTop:e,connectBottom:f,outgoing:a})}e={make:e};function k(a){a=a.attachment;var c=j.useCallback(function(a){var c=b("LSMediaUrl.bs").Attachment.playableUrl(a);if(c!==void 0)return c;c=b("LSMediaUrl.bs").Attachment.previewUrl(a);if(c!==void 0)return c;else{b("recoverableViolation")("Sticker Attachment has no preview_url or playable_url: "+a.attachmentFbid,"messenger_privacy_web");return}});return j.jsx(b("MWV2Sticker.bs").make,{attachment:a,getPreviewUrl:c})}k={make:k};f.$$Error=a;f.Video=c;f.$$Audio=d;f.$$Image=e;f.Sticker=k}),null);
__d("MWPMessageListColumn.bs",["react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={root:{alignSelf:"ns4p8fja",display:"j83agx80",flexDirection:"cbu4d94t",alignItems:"a6sixzi8",justifyContent:"bkfpd7mw",maxWidth:"d2edcug0"},shrinkwrap:{flexGrow:"kb5gq1qc"},grow:{flexGrow:"buofh1pr"},paint:{backgroundColor:"nred35xi"},profile:{paddingStart:"jy3qco62",paddingEnd:"dflh9lhu"},withGutters:{paddingEnd:"akiltmtj",paddingStart:"l3s49flk"},makeSpaceForActions:{maxWidth:"a1xu1aao"},centered:{alignItems:"bp9cbjyn"}};function k(a){var c=a.children,d=a.grow,e=a.shrinkwrap,f=a.paint,g=a.profile,k=a.withGutters,l=a.makeSpaceForActions;a=a.centered;d=d!==void 0?d:!1;e=e!==void 0?e:!1;f=f!==void 0?f:!1;g=g!==void 0?g:!1;k=k!==void 0?k:!1;l=l!==void 0?l:!1;a=a!==void 0?a:!1;return i.jsx("div",{role:"none",className:(h||(h=b("stylex")))(j.root,d?j.grow:!1,e?j.shrinkwrap:!1,f?j.paint:!1,g?j.profile:!1,k?j.withGutters:!1,l?j.makeSpaceForActions:!1,a?j.centered:!1),children:c})}var l={styles:j,make:k};function a(a){var b=a.children,c=a.shrinkwrap;a=a.grow;c=c!==void 0?c:!1;a=a!==void 0?a:!1;return i.jsx(k,{children:b,grow:a,shrinkwrap:c,paint:!0,withGutters:!0})}a={make:a};function c(a){a=a.children;return i.jsx(k,{children:a,shrinkwrap:!0,paint:!0,profile:!0})}c={make:c};function d(a){var b=a.children,c=a.paint;a=a.centered;c=c!==void 0?c:!0;a=a!==void 0?a:!1;return i.jsx(k,{children:b,shrinkwrap:!0,paint:c,centered:a})}d={make:d};function e(a){a=a.children;return i.jsx(k,{children:a,grow:!0,paint:!0})}e={make:e};function m(a){var b=a.children,c=a.paint;a=a.makeSpaceForActions;return i.jsx(k,{children:b,paint:c,makeSpaceForActions:a})}m={make:m};var n={spacer:{flexGrow:"buofh1pr",flexBasis:"rj1gh0hx"}};function o(a){return i.jsx("div",{role:"none",className:(h||(h=b("stylex")))(n.spacer)})}o={styles:n,make:o};var p={vr:{backgroundColor:"nred35xi",width:"k4urcfbm"}};function q(a){a=a.height;return i.jsx("div",{role:"none",className:(h||(h=b("stylex")))(p.vr),style:{height:""+a+"px"}})}q={styles:p,make:q};f.BaseColumn=l;f.WithGutters=a;f.Profile=c;f.Shrinkwrap=d;f.Grow=e;f.Bubble=m;f.HorizontalSpacer=o;f.VerticalRhythm=q}),null);
__d("MWPMessageWithAttachmentHasPoll.bs",["LSMessageContentType.bs","bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("bs_caml_int64").to_int32(b("bs_caml_int64").and_(b("LSMessageContentType.bs").admin,a.displayedContentTypes))!==0}f.make=a}),null);
__d("MWV2MessageHasReply.bs",["LSMessageReplySourceTypeV2.bs","bs_caml"],(function(a,b,c,d,e,f){"use strict";function a(a){a=a.replySourceTypeV2;if(a!==void 0&&b("bs_caml").i64_neq(a,b("LSMessageReplySourceTypeV2.bs").forward))return!0;else return!1}f.make=a}),null);
__d("MWV2MessageHasXMA.bs",["LSMessageContentType.bs","bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";function a(a){return[b("bs_caml_int64").and_(b("LSMessageContentType.bs").singleXma,a.displayedContentTypes),b("bs_caml_int64").and_(b("LSMessageContentType.bs").hscrollXma,a.displayedContentTypes)].some(function(a){return b("bs_caml_int64").to_int32(a)!==0})}f.make=a}),null);
__d("MWPMessageListAttachment.bs",["LSInt64.bs","LSThreadCapabilityBitOffset.bs","MWPMessageListColumn.bs","MWPMessageWithAttachmentHasPoll.bs","MWThreadCapabilitiesContext.bs","MWV2MessageHasReply.bs","MWV2MessageHasXMA.bs","MWVerticalRhythm.bs","MessagingAttachmentType.bs","ReQL.bs","ReQLSubscription.bs","bs_caml","bs_caml_option","bs_curry","gkx","react","stylex","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={vr:{backgroundColor:"nred35xi",height:"p3ovkuyr",width:"k4urcfbm"},container:{maxWidth:"d2edcug0",position:"l9j0dhe7",zIndex:"tkr6xdv7"},container_for_xma:{width:"k4urcfbm"},container_for_poll:{alignItems:"bp9cbjyn",display:"j83agx80",flexDirection:"cbu4d94t",width:"k4urcfbm"},file:{paddingTop:"jb3vyjys",paddingEnd:"rz4wbd8a",paddingBottom:"qt6c0cv9",paddingStart:"a8nywdso"}};function k(a){var c=a.children,d=a.message,e=a.connectTop,f=a.paint;a=a.renderEmphasisRing;f=f!==void 0?f:!0;var g=b("MWV2MessageHasXMA.bs").make(d),k=b("MWV2MessageHasReply.bs").make(d);d=b("MWPMessageWithAttachmentHasPoll.bs").make(d);d=i.jsx("div",{className:(h||(h=b("stylex")))(j.container,g?j.container_for_xma:!1,d?j.container_for_poll:!1),children:c});return i.jsxs(i.Fragment,{children:[e&&!g?i.jsx("div",{className:(h||(h=b("stylex")))(j.vr)}):null,i.jsx(b("MWPMessageListColumn.bs").Shrinkwrap.make,{children:a!==void 0?b("bs_curry")._2(a,g,d):d,paint:!k&&f})]})}c={make:k};function l(a){return b("bs_caml").i64_eq(a.attachmentType,b("MessagingAttachmentType.bs").image)}function m(a,c){return b("LSInt64.bs").compare(a.attachmentIndex,c.attachmentIndex)}function a(a){var c=a.message,d=a.connectTop,e=a.connectBottom,f=a.renderFileAttachment,g=a.renderImageAttachment,h=a.renderUnsupportedAttachment,j=a.renderUnsupportedMultipleAttachments,n=a.renderVideoAttachment,o=a.renderAudioAttachment,p=a.renderStickerAttachment,q=a.renderImageGrid,r=a.renderXMAAttachment,s=a.renderEphemeralMediaAttachment,t=a.renderEmphasisRing,u=b("useReStore")(),v=c.messageId,w=c.threadKey,x=b("ReQLSubscription.bs").useArray(i.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(u.table("attachments")),{hd:w,tl:{hd:v,tl:0}})},[u,v,JSON.stringify(w)])).sort(m);a=b("MWThreadCapabilitiesContext.bs").useHook(void 0);a=b("gkx")("1581")&&b("bs_curry")._1(a,b("LSThreadCapabilityBitOffset.bs").blurMedia);if(x.length!==1){if(!(x.length>1&&x.every(l)))if(j!==void 0)return b("bs_curry")._1(j,x);else return null;if(a)return x.map(function(a,e){var f={children:b("bs_curry")._3(g,a,e!==0,e!==(x.length-1|0)),message:c,connectTop:d};t!==void 0&&(f.renderEmphasisRing=b("bs_caml_option").valFromOption(t));return i.jsxs(i.Fragment,{children:[e!==0?i.jsx(b("MWVerticalRhythm.bs").make,{height:2}):null,i.jsx(k,f)]},a.attachmentFbid)});j={children:b("bs_curry")._1(q,x),message:c,connectTop:d};t!==void 0&&(j.renderEmphasisRing=b("bs_caml_option").valFromOption(t));return i.jsx(k,j)}a=x[0];q=a.attachmentType;j=b("bs_caml").i64_eq(q,b("MessagingAttachmentType.bs").audio)?!1:!0;q=a.attachmentType;e={children:b("bs_caml").i64_eq(q,b("MessagingAttachmentType.bs").image)||b("bs_caml").i64_eq(q,b("MessagingAttachmentType.bs").animatedImage)?b("bs_curry")._3(g,a,d,e):b("bs_caml").i64_eq(q,b("MessagingAttachmentType.bs").video)?b("bs_curry")._1(n,a):b("bs_caml").i64_eq(q,b("MessagingAttachmentType.bs").audio)?b("bs_curry")._1(o,a):b("bs_caml").i64_eq(q,b("MessagingAttachmentType.bs").sticker)?b("bs_curry")._1(p,a):b("bs_caml").i64_eq(q,b("MessagingAttachmentType.bs").xma)?b("bs_curry")._1(r,a):b("bs_caml").i64_eq(q,b("MessagingAttachmentType.bs").file)?b("bs_curry")._1(f,a):b("bs_caml").i64_eq(q,b("MessagingAttachmentType.bs").ephemeralImage)||b("bs_caml").i64_eq(q,b("MessagingAttachmentType.bs").ephemeralVideo)?b("bs_curry")._1(s,a):b("bs_curry")._1(h,a),message:c,connectTop:d,paint:j};t!==void 0&&(e.renderEmphasisRing=b("bs_caml_option").valFromOption(t));return i.jsx(k,e)}d=a;f.styles=j;f.Container=c;f.isImage=l;f.orderByUserSelection=m;f.make=d}),null);
__d("MWV2ChatImagesGrid.bs",["fbt","CometImageCover.react","CometPhotoGrid.react","CometPressable.react","LSMediaUrl.bs","MWLSThreadDisplayContext.bs","MWV2UseMediaViewerURL.bs","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{maxWidth:"d2edcug0"},small:{width:"b654a4as"},large:{width:"r59w251j"},pressable:{display:"a8c37x1j",height:"datstx6m",overflowX:"ni8dbmo4",overflowY:"stjgntxs",borderTopStartRadius:"jk6sbkaj",borderTopEndRadius:"kdgqqoy6",borderBottomEndRadius:"ihh4hy1g",borderBottomStartRadius:"qttc61fc",width:"k4urcfbm"}};function l(a){var c=b("MWLSThreadDisplayContext.bs").useHook(void 0);return j.useMemo(function(){var d=a.previewUrlLarge;if(d!==void 0&&c===1)return d;else return b("LSMediaUrl.bs").Attachment.previewUrl(a)},[a,c])}function m(a){a=a.attachment;var c=l(a);a=b("MWV2UseMediaViewerURL.bs").useHook(a);if(c!==void 0)return j.jsx(b("CometPressable.react"),{"aria-label":g._(/*FBT_CALL*/"\u67e5\u770b\u7167\u7247"/*FBT_CALL*/),linkProps:{passthroughProps:{origSrc:c},url:a},overlayRadius:4,xstyle:function(a){return[k.pressable]},children:j.jsx(b("CometImageCover.react"),{src:c})});else return null}c={make:m};function a(a){a=a.attachments;var c=b("MWLSThreadDisplayContext.bs").useHook(void 0);return j.jsx("div",{className:(i||(i=b("stylex")))(k.root,c===1?k.large:k.small),children:j.jsx(b("CometPhotoGrid.react"),{children:a.map(function(a){return j.jsx(m,{attachment:a},a.attachmentFbid)})})})}d=a;f.styles=k;f.usePreviewUrl=l;f.$$Image=c;f.make=d}),null);
__d("MWV2UnsupportedAttachment.bs",["fbt","MDSCautionTriangleSvgIcon.bs","MDSText.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{display:"j83agx80",alignItems:"bp9cbjyn",userSelect:"abiwlrkh",paddingTop:"ecm0bbzt",paddingBottom:"e5nlhep0"},content:{flexGrow:"buofh1pr",color:"oo9gr5id",fontWeight:"lrazzd5p",wordBreak:"qv66sw1b"},descriptionText:{paddingTop:"jktsbyx5"}},l={icon:{display:"j83agx80",alignItems:"bp9cbjyn",justifyContent:"taijpn5t",paddingTop:"ecm0bbzt",paddingEnd:"ph5uu5jm",paddingBottom:"e5nlhep0",paddingStart:"b3onmgus",marginEnd:"o3lre8g0",backgroundColor:"ktb7bhlx",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv"}};function m(a){return j.jsx("div",{className:(i||(i=b("stylex")))(l.icon),children:j.jsx(b("MDSCautionTriangleSvgIcon.bs").make,{color:"primary",size:"24"})})}c={styles:l,make:m};function a(a){a=a.attachment;a=a.descriptionText;return j.jsxs("div",{className:(i||(i=b("stylex")))(k.root),children:[j.jsx(m,{}),j.jsxs("div",{className:i(k.content),children:[j.jsx(b("MDSText.react"),{type:"headline4",children:g._(/*FBT_CALL*/"\u4e0d\u53d7\u652f\u6301\u7684\u9644\u4ef6"/*FBT_CALL*/)}),a!==void 0?j.jsx("div",{className:(i||(i=b("stylex")))(k.descriptionText),children:j.jsx(b("MDSText.react"),{color:"secondary",type:"body4",children:a})}):null]})]})}d=a;f.styles=k;f.Icon=c;f.make=d}),null);
__d("CtmMultiPhotoCarouselMsgrMultiPhotoCarouselClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1746398");c=b("FalcoLoggerInternal").create("ctm_multi_photo_carousel_msgr_multi_photo_carousel_click",a);e.exports=c}),null);
__d("PiiActionFlowFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1744182");c=b("FalcoLoggerInternal").create("pii_action_flow",a);e.exports=c}),null);
__d("MWChatPIIFormNuxQuery",["CometRelay","MWChatPIIFormNuxQuery.graphql","PiiActionFlowFalcoEvent","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e,f){a=d("CometRelay").fetchQuery(a,j,{}).toPromise().then(function(a){a&&(c("PiiActionFlowFalcoEvent").log(function(){return{event_name:"pii_initial_query_success",extra_data:"",form_id:b,page_id:e}}),a.messenger_pii_nux==null?f({description:"",seen:!0,title:"",url:"",url_text:""}):f({description:a.messenger_pii_nux.description,seen:!1,title:a.messenger_pii_nux.title,url:a.messenger_pii_nux.url,url_text:a.messenger_pii_nux.url_text}))},function(a){c("PiiActionFlowFalcoEvent").log(function(){return{event_name:"pii_initial_query_failure",extra_data:a.message,form_id:b,page_id:e}})});c("promiseDone")(a)},j=h!==void 0?h:h=b("MWChatPIIFormNuxQuery.graphql");a=function(a,b,c,d){i(a,b,c,function(a){return d(a)})};g.fetch=a}),98);
__d("MWChatPIIFormScreenQuery",["CometRelay","MWChatPIIFormScreenQuery.graphql","PiiActionFlowFalcoEvent","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e,f,g){f=d("CometRelay").fetchQuery(f,j,{formID:a,screenIndex:e}).toPromise().then(function(d){if(d){d=d.messenger_pii_form_single_screen.screen;var e=d.questions.map(function(a){return{format:a.format,id:a.id,length:a.length,mask:a.mask,placeholder:a.placeholder,subtitle:a.subtitle,title:a.title,type:a.type}}),f={question_list_size:d.questions.length};c("PiiActionFlowFalcoEvent").log(function(){return{event_name:"pii_single_page_query_success",extra_data:JSON.stringify(f),form_id:a,page_id:b}});g({questions:e,screen_title:d.screen_title})}},function(d){c("PiiActionFlowFalcoEvent").log(function(){return{event_name:"pii_single_page_query_failure",extra_data:d.message,form_id:a,page_id:b}})});c("promiseDone")(f)},j=h!==void 0?h:h=b("MWChatPIIFormScreenQuery.graphql");a=function(a,b,c,d,e){i(a,b,c,d,function(a){return e(a)})};g.fetch=a}),98);
__d("MWChatPIIFormStateQuery",["CometRelay","MWChatPIIFormStateQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e){b=d("CometRelay").fetchQuery(b,j,{formID:a}).toPromise().then(function(a){a&&e(a.messenger_pii_form_state.state)});c("promiseDone")(b)},j=h!==void 0?h:h=b("MWChatPIIFormStateQuery.graphql");a=function(a,b,c){i(a,b,function(a){return c(a)})};g.fetch=a}),98);
__d("MWChatReceiptDataQuery",["CometRelay","CometRelayEnvironment","MWChatReceiptDataQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a,b,e){b=d("CometRelay").fetchQuery(c("CometRelayEnvironment"),j,{messageID:b,receiptID:a}).toPromise().then(function(a){if(a){a=a.receipt_data;var b=a.items?a.items.map(function(a){return{description:a.description,name:a.name,price:a.price,quantity:a.quantity,thumb_url:a.thumb_url}}):[],c=a.adjustments?a.adjustments.map(function(a){return{adjustment_type:a.adjustment_type,display_adjustment_amount:a.display_adjustment_amount}}):[];e({address_line_1:a.address_line_1,address_line_2:a.address_line_2,address_line_3:a.address_line_3,adjustments:c,cancellation_url:a.cancellation_url,items:b,merchant_name:a.merchant_name,order_id:a.order_id,order_time:a.order_time,order_url:a.order_url,payment_method:a.payment_method,recipient_name:a.recipient_name,shipping_cost:a.shipping_cost,subtotal:a.subtotal,total_cost:a.total_cost,total_tax:a.total_tax})}});c("promiseDone")(b)},j=h!==void 0?h:h=b("MWChatReceiptDataQuery.graphql");a=function(a,b,c){i(a,b,function(a){return c(a)})};g.fetch=a}),98);
__d("MWP2PPaymentMethodAdd.bs",["JSResource","react","useCometLazyDialog"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatComposerP2PPaymentMethodAddDialog.react").__setRef("MWP2PPaymentMethodAdd.bs"));var c=a[0];return h.useMemo(function(){return function(a,b){a=a!==void 0?a:function(a){};return c({id:b.id},a)}},[c])}f.useP2PPaymentMethodAdd=a}),null);
__d("MWP2PPaymentRequestCancel.bs",["JSResource","react","useCometLazyDialog"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatComposerP2PPaymentRequestCancelDialog.react").__setRef("MWP2PPaymentRequestCancel.bs"));var c=a[0];return h.useMemo(function(){return function(a,b){a=a!==void 0?a:function(a){};return c({id:b.id},a)}},[c])}f.useP2PPaymentRequestCancel=a}),null);
__d("MWP2PPaymentRequestConfirm.bs",["JSResource","react","useCometLazyDialog"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatComposerP2PPaymentRequestConfirmDialog.react").__setRef("MWP2PPaymentRequestConfirm.bs"));var c=a[0];return h.useMemo(function(){return function(a,b){a=a!==void 0?a:function(a){};return c({id:b.id},a)}},[c])}f.useP2PPaymentRequestConfirm=a}),null);
__d("MWP2PPaymentRequestDecline.bs",["JSResource","react","useCometLazyDialog"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatComposerP2PPaymentRequestDeclineDialog.react").__setRef("MWP2PPaymentRequestDecline.bs"));var c=a[0];return h.useMemo(function(){return function(a,b){a=a!==void 0?a:function(a){};return c({id:b.id},a)}},[c])}f.useP2PPaymentRequestDecline=a}),null);
__d("MWP2PPaymentTransactionDecline.bs",["JSResource","react","useCometLazyDialog"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatComposerP2PPaymentTransactionDeclineDialog.react").__setRef("MWP2PPaymentTransactionDecline.bs"));var c=a[0];return h.useMemo(function(){return function(a,b){a=a!==void 0?a:function(a){};return c({id:b.id},a)}},[c])}f.useP2PPaymentTransactionDecline=a}),null);
__d("MWP2PPaymentTransactionInformationVerify.bs",["JSResource","XP2PVerificationDialogBaseControllerRouteBuilder","bs_belt_Option","bs_caml_option","gkx","react","useCometLazyDialog"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=b("useCometLazyDialog")(b("JSResource")("CometCompatModal.react").__setRef("MWP2PPaymentTransactionInformationVerify.bs"));var c=a[0];a=b("useCometLazyDialog")(b("JSResource")("CometP2PPaymentIDVFlow.react").__setRef("MWP2PPaymentTransactionInformationVerify.bs"));var d=a[0];return h.useCallback(function(a){a=a.id;if(b("gkx")("94"))return d({transferId:b("bs_belt_Option").getExn(a==null?void 0:b("bs_caml_option").some(a))},function(a){});else return c({params:{rel:"dialog-post",uri:b("XP2PVerificationDialogBaseControllerRouteBuilder").buildURL({is_sender_flow:!1,id:b("bs_belt_Option").getExn(a==null?void 0:b("bs_caml_option").some(a))})}},function(a){})},[c])}f.useP2PPaymentTransactionInformationVerify=a}),null);
__d("MWUIOpenStaticLocationDialog.bs",["cr:618"],(function(a,b,c,d,e,f){"use strict";a=b("cr:618").useHook;f.$MWLSOpenStaticLocationDialog$OR$WorkplaceMSOpenStaticLocationDialog$requireCond=b("cr:618");f.useHook=a}),null);
__d("MWUIShowPaymentDetails.bs",["bs_curry","cr:1573776"],(function(a,b,c,d,e,f){"use strict";function a(){if(b("cr:1573776")==null)return function(a){};else return b("bs_curry")._1(b("cr:1573776").useHook,void 0)}f.$MWLSShowPaymentDetails$OR$null$requireCond=b("cr:1573776");f.useHook=a}),null);
__d("MakeRoomRingbackCommon.bs",["cr:9972"],(function(a,b,c,d,e,f){"use strict";a=b("cr:9972").useHook;f.$WorkPlaceMakeRoomRingback$OR$MakeRoomRingback$requireCond=b("cr:9972");f.useHook=a}),null);
__d("MentorshipClientSideEventsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:MentorshipClientSideEventsLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:MentorshipClientSideEventsLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:MentorshipClientSideEventsLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setActorID=function(a){this.$1.actor_id=a;return this};c.setAppID=function(a){this.$1.app_id=a;return this};c.setAppVersion=function(a){this.$1.app_version=a;return this};c.setApplicationID=function(a){this.$1.application_id=a;return this};c.setApplicationProfileID=function(a){this.$1.application_profile_id=a;return this};c.setCohortGroupOrPageID=function(a){this.$1.cohort_group_or_page_id=a;return this};c.setCohortID=function(a){this.$1.cohort_id=a;return this};c.setContainerType=function(a){this.$1.container_type=a;return this};c.setDestinationContainerType=function(a){this.$1.destination_container_type=a;return this};c.setDestinationUnitType=function(a){this.$1.destination_unit_type=a;return this};c.setDisplayName=function(a){this.$1.display_name=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setExplicitActorType=function(a){this.$1.explicit_actor_type=a;return this};c.setPairCreationType=function(a){this.$1.pair_creation_type=a;return this};c.setProgramGroupID=function(a){this.$1.program_group_id=a;return this};c.setProgramID=function(a){this.$1.program_id=a;return this};c.setProgramThreadID=function(a){this.$1.program_thread_id=a;return this};c.setSessionID=function(a){this.$1.session_id=a;return this};c.setSourceContainerType=function(a){this.$1.source_container_type=a;return this};c.setSourceUnitType=function(a){this.$1.source_unit_type=a;return this};c.setUnitType=function(a){this.$1.unit_type=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={actor_id:!0,app_id:!0,app_version:!0,application_id:!0,application_profile_id:!0,cohort_group_or_page_id:!0,cohort_id:!0,container_type:!0,destination_container_type:!0,destination_unit_type:!0,display_name:!0,event:!0,explicit_actor_type:!0,pair_creation_type:!0,program_group_id:!0,program_id:!0,program_thread_id:!0,session_id:!0,source_container_type:!0,source_unit_type:!0,unit_type:!0};f["default"]=a}),66);
__d("MentorshipMessengerLoggingUtils",["CurrentUser","MentorshipClientSideEventsTypedLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=new(c("MentorshipClientSideEventsTypedLogger"))().setEvent(a.event).setActorID(c("CurrentUser").getID()).setProgramID(a.programID).setDisplayName(a.displayName).updateExtraData(a.extraData).setContainerType("messenger_thread").setUnitType(a.unit);a.event=="click_unit"&&b.setDestinationContainerType(a.destContainer).setDestinationUnitType(a.destUnit);b.log()}g.logMessengerEvent=a}),98);
__d("MWChatXmaThirdPartyActionHandler.bs",["fbt","CometMarketplaceCreateDiscountedPriceDialog.entrypoint","CometRelay","CtmMultiPhotoCarouselMsgrMultiPhotoCarouselClickFalcoEvent","JSResource","MWChatCustomerFeedbackFormDataQuery","MWChatCustomerFeedbackStateQuery","MWChatPIIFormNuxQuery","MWChatPIIFormScreenQuery","MWChatPIIFormStateQuery","MWChatReceiptDataQuery","MWP2PPaymentMethodAdd.bs","MWP2PPaymentRequestCancel.bs","MWP2PPaymentRequestConfirm.bs","MWP2PPaymentRequestDecline.bs","MWP2PPaymentTransactionDecline.bs","MWP2PPaymentTransactionInformationVerify.bs","MWUIOpenStaticLocationDialog.bs","MWUIShowPaymentDetails.bs","MakeRoomRingbackCommon.bs","MarketplaceCometReviewOffersDialog.entrypoint","MentorshipMessengerLoggingUtils","Popup","RTWebLoggingComponentConvert.bs","RTWebLoggingSurfaceConvert.bs","bs_caml_option","bs_curry","cr:11076","cr:1761102","react","requireDeferred","useCometDynamicEntryPointDialog","useCometLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function j(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatReceiptModal.react").__setRef("MWChatXmaThirdPartyActionHandler.bs"));var c=a[0];return i.useCallback(function(a){var d=a.receiptId;if(d!==void 0){b("MWChatReceiptDataQuery").fetch(d,a.messageId,function(a){var b=g._(/*FBT_CALL*/"\u8ba2\u5355\u786e\u8ba4"/*FBT_CALL*/);return c({title:b,receipt:a},function(a){})});return}},[c])}function k(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatCustomerFeedbackDialog.react").__setRef("MWChatXmaThirdPartyActionHandler.bs"));var c=a[0],d=b("CometRelay").useRelayEnvironment();return i.useCallback(function(a){var e=a.feedbackFormId;b("MWChatCustomerFeedbackStateQuery").fetch(e,d,function(a){b("MWChatCustomerFeedbackFormDataQuery").fetch(e,d,function(b){return c({firstScreen:b.firstScreen,privacy:b.privacy,formId:b.formId,pageId:b.pageId,state:a},function(a){})})})},[c])}function l(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatCustomerFeedbackDialog.react").__setRef("MWChatXmaThirdPartyActionHandler.bs"));var c=a[0],d=b("CometRelay").useRelayEnvironment();return i.useCallback(function(a){var e=a.pageId,f=a.formId,g=a.privacy,h=a.firstScreen;b("MWChatCustomerFeedbackStateQuery").fetch(f,d,function(a){return c({firstScreen:h,privacy:g,formId:f,pageId:e,state:a},function(a){})})},[c])}function m(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatPIIFormDialog.react").__setRef("MWChatXmaThirdPartyActionHandler.bs"));var c=a[0],d=b("CometRelay").useRelayEnvironment();return i.useCallback(function(a){var e=a.pageId,f=a.color,g=a.numScreens,h=a.currentIndex,i=a.formId,j=a.firstScreen;b("MWChatPIIFormStateQuery").fetch(i,d,function(a){b("MWChatPIIFormNuxQuery").fetch(d,i,e,function(k){if(g>1){b("MWChatPIIFormScreenQuery").fetch(i,e,1,d,function(d){return c({firstScreen:j,secondScreen:b("bs_caml_option").some(d),formId:i,currentIndex:h,numScreens:g,color:f,state:a,nuxData:k,pageId:e},function(a){})});return}else return c({firstScreen:j,secondScreen:void 0,formId:i,currentIndex:h,numScreens:g,color:f,state:a,nuxData:k,pageId:e},function(a){})})})},[c])}function n(a){a=b("useCometLazyDialog")(b("JSResource")("MessengerCometBookingDetailsModal.react").__setRef("MWChatXmaThirdPartyActionHandler.bs"));var c=a[0];return i.useCallback(function(a){return c({pageID:a.pageId,requestID:a.requestId},function(a){})},[c])}function o(a){a=b("useCometLazyDialog")(b("JSResource")("MWFbpayOfferDialog.react").__setRef("MWChatXmaThirdPartyActionHandler.bs"));var c=a[0];return i.useCallback(function(a){return c({offerId:a.offerId,title:a.title},function(a){})},[c])}function p(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatLiveLocationDialog.react").__setRef("MWChatXmaThirdPartyActionHandler.bs"));var c=a[0];return i.useCallback(function(a){return c({titleString:a.titleString,messageId:a.messageId},function(a){})},[c])}function q(a){var c=b("bs_curry")._1(b("MWUIOpenStaticLocationDialog.bs").useHook,void 0);return i.useCallback(function(a){return b("bs_curry")._1(c,a.msgId)},[c])}function r(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatBusinessBoardingPassDetail.react").__setRef("MWChatXmaThirdPartyActionHandler.bs"));var c=a[0];return i.useCallback(function(a){return c({boardingPassDetail:a},function(a){})},[c])}function s(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatBusinessItineraryDetail.react").__setRef("MWChatXmaThirdPartyActionHandler.bs"));var c=a[0];return i.useCallback(function(a){return c({itineraryPayload:a},function(a){})},[c])}function t(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatBusinessMessengerExtension.react").__setRef("MWChatXmaThirdPartyActionHandler.bs"));var c=a[0];return i.useCallback(function(a){return c({actionLink:a.actionLink,pageID:a.pageID,threadID:a.pageID,userID:a.userID,title:a.sourceTitle},function(a){})},[c])}var u=b("requireDeferred")("ZenonUserActionLoggerCommon.bs").__setRef("MWChatXmaThirdPartyActionHandler.bs");function v(a){return i.useCallback(function(c){u.onReady(function(a){return b("bs_curry")._1(a.logClick,{component:b("bs_curry")._1(b("RTWebLoggingComponentConvert.bs").converter.toJS,"start_call_button"),surface:b("bs_curry")._1(b("RTWebLoggingSurfaceConvert.bs").converter.toJS,"admin_message")})});return b("bs_curry")._3(a,c.hasVideo,c.threadId,c.trigger)},[a])}function w(a){a=b("useCometLazyDialog")(b("JSResource")("MWChatGuestChatHistoryModal.react").__setRef("MWChatXmaThirdPartyActionHandler.bs"));var c=a[0];return i.useCallback(function(a){return c({pageID:a.pageId,guestID:a.guestId},function(a){})},[c])}c=b("cr:11076")==null?void 0:b("bs_caml_option").some(b("cr:11076"));function x(a){return i.useCallback(function(a){if(!(b("cr:11076")==null))return b("bs_curry")._2(b("cr:11076").$$process,a.ctaId,a.messageId)},[])}function y(a){b("Popup").open(a,1024,500)}function z(a){a=b("useCometLazyDialog")(b("JSResource")("MentorshipLeaveSurveyDialog.react").__setRef("MWChatXmaThirdPartyActionHandler.bs"));var c=a[0];return i.useCallback(function(a){var d=a.programID;b("MentorshipMessengerLoggingUtils").logMessengerEvent({event:"click_unit",unit:"prompt_unit",destUnit:"leave_survey",destContainer:"messenger_thread",extraData:{prompt_type:"MENTORSHIP_MESSENGER_LEAVE_PROMPT",content_id:a.promptID},displayName:"End Program",programID:d});return c({programID:d},function(a){})},[c])}function A(a){a=b("useCometLazyDialog")(b("JSResource")("CometJoinRoomFromPortalDialog.react").__setRef("MWChatXmaThirdPartyActionHandler.bs"));var c=a[0];return i.useCallback(function(a){return c({linkUrl:a.linkUrl},function(a){})},[c])}function B(a){if(b("cr:1761102")==null)return function(a,b,c,d){};else return b("bs_curry")._1(b("cr:1761102").useMarketplaceXmaCallFunctionCtaHandler,void 0)}function C(a){var c=b("useCometDynamicEntryPointDialog")(b("MarketplaceCometReviewOffersDialog.entrypoint"));return i.useCallback(function(a){return c({listingId:a},void 0,function(a){})},[c])}function D(a){var c=b("useCometDynamicEntryPointDialog")(b("CometMarketplaceCreateDiscountedPriceDialog.entrypoint"));return i.useCallback(function(a){return c({threadId:a},{threadId:a},function(a){})},[c])}function a(a,c){var d=j(void 0),e=l(void 0),f=k(void 0),g=x(void 0),h=m(void 0),i=o(void 0),u=p(void 0),E=q(void 0),F=n(void 0),G=r(void 0),H=w(void 0),I=s(void 0),J=t(void 0),K=b("MWP2PPaymentRequestCancel.bs").useP2PPaymentRequestCancel(void 0),L=b("MWP2PPaymentRequestConfirm.bs").useP2PPaymentRequestConfirm(void 0),M=b("MWP2PPaymentRequestDecline.bs").useP2PPaymentRequestDecline(void 0),N=b("MWP2PPaymentTransactionDecline.bs").useP2PPaymentTransactionDecline(void 0),O=b("MWP2PPaymentMethodAdd.bs").useP2PPaymentMethodAdd(void 0),P=b("MWP2PPaymentTransactionInformationVerify.bs").useP2PPaymentTransactionInformationVerify(void 0),Q=v(c),R=b("bs_curry")._1(b("MakeRoomRingbackCommon.bs").useHook,void 0),S=A(void 0),T=z(void 0),U=b("MWUIShowPaymentDetails.bs").useHook(),V=B(void 0),W=C(void 0),X=D(void 0);return function(c){var j=c.NAME;if(j==="P2PPaymentTransactionInformationVerify")return b("bs_curry")._1(P,c.VAL);if(j==="P2PPaymentTransactionDecline")return b("bs_curry")._2(N,void 0,c.VAL);if(j==="MakeWorkJoinableCallInvite"||j==="MakeRoomRingback")return b("bs_curry")._1(R,c.VAL);if(j==="ShowCustomerFeedback")return b("bs_curry")._1(e,c.VAL);if(j==="ShowFbpayOfferDetails")return b("bs_curry")._1(i,c.VAL);if(j==="P2PPaymentRequestCancel")return b("bs_curry")._2(K,void 0,c.VAL);if(j==="SendImagePostback"){var k=c.VAL,l=k.loggingDetails;l!==void 0&&b("CtmMultiPhotoCarouselMsgrMultiPhotoCarouselClickFalcoEvent").log(function(a){return{consumer_id:l.consumer_id,event_data:{ad_id:l.ad_id,index:l.index,cta:"button"},event_location:"unknown",page_id:l.page_id}});return b("bs_curry")._3(a,k.message,k.platformToken,k.image)}if(j==="ShowMessengerExtensions")return b("bs_curry")._1(J,c.VAL);if(j==="ShowPIIForm")return b("bs_curry")._1(h,c.VAL);if(j==="OpenAccountLink")return b("bs_curry")._1(g,c.VAL);if(j==="P2PPaymentTransactionReceiveMoney")return b("bs_curry")._2(O,void 0,c.VAL);if(j==="ShowBoardingPass")return b("bs_curry")._1(G,c.VAL);if(j==="ShowStaticLocationDetails")return b("bs_curry")._1(E,c.VAL);if(j==="P2PPaymentTransactionDetails")return U(c.VAL.id);if(j==="P2PPaymentRequestDecline")return b("bs_curry")._2(M,void 0,c.VAL);if(j==="ShowMentorshipDialog")return b("bs_curry")._1(T,c.VAL);if(j==="ShowBookingDetails")return b("bs_curry")._1(F,c.VAL);if(j==="ShowOrderConfirmation")return b("bs_curry")._1(d,c.VAL);if(j==="ShowCustomerFeedbackForm")return b("bs_curry")._1(f,c.VAL);if(j==="ShowItinerary")return b("bs_curry")._1(I,c.VAL);if(j==="OpenAccountLinkUrl")return y(c.VAL);if(j==="MakeJoinRoomFromPortal")return b("bs_curry")._1(S,c.VAL);if(j==="P2PPaymentRequestConfirm")return b("bs_curry")._2(L,void 0,c.VAL);if(j==="MakeRtcCall")return b("bs_curry")._1(Q,c.VAL);if(j==="ProcessMarketplaceCallFunction"){k=c.VAL;return b("bs_curry")._4(V,k.messageId,k.attachmentFbid,k.targetId,k.actionType)}if(j==="ShowLiveLocationDetails")return b("bs_curry")._1(u,c.VAL);if(j==="ShowGuestChatHistory")return b("bs_curry")._1(H,c.VAL);k=c.VAL;j=k.threadId;c=k.listingId;switch(k.ctaType){case"SHIPPED_DECLINED_OFFER_SEND_ANOTHER_PRICE":case"SHIPPED_EXPIRED_OFFER_SEND_ANOTHER_PRICE":if(j!==void 0)return b("bs_curry")._1(X,b("bs_caml_option").valFromOption(j));else return;case"SHIPPED_OFFER_CANCEL":if(c!==void 0)return b("bs_curry")._1(W,b("bs_caml_option").valFromOption(c));else return;default:return}}}f.useShowOrderConfirmation=j;f.useShowCustomerFeedback=k;f.useShowCustomerSatisfaction=l;f.useShowPIIForm=m;f.useShowBookingDetails=n;f.useShowFbpayOfferDetails=o;f.useShowLiveLocationDetails=p;f.useShowStaticLocationDetails=q;f.useShowBoardingPass=r;f.useShowItinerary=s;f.useShowMessengerExtensions=t;f.$ZenonUserActionLoggerCommon$Deferred=u;f.useMakeRTCCall=v;f.useGuestMessageThreadDetails=w;f.$null$OR$MNCommerceCTAProcessor$requireCond=b("cr:11076");f.mnCommerceCTAProcessor=c;f.useOpenAccountLink=x;f.openAccountLinkUrl=y;f.useShowMentorshipDialog=z;f.useMakeJoinRoomFromPortal=A;f.$MWLSMarketplaceXmaCallFunctionCtaHandler$requireCond=b("cr:1761102");f.processMarketplaceCallFunction=B;f.useShowReviewOffersDialog=C;f.useShowCreateDiscountedPriceDialog=D;f.useHandler=a}),null);
__d("MWXMACtaRegistry.bs",["ConstUriUtils","FBID.bs","LSMessagingInitiatingSourceHook.bs","LsActionType.bs","MWChatPollXMAActionHandler.bs","MWChatXmaThirdPartyActionHandler.bs","MWLSImagePostbackCtaHandler.bs","MWLSPostbackCtaHandler.bs","MWLSStartPhoneCall.bs","MWLSWebUrlCtaHandler.bs","URI","XCometMessengerControllerRouteBuilder","bs_belt_Option","bs_caml_format","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","bs_js_dict","bs_js_json","bs_js_null_undefined","gkx"],(function(a,b,c,d,e,f){"use strict";var g;function a(a){a=b("LSMessagingInitiatingSourceHook.bs").useHook(void 0);a=b("MWLSImagePostbackCtaHandler.bs").usePostbackCtaHandler("inboxInThread",a);var c=b("MWLSStartPhoneCall.bs").useMakeRTCCall(void 0),d=b("MWChatXmaThirdPartyActionHandler.bs").useHandler(a,c[0]),e=b("MWLSPostbackCtaHandler.bs").usePostbackCtaHandler(void 0),f=b("MWChatPollXMAActionHandler.bs").useHandler(void 0),h=b("MWLSWebUrlCtaHandler.bs").useShowWebViewDialog(void 0);return function(a){var c,i,j=a.actionUrl,k=a.platformToken,l=a.type_,m=a.title,n=a.messageId,o=a.threadKey,p=a.attachmentFbid,q=0,r=0,s=0,t=0,u=0,v=0;if(l==="xma_rtc_audio"||l==="xma_rtc_missed_audio"||l==="xma_rtc_ended_audio")return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"MakeRtcCall",VAL:{threadId:b("FBID.bs").ofStringExn(b("bs_int64").to_string(o)),hasVideo:!1,trigger:l}})},_1:void 0};if(l==="xma_rtc_video"||l==="xma_rtc_new_video_default"||l==="xma_rtc_new_video_from_fb_share"||l==="xma_rtc_new_video_from_fb_video_share"||l==="xma_rtc_missed_video"||l==="xma_rtc_ended_video")return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"MakeRtcCall",VAL:{threadId:b("FBID.bs").ofStringExn(b("bs_int64").to_string(o)),hasVideo:!0,trigger:l}})},_1:void 0};if(l==="xma_postback")return{TAG:0,_0:function(a){return b("bs_curry")._2(e,k,m)},_1:[b("bs_int64").to_string(o),31]};if(j!==void 0){if(l==="xma_open_dialog"){var w=new(g||(g=b("URI")))(j).getQueryData(),x=w.page_id,y=w.guest_id;return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"ShowGuestChatHistory",VAL:{pageId:x,guestId:y}})},_1:void 0}}w=8}else w=8;if(w===8){var z=a.targetId;if(l==="xma_open_dialog")return{TAG:3,_0:"Expected an open dialog url but didn't get any",_1:"messenger_business_core_product"};if(z!==void 0){if(l==="xma_p2p_payment_details"||l==="xma_p2p_request_pay"||l==="xma_p2p_payment_details_receive_money"||l==="xma_p2p_verify_info")return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"P2PPaymentTransactionDetails",VAL:{id:b("bs_js_null_undefined").fromOption(b("FBID.bs").ofString(b("bs_int64").to_string(z))),currentStatus:null}})},_1:void 0};v=7}else v=7}if(v===7)if(j!==void 0){if(l==="xma_join_from_portal")return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"MakeJoinRoomFromPortal",VAL:{linkUrl:j}})},_1:void 0};u=6}else u=6;if(u===6){w=0;if(l==="xma_p2p_payment_details"||l==="xma_p2p_request_pay"||l==="xma_p2p_payment_details_receive_money"||l==="xma_p2p_verify_info")return{TAG:3,_0:"P2P Transaction encounterd without txn id",_1:"messenger_privacy_web"};if(a.nativeUrl!==void 0)v=8;else{if(l==="xma_live_location_sharing"&&b("gkx")("1539348"))return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"ShowLiveLocationDetails",VAL:{titleString:m,messageId:n}})},_1:void 0};v=8}if(v===8){var A=a.actionContentBlob,B=a.targetId;if(l==="xma_live_location_sharing"&&b("gkx")("1539348"))return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"ShowStaticLocationDetails",VAL:{msgId:n}})},_1:void 0};if(l==="xma_poll_details_button"||l==="xma_poll_details_card")return{TAG:0,_0:function(a){return b("bs_curry")._2(f,b("bs_belt_Option").getExn(B),b("bs_belt_Option").getExn(A))},_1:void 0};if(l==="xma_p2m_checkout"||l==="xma_p2m_payment_details")return{TAG:1,_0:b("XCometMessengerControllerRouteBuilder").buildURL({thread_key:b("bs_int64").to_string(o)}),_1:void 0};if(A!==void 0){if(l==="xma_direct_send")return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"ShowPIIForm",VAL:JSON.parse(A)})},_1:[b("bs_int64").to_string(o),b("bs_caml_int64").to_int32(b("LsActionType.bs").piiWebview)]};u=9}else u=9;if(u===9){if(l==="xma_direct_send")return{TAG:3,_0:"Expected pii_form data but didn't get any",_1:"mb_apix"};if(A!==void 0){if(l==="xma_feedback_send")return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"ShowCustomerFeedbackForm",VAL:{feedbackFormId:A}})},_1:[b("bs_int64").to_string(o),69]};w=7}else w=7}}if(w===7){if(l==="xma_feedback_send")return{TAG:3,_0:"Expected Feedback info but didn't get any",_1:"mb_apix"};if(j!==void 0){if(l==="xma_account_link")return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"OpenAccountLinkUrl",VAL:j})},_1:[b("bs_int64").to_string(o),b("bs_caml_int64").to_int32(b("LsActionType.bs").accountLink)]};t=5}else t=5}}if(t===5){var C=a.actionContentBlob;if(l==="xma_account_link")return{TAG:3,_0:"Expected an account link url but didn't get any",_1:"mb_apix"};if(l==="xma_open_joinable_call_invite_url")return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"MakeWorkJoinableCallInvite",VAL:{linkUrl:b("bs_belt_Option").getExn(j)}})},_1:void 0};if(l==="xma_montage_share")return 0;if(C!==void 0){if(l==="marketplace_xma_call_function"){var D=a.targetId;return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"ProcessMarketplaceCallFunction",VAL:{messageId:n,attachmentFbid:p,targetId:b("bs_belt_Option").getExn(D),actionType:C}})},_1:void 0}}v=6}else v=6;if(v===6){if(l==="marketplace_xma_call_function")return 0;if(j!==void 0){var E=a.actionContentBlob;if(E!==void 0){if(l==="marketplace_xma_open_dialog"){u=b("ConstUriUtils").getUri(j);if(u===void 0)return{TAG:3,_0:"Found invalid url when creating CTA",_1:"messenger_business_core_product"};var F=b("bs_caml_option").valFromOption(u).getQueryParam("listingID");return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"OpenMarketplaceDialog",VAL:{ctaType:E,listingId:b("FBID.bs").ofString(F),threadId:b("FBID.bs").ofString(b("bs_int64").to_string(o))}})},_1:void 0}}s=4}else s=4}else s=4}}if(s===4){w=a.nativeUrl;t=0;v=a.actionContentBlob;if(l==="marketplace_xma_open_dialog")return{TAG:3,_0:"Expected an open dialog url and actionContentBlob but didn't get any",_1:"messenger_business_core_product"};if(v!==void 0&&l==="xma_ctm_in_thread_multiphoto_reply_image"){try{u=b("bs_caml_option").some(JSON.parse(v))}catch(a){u=void 0}if(u===void 0)return 0;s=b("bs_js_json").classify(b("bs_caml_option").valFromOption(u));if(typeof s==="number")return 0;if(s.TAG!==2)return 0;var G=s._0;v=b("bs_js_dict").get(G,"action_prefill");u=b("bs_js_dict").get(G,"reply_image_uri");if(v===void 0)return 0;if(u===void 0)return 0;var H=b("bs_js_json").decodeString(b("bs_caml_option").valFromOption(v)),I=b("bs_js_json").decodeString(b("bs_caml_option").valFromOption(u));if(H===void 0)return 0;if(I===void 0)return 0;var J='{"in_thread_multiphoto_xma_reply": true}';return{TAG:0,_0:function(a){a=b("bs_js_dict").get(G,"ad_id");if(a!==void 0){a=b("bs_js_json").decodeNumber(b("bs_caml_option").valFromOption(a));a=a!==void 0?b("FBID.bs").ofString(a.toString()):void 0}else a=void 0;var e=b("bs_js_dict").get(G,"customer_id");if(e!==void 0){e=b("bs_js_json").decodeNumber(b("bs_caml_option").valFromOption(e));e=e!==void 0?b("FBID.bs").ofString(e.toString()):void 0}else e=void 0;var f=b("bs_js_dict").get(G,"index"),c=b("bs_js_dict").get(G,"page_id");if(c!==void 0){c=b("bs_js_json").decodeNumber(b("bs_caml_option").valFromOption(c));c=c!==void 0?b("FBID.bs").ofString(c.toString()):void 0}else c=void 0;return b("bs_curry")._1(d,{NAME:"SendImagePostback",VAL:{message:H,image:I,platformToken:k!==void 0&&k!==""?k:J,loggingDetails:{ad_id:a,consumer_id:e,index:f!==void 0?b("bs_js_json").decodeNumber(b("bs_caml_option").valFromOption(f)):void 0,page_id:c}}})},_1:void 0}}else s=6;if(s===6){if(l==="xma_ctm_in_thread_multiphoto_reply_image")return 0;if(w!==void 0){if(l==="xma_open_native"&&w.startsWith("fb-messenger://user-thread/")){v=w.substr("fb-messenger://user-thread/".length);return{TAG:2,_0:{threadKey:b("bs_caml_format").caml_int64_of_string(v),loggingDetails:[b("bs_int64").to_string(o),b("bs_caml_int64").to_int32(b("LsActionType.bs").openNative)]}}}t=5}else t=5}if(t===5){var K=a.actionContentBlob;if(K!==void 0){if(l==="xma_open_native")return{TAG:0,_0:function(a){return b("bs_curry")._1(h,K)},_1:void 0};r=3}else r=3}}if(r===3)if(j!==void 0){if(l==="xma_open_native")return{TAG:1,_0:j,_1:[b("bs_int64").to_string(o),b("bs_caml_int64").to_int32(b("LsActionType.bs").openNative)]};q=2}else q=2;if(q===2){var L=a.actionContentBlob;if(l==="xma_open_native"){u=["Title: "+m,"Type: "+l,"PlatformTokenPresent: "+b("bs_belt_Option").mapWithDefault(k,"false",function(a){return"true"}),"ActionUrlPresent: "+b("bs_belt_Option").mapWithDefault(j,"false",function(a){return"true"}),"actionContentBlobPresent: "+b("bs_belt_Option").mapWithDefault(L,"false",function(a){return"true"})].join(", ");return{TAG:3,_0:"No Url found while parsing Open Native XMA "+u,_1:"messenger_privacy_web"}}if(L!==void 0)return{TAG:0,_0:function(a){return b("bs_curry")._1(h,L)},_1:void 0};if(j!==void 0){s=a.enableExtensions;if(s!==void 0){if(s)return{TAG:0,_0:function(a){return b("bs_curry")._1(d,{NAME:"ShowMessengerExtensions",VAL:{actionLink:j,pageID:b("bs_int64").to_string(o),userID:b("FBID.bs").ofString(b("bs_int64").to_string(o)),sourceTitle:b("bs_js_null_undefined").fromOption(m)}})},_1:[b("bs_int64").to_string(o),33]};c=o;i=j}else c=o,i=j}else{w=["Title: "+m,"Type: "+l,"PlatformTokenPresent: "+b("bs_belt_Option").mapWithDefault(k,"false",function(a){return"true"}),"ActionUrlPresent: "+b("bs_belt_Option").mapWithDefault(j,"false",function(a){return"true"}),"actionContentBlobPresent: "+b("bs_belt_Option").mapWithDefault(a.actionContentBlob,"false",function(a){return"true"})].join(", ");return{TAG:3,_0:"Unknown CTA encountered while parsing XMA. "+w,_1:"messenger_privacy_web"}}}return{TAG:1,_0:i,_1:[b("bs_int64").to_string(c),32]}}}f.useHook=a}),null);
__d("MWXMAAttachmentItem.bs",["BaseGlimmer.react","CometImageCover.react","CometLink.react","CometObjectFitContainer.react","CometPlaceholder.react","CometPressable.react","CometSkittleIcon.react","FBID.bs","LSMediaUrl.bs","LSThreadAttributionStore.bs","LSThreadCapabilityBitOffset.bs","LsDidTapCallToActionFalcoEvent","MDSText.react","MDSTextPairing.react","MWChatOpenTabByThreadKey.bs","MWChatPollFacepile.bs","MWInboxRouteBuilder.bs","MWLSThreadDisplayContext.bs","MWPBaseXMAAttachmentItem.bs","MWPThreadTheme.bs","MWThreadCapabilitiesContext.bs","MWTooltip.react","MWV2ColorUtils.bs","MWXMACtaRegistry.bs","MWXmaIconParser.bs","RTWebLoggingSurfaceConvert.bs","ReQL.bs","ReQLSubscription.bs","SortedAsyncIterable.bs","TetraButton.react","UseBlockedUserInterstitial.bs","bs_belt_Option","bs_caml_array","bs_caml_int64","bs_caml_option","bs_caml_splice_call","bs_curry","bs_int64","deferredLoadComponentForReason","gkx","qex","react","recoverableViolation","requireDeferred","requireDeferredForDisplay","stylex","useCometRouterDispatcher","useReStore","useShouldShowMessagingEntrypointInCometRoot"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react");function j(a,c,d){if(d===void 0)return;var e=d[1],f=d[0];b("LsDidTapCallToActionFalcoEvent").log(function(d){return{action:{id:b("bs_int64").to_string(a.ctaId),name:"",source:c,type:e},message:{id:a.messageId},page:{id:f},target:{id:f},thread:{id:f}}})}function k(a){var c=b("UseBlockedUserInterstitial.bs").useHook(a),d=b("useShouldShowMessagingEntrypointInCometRoot")("CHAT"),e=b("useCometRouterDispatcher")(),f=b("MWChatOpenTabByThreadKey.bs").useHook(a,"chatInThread");return i.useCallback(function(g){return function(h){if(d)return b("bs_curry")._2(c,function(a){a=h.metaKey||h.ctrlKey||h.shiftKey;if(!a)return b("bs_curry")._1(f,void 0)},"chatInThread");else if(!(e==null))return b("bs_curry")._2(c,function(c){b("LSThreadAttributionStore.bs").setSource(b("bs_int64").to_string(a),"chatInThread"),e.go(g)},"chatInThread");else return}},[c,d,f,e])}var l={appIcon:{width:"hhz5lgdu",height:"gl3lb2sf",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv"},appAttr:{paddingTop:"ecm0bbzt",paddingEnd:"p8fzw8mz",paddingBottom:"e5nlhep0",paddingStart:"pcp91wgn",display:"j83agx80",alignItems:"bp9cbjyn",borderBottomStartRadius:"qmr60zad",borderBottomEndRadius:"inkptoze",lineHeight:"dfwzkoeu"},appText:{fontSize:"e9vueds3",marginStart:"ggphbty4",color:"oo9gr5id",wordBreak:"qv66sw1b"}};function m(a){a=a.attachment;var c=a.attributionAppIcon;a=a.attributionAppName;if(c!==void 0&&a!==void 0)return i.jsxs("div",{className:(h||(h=b("stylex")))(l.appAttr),children:[i.jsx("img",{src:c,className:h(l.appIcon)}),i.jsx("span",{className:h(l.appText),children:a})]});else return null}c={radius:18,styles:l,make:m};var n={root:{display:"j83agx80",overflowX:"ni8dbmo4",overflowY:"stjgntxs",height:"datstx6m",width:"k4urcfbm",position:"pmk7jnqg"},glimmer:{height:"datstx6m",width:"k4urcfbm",position:"pmk7jnqg"}};function o(a){return i.jsx("div",{className:(h||(h=b("stylex")))(n.root),children:i.jsx(b("BaseGlimmer.react"),{className:h(n.glimmer),index:0})})}d={styles:n,make:o};function p(a){var c=a.attachmentItem;a=a.children;var d=b("bs_belt_Option").mapWithDefault(c.previewWidth,0,b("bs_caml_int64").to_int32);c=b("bs_belt_Option").mapWithDefault(c.previewHeight,0,b("bs_caml_int64").to_int32);d=d!==0?c!==0?d/c:0:0;c=c>250&&d<.8;return i.jsx(b("CometObjectFitContainer.react"),{contentAspectRatio:c?.8:d,children:i.jsx(b("CometPlaceholder.react"),{children:a,fallback:i.jsx(o,{})})})}e={make:p};var q=b("requireDeferredForDisplay")("MWChatVideoPlayer.bs").__setRef("MWXMAAttachmentItem.bs");function r(a,c,d,e,f,g,h,i,j,k){k={fbid:c,sdSrc:f,originalHeight:g,originalWidth:h,hideExpandButton:i,controls:j};a!==void 0&&(k.autoPlaySetting=b("bs_caml_option").valFromOption(a));d!==void 0&&(k.hdSrc=d);e!==void 0&&(k.initalForceHD=e);return k}function s(a){return i.createElement(b("deferredLoadComponentForReason")(q).make,a)}var t={makeProps:r,make:s},u={photo:{width:"k4urcfbm",display:"j83agx80",position:"l9j0dhe7"},square:{height:"sgwjjusx"},horizontal:{height:"q2356yug"},notExpanded:{height:"ajpb0j6l"}};function v(a){var c=a.attachmentItem,d=a.isStandalone;a=a.previewUrl;var e=b("bs_belt_Option").mapWithDefault(c.previewWidth,0,b("bs_caml_int64").to_int32),f=b("bs_belt_Option").mapWithDefault(c.previewHeight,0,b("bs_caml_int64").to_int32);d=b("bs_belt_Option").isNone(c.imageUrl)?d:e===f;e=e!==0?f!==0?e/f:0:0;if(!d)return i.jsx("div",{className:(h||(h=b("stylex")))(u.photo,e===1?u.square:e===0?u.notExpanded:u.horizontal),children:i.jsx(b("CometImageCover.react"),{alt:"",src:a,style:{bottom:"0",left:"0",position:"absolute",right:"0",top:"0"}})});f=c.previewWidth;d=c.previewHeight;return i.jsx("div",{className:(h||(h=b("stylex")))(u.photo),children:i.jsx("img",{src:a,alt:"",width:f!==void 0?b("bs_int64").to_string(f):"",height:d!==void 0?b("bs_int64").to_string(d):"",style:{height:"auto",maxWidth:"100%",objectFit:"cover",flexGrow:"1"}})})}var w={styles:u,make:v};function x(a){var c=a.attachment,d=a.attachmentItem;a=a.isStandalone;var e=b("MWLSThreadDisplayContext.bs").useHook(void 0),f=b("bs_belt_Option").getWithDefault(c.shouldAutoplayVideo,!1);e=e===1;e=b("MWPBaseXMAAttachmentItem.bs").usePreview(e,c,d);if(typeof e==="number")return null;if(e.TAG!==0)return i.jsx(v,{attachmentItem:d,isStandalone:a,previewUrl:e._0});a=b("bs_belt_Option").mapWithDefault(d.previewWidth,0,b("bs_caml_int64").to_int32);var g=b("bs_belt_Option").mapWithDefault(d.previewHeight,0,b("bs_caml_int64").to_int32);return i.jsxs(i.Fragment,{children:[i.jsx(p,{attachment:c,attachmentItem:d,children:i.jsx(s,r(void 0,b("FBID.bs").ofStringExn(d.attachmentFbid),void 0,void 0,e._0,g,a,!1,f?"none":"mwchat",void 0))}),f?i.jsx(m,{attachment:c}):null]})}var y={make:x},z={root:{width:"k4urcfbm",maxWidth:"d2edcug0",whiteSpace:"ii04i59q"},hscroll:{paddingStart:"pcp91wgn",paddingEnd:"p8fzw8mz"},withIcon:{paddingTop:"linoseic",paddingBottom:"pby63qed"},description:{paddingTop:"jktsbyx5"}};function A(a){var c=a.attachmentItem,d=a.title,e=a.subtitleText;a=a.isHscroll;c=b("bs_belt_Option").flatMap(b("LSMediaUrl.bs").AttachmentItem.faviconUrl(c),b("MWXmaIconParser.bs").parse);var f;if(d!==""){var g=b("qex")._("1501"),j=0;g==null||g!==13?j=1:f=i.jsx(b("MDSText.react"),{type:"bodyLink4",children:d});j===1&&(f=i.jsx(b("MDSTextPairing.react"),{headline:d,level:4,headlineLineLimit:3}))}else f=null;if(e!==""){g=b("qex")._("1501");var k;j=0;g==null||g!==13?j=1:k=i.jsx(b("MDSText.react"),{type:"meta4",children:e});j===1&&(k=i.jsx(b("MDSTextPairing.react"),{body:e,level:4,bodyLineLimit:3,bodyColor:"secondary"}));d=i.jsx("div",{className:(h||(h=b("stylex")))(z.description),children:k})}else d=null;return i.jsxs("div",{className:(h||(h=b("stylex")))(z.root,c===void 0?a?z.hscroll:!1:z.withIcon),children:[f,d]})}var B={styles:z,make:A},C={root:{marginEnd:"tvfksri0",display:"j83agx80",alignItems:"bp9cbjyn",height:"datstx6m"}};function D(a){a=a.icon;if(a===void 0)return null;if(a.TAG!==0)return i.jsx("div",{className:(h||(h=b("stylex")))(C.root),children:i.jsx(b("CometImageCover.react"),{alt:"Icon for this message",src:a._0,style:{height:"36px",width:"36px",borderRadius:"50%"}})});a=a._0;return i.jsx("div",{className:(h||(h=b("stylex")))(C.root),children:i.jsx(b("CometSkittleIcon.react"),{color:a.color,size:36,icon:a.icon})})}var aa={styles:C,make:D};function E(a){var c=a.children;a=a.threadKey;return b("bs_curry")._1(c,k(a))}var ba={make:E},F=b("requireDeferred")("ZenonUserActionLoggerCommon.bs").__setRef("MWXMAAttachmentItem.bs"),G={button:{flexBasis:"lrurydbf",flexGrow:"buofh1pr",flexShrink:"g5gj957u",paddingTop:"ecm0bbzt",paddingEnd:"ph5uu5jm",paddingBottom:"e5nlhep0",paddingStart:"b3onmgus"}};function H(a){var c=a.type_,d=a.title,e=a.ctaId;a=b("MWXMACtaRegistry.bs").useHook(void 0);var f=b("useReStore")(),g=b("ReQLSubscription.bs").useFirst(i.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(f.table("attachment_ctas")),{hd:e,tl:0})},[f,JSON.stringify(e)]));i.useEffect(function(){var a=["xma_rtc_audio","xma_rtc_missed_audio","xma_rtc_ended_audio","xma_rtc_video","xma_rtc_missed_video","xma_rtc_ended_video"].find(function(a){return a===c});a!==void 0&&F.onReady(function(a){return b("bs_curry")._1(a.logImpression,{surface:b("bs_curry")._1(b("RTWebLoggingSurfaceConvert.bs").converter.toJS,"admin_message")})})},[]);var k=b("gkx")("1845815");if(!k&&(c==="xma_poll_details_button"||c==="xma_poll_details_card"))return null;if(g===void 0)return null;k=b("bs_curry")._1(a,g);var l;if(typeof k==="number")l=null;else switch(k.TAG|0){case 0:var m=k._1,n=k._0;l=i.jsx(b("MWTooltip.react"),{tooltip:d,children:i.jsx(b("TetraButton.react"),{label:d,type:"secondary",onPress:function(a){j(g,2,m);return b("bs_curry")._1(n,void 0)}})});break;case 1:var o=k._1;l=i.jsx(b("MWTooltip.react"),{tooltip:d,children:i.jsx(b("TetraButton.react"),{label:d,type:"secondary",onPress:function(a){return j(g,2,o)},linkProps:{target:"_blank",url:k._0}})});break;case 2:a=k._0;var p=a.loggingDetails;a=a.threadKey;var q=b("bs_curry")._1(b("MWInboxRouteBuilder.bs").buildURL,{thread_key:b("bs_int64").to_string(a)});l=i.jsx(b("MWTooltip.react"),{tooltip:d,children:i.jsx(E,{threadKey:a,children:function(a){return i.jsx(b("TetraButton.react"),{label:d,type:"secondary",onPress:function(c){b("bs_curry")._2(a,q,c);return j(g,2,p)},linkProps:{preventLocalNavigation:!0,url:q}})}})});break;case 3:b("recoverableViolation")(k._0,k._1);l=null;break}return i.jsx("div",{className:(h||(h=b("stylex")))(G.button),children:l})}var ca={styles:G,make:H},I={link:{":hover":{textDecoration:"p8dawk7l"}}};function J(a){var c=a.attachmentItem,d=a.children,e=b("useReStore")(),f=b("ReQLSubscription.bs").useFirst(i.useMemo(function(){var a=c.defaultCtaId;if(a!==void 0)return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(e.table("attachment_ctas")),{hd:a,tl:0});else return b("SortedAsyncIterable.bs").empty(void 0)},[e,JSON.stringify(c.defaultCtaId)]));a=b("MWXMACtaRegistry.bs").useHook(void 0);if(f===void 0)return d;a=b("bs_curry")._1(a,f);if(typeof a==="number")return d;switch(a.TAG|0){case 0:var g=a._1,h=a._0;return i.jsx(b("CometPressable.react"),{"aria-label":b("bs_belt_Option").getWithDefault(c.titleText,""),onPress:function(a){j(f,1,g);return b("bs_curry")._1(h,void 0)},children:d});case 1:var k=a._0;if(!(k.startsWith("http")||k.startsWith("/")))return d;var l=a._1;return i.jsx(b("CometLink.react"),{href:k,target:"_blank",children:d,onClick:function(a){return j(f,1,l)},xstyle:[I.link]});case 2:k=a._0;var m=k.loggingDetails;k=k.threadKey;var n=b("bs_curry")._1(b("MWInboxRouteBuilder.bs").buildURL,{thread_key:b("bs_int64").to_string(k)});return i.jsx(E,{threadKey:k,children:function(a){return i.jsx(b("CometLink.react"),{href:n,children:d,onClick:function(c){b("bs_curry")._2(a,n,c);return j(f,1,m)},xstyle:[I.link],preventLocalNavigation:!0})}});case 3:b("recoverableViolation")(a._0,a._1);return d}}var da={styles:I,make:J};function K(a){var b=a.attachmentItem,c=a.isPressable;a=a.children;if(c)return i.jsx(J,{attachmentItem:b,children:a});else return a}var ea={make:K},L={root:{flexGrow:"buofh1pr",display:"j83agx80",flexDirection:"btwxx1t3",marginEnd:"cgat1ltu",justifyContent:"taijpn5t"}};function M(a){a=a.listItemsDescriptionText;return i.jsx("div",{className:(h||(h=b("stylex")))(L.root),children:i.jsx(b("MDSTextPairing.react"),{headline:a,level:4,headlineLineLimit:3})})}var fa={styles:L,make:M},N={item:{marginTop:"n1l5q3vz",paddingTop:"pybr56ya",paddingBottom:"f10w8fjw",borderTop:"kzizifcz",borderBottom:"ccq6eem2"},titleText:{marginTop:"aov4n071",marginStart:"kkf49tns"}},O={item:{marginTop:"n1l5q3vz"},header:{display:"j83agx80",justifyContent:"i1fnvgqd"},progressBar:{backgroundColor:"g6srhlxm",borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi",height:"t6na6p9t",marginTop:"aov4n071",marginBottom:"n851cfcs"},progressBarInner:{borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi",height:"t6na6p9t"},facepile:{marginStart:"h676nmdw"}};function P(a){a=a.attachment;var c=b("MWPThreadTheme.bs").useHook(void 0),d=c.threadTheme.fallbackColor,e=b("MWLSThreadDisplayContext.bs").useHook(void 0);c=b("bs_caml_splice_call").spliceObjApply([],"concat",[[[a.listItemId1,a.listItemTitleText1,b("LSMediaUrl.bs").Attachment.listItemContactUrlList1(a),a.listItemProgressBarFilledPercentage1,a.listItemContactUrlExpirationTimestampList1,a.listItemContactUrlFallbackList1],[a.listItemId2,a.listItemTitleText2,b("LSMediaUrl.bs").Attachment.listItemContactUrlList2(a),a.listItemProgressBarFilledPercentage2,a.listItemContactUrlExpirationTimestampList2,a.listItemContactUrlFallbackList2],[a.listItemId3,a.listItemTitleText3,b("LSMediaUrl.bs").Attachment.listItemContactUrlList3(a),a.listItemProgressBarFilledPercentage3,a.listItemContactUrlExpirationTimestampList3,a.listItemContactUrlFallbackList3]].map(function(a){var c=a[0];if(c===void 0)return[];var d=b("bs_belt_Option").mapWithDefault(a[2],[],function(a){return a.split(",")}),e=b("bs_belt_Option").mapWithDefault(a[4],[],function(a){return a.split(",")}),f=b("bs_belt_Option").mapWithDefault(a[5],[],function(a){return a.split(",")});return[{id:c,titleText:a[1],contacts:d.map(function(a,c){return{url:a,urlExpirationTimestamp:b("bs_caml_array").get(e,c),urlFallback:b("bs_caml_array").get(f,c)}}),progressBarFilledPercentage:a[3]}]})]);return i.jsx("ul",{children:c.map(function(a,c){var f=a.progressBarFilledPercentage;if(f!==void 0){var g=a.titleText;return i.jsxs("li",{className:(h||(h=b("stylex")))(O.item),children:[i.jsxs("div",{className:h(O.header),children:[g!==void 0?i.jsx(b("MDSText.react"),{type:"headline4",numberOfLines:e===1?3:1,children:g}):null,i.jsx("div",{className:h(O.facepile),children:i.jsx(b("MWChatPollFacepile.bs").make,{contacts:a.contacts.map(function(a){return{profile_picture_url:a.url,name:void 0}}),size:"small",gap:"negative",direction:"reversed",optionId:a.id})})]}),i.jsx("div",{className:h(O.progressBar),children:i.jsx("div",{className:h(O.progressBarInner),style:{backgroundColor:b("MWV2ColorUtils.bs").int64ToHex(d),width:b("bs_int64").to_string(f)+"%"}})})]},String(c))}g=a.titleText;return i.jsx("li",{className:(h||(h=b("stylex")))(N.item),children:i.jsxs("div",{children:[i.jsx(b("MWChatPollFacepile.bs").make,{contacts:a.contacts.map(function(a){return{profile_picture_url:a.url,name:void 0}}),size:"large",limit:9,contactWithBorder:!1,overflowStyle:"overlayLastPhoto",optionId:a.id}),g!==void 0?i.jsx("div",{className:(h||(h=b("stylex")))(N.titleText),children:i.jsx(b("MDSText.react"),{color:"secondary",type:"body4",numberOfLines:2,children:g})}):null]})},String(c))})})}var ga={stylesDefault:N,stylesWithProgress:O,make:P},Q={root:{marginBottom:"n851cfcs"}};function R(a){a=a.listItemsSecondaryDescriptionText;return i.jsx("div",{className:(h||(h=b("stylex")))(Q.root),children:i.jsx(b("MDSTextPairing.react"),{body:a,level:4,bodyLineLimit:3,bodyColor:"secondary"})})}var ha={styles:Q,make:R},S={root:{display:"j83agx80",justifyContent:"taijpn5t",flexDirection:"cbu4d94t",flexGrow:"buofh1pr",minHeight:"cehpxlet",marginTop:"n1l5q3vz",marginEnd:"tvfksri0",marginBottom:"n851cfcs",marginStart:"ozuftl9m"},rootWithHeaderAndNoMedia:{marginTop:"kvgmc6g5"},description:{flexGrow:"buofh1pr",display:"j83agx80",flexDirection:"btwxx1t3",marginEnd:"cgat1ltu"},hasFavicon:{paddingStart:"a8nywdso",paddingEnd:"rz4wbd8a"},buttonsWrapper:{marginTop:"n1l5q3vz",justifySelf:"g8xlbnay"},buttonsOnly:{marginTop:"kvgmc6g5"}};function T(a){var c=a.attachment,d=a.attachmentItem,e=a.isHscroll,f=a.isPressable;a=a.isStandalone;var g=b("LSMediaUrl.bs").AttachmentItem.faviconUrl(d),j=b("LSMediaUrl.bs").Attachment.faviconUrl(c);g=g!==void 0?b("MWXmaIconParser.bs").parse(g):j!==void 0?b("MWXmaIconParser.bs").parse(j):void 0;j=b("bs_belt_Option").getWithDefault(d.titleText,"")===""&&b("bs_belt_Option").getWithDefault(d.subtitleText,"")===""&&g===void 0;var k=d.titleText;k=b("bs_belt_Option").getWithDefault(k!==void 0||!a?k:c.titleText,"");var l=d.subtitleText;l=b("bs_belt_Option").getWithDefault(l!==void 0||!a?l:c.subtitleText,"");var m,n=0;k===""&&l===""?m=[]:n=1;if(n===1){n=i.jsxs("div",{className:(h||(h=b("stylex")))(S.description,g===void 0?!1:S.hasFavicon),children:[i.jsx(D,{icon:g}),i.jsx(A,{attachment:c,attachmentItem:d,title:k,subtitleText:l,isHscroll:e,isStandalone:a})]});m=[i.jsx(K,{attachmentItem:d,isPressable:f,children:n})]}g=c.listItemsDescriptionText;k=c.listItemId1;l=c.listItemsSecondaryDescriptionText;e=d.cta1Type;a=d.cta1Title;f=d.attachmentCta1Id;if(e!==void 0)if(a!==void 0)if(f!==void 0){n=c.messageId;var o=c.threadKey,p=d.cta2Type,q=d.cta2Title,r=d.attachmentCta2Id;if(p!==void 0&&q!==void 0&&r!==void 0){var s=d.cta3Type,t=d.cta3Title,u=d.attachmentCta3Id;p=i.jsxs(i.Fragment,{children:[i.jsx(H,{type_:p,title:q,ctaId:r,threadKey:o,messageId:n}),s!==void 0&&t!==void 0&&u!==void 0?i.jsx(H,{type_:s,title:t,ctaId:u,threadKey:o,messageId:n}):null]})}else p=null;q=[i.jsx("div",{className:(h||(h=b("stylex")))(S.buttonsWrapper,j?S.buttonsOnly:!1),children:i.jsxs(i.Fragment,{children:[i.jsx(H,{type_:e,title:a,ctaId:f,threadKey:o,messageId:n}),p]})})]}else q=[];else q=[];else q=[];r=[m,g!==void 0?[i.jsx(M,{listItemsDescriptionText:g})]:[],k!==void 0?[i.jsx(P,{attachment:c})]:[],l!==void 0?[i.jsx(R,{listItemsSecondaryDescriptionText:l})]:[],q].reduce(function(a,b){return a.concat(b)},[]);s=b("LSMediaUrl.bs").Attachment.previewUrl(c)!==void 0||b("LSMediaUrl.bs").AttachmentItem.previewUrl(d)!==void 0||b("LSMediaUrl.bs").AttachmentItem.playableUrl(d)!==void 0;if(r.length===0)return null;else return i.jsx("div",{className:(h||(h=b("stylex")))(S.root,!s&&c.headerTitle!==void 0?S.rootWithHeaderAndNoMedia:!1),children:r.map(function(a,b){return i.jsx(i.Fragment,{children:a},String(b))})})}var ia={styles:S,make:T},U={root:{marginEnd:"tvfksri0",display:"j83agx80",alignItems:"bp9cbjyn",height:"datstx6m"}};function V(a){a=a.icon;if(a===void 0)return null;if(a.TAG!==0)return i.jsx("div",{className:(h||(h=b("stylex")))(U.root),children:i.jsx(b("CometImageCover.react"),{alt:"Icon for this message's header",src:a._0,style:{height:"32px",width:"32px",borderRadius:"50%"}})});a=a._0;return i.jsx("div",{className:(h||(h=b("stylex")))(U.root),children:i.jsx(b("CometSkittleIcon.react"),{color:a.color,size:36,icon:a.icon})})}var ja={styles:U,make:V},W={root:{alignItems:"bp9cbjyn",display:"j83agx80",marginTop:"n1l5q3vz",marginEnd:"tvfksri0",marginBottom:"n851cfcs",marginStart:"ozuftl9m"}};function X(a){a=a.attachment;var c=a.headerTitle;if(c!==void 0)return i.jsxs("div",{className:(h||(h=b("stylex")))(W.root),children:[i.jsx(V,{icon:b("bs_belt_Option").flatMap(b("LSMediaUrl.bs").Attachment.headerImageUrl(a),b("MWXmaIconParser.bs").parse)}),i.jsx(b("MDSText.react"),{type:"bodyLink3",children:c})]});else return null}var ka={styles:W,make:X},Y={root:{display:"j83agx80",flexDirection:"cbu4d94t",height:"datstx6m"},withBorder:{borderTop:"opwvks06",borderEnd:"hop1g133",borderBottom:"linmgsc8",borderStart:"t63ysoy8"}},Z=new Set(["xma_rtc_video","xma_rtc_missed_video","xma_rtc_missed_group_video","xma_rtc_ended_video","xma_rtc_new_video_default","xma_rtc_new_video_from_fb_share","xma_rtc_new_video_from_fb_video_share","xma_rtc_new_video_from_cowatch_share","xma_rtc_cowatch_start_video"]),$=new Set(["xma_rtc_audio","xma_rtc_missed_audio","xma_rtc_missed_group_audio","xma_rtc_ended_audio","xma_rtc_new_audio_default","xma_rtc_new_audio_from_fb_share","xma_rtc_new_audio_from_fb_video_share","xma_rtc_new_audio_from_cowatch_share"]);function a(a){var c=a.attachment,d=a.attachmentItem,e=a.isHscroll;a=a.isStandalone;var f=b("MWThreadCapabilitiesContext.bs").useHook(void 0),g=b("bs_curry")._1(f,b("LSThreadCapabilityBitOffset.bs").rtcVoiceCall);f=b("bs_curry")._1(f,b("LSThreadCapabilityBitOffset.bs").rtcVideoCall);var j=c.defaultCtaType;g=j!==void 0?$.has(j)&&!g||Z.has(j)&&!f:!1;j=b("bs_belt_Option").getWithDefault(c.shouldAutoplayVideo,!1);f=j&&c.attributionAppIcon!==void 0&&c.attributionAppName!==void 0;j=(h||(h=b("stylex")))(Y.root,f?Y.withBorder:!1);f=b("bs_belt_Option").isSome(d.attachmentCta1Id);return i.jsx(K,{attachmentItem:d,isPressable:!f&&!g,children:i.jsxs("div",{className:j,"data-testid":"mwxma_attachment_item",children:[i.jsx(X,{attachment:c}),i.jsx(K,{attachmentItem:d,isPressable:f&&!g,children:i.jsx(x,{attachment:c,attachmentItem:d,isStandalone:a})}),i.jsx(T,{attachment:c,attachmentItem:d,isHscroll:e,isPressable:f&&!g,isStandalone:a})]})})}a=a;f.logCtaClicked=j;f.useMaybeOpenChatTab=k;f.Attribution=c;f.VideoLoader=d;f.VideoContainer=e;f.$MWChatVideoPlayer$DeferredForDisplay=q;f.MWChatVideoPlayerLazy=t;f.$$Image=w;f.Preview=y;f.MainText=B;f.Icon=aa;f.WithOpenChatTab=ba;f.$ZenonUserActionLoggerCommon$Deferred=F;f.CtaButton=ca;f.DefaultActionTrigger=da;f.DefaultActionTriggerContainer=ea;f.ListItemsDescriptionText=fa;f.ListItems=ga;f.ListItemsSecondaryDescriptionText=ha;f.Body=ia;f.HeaderIcon=ja;f.Header=ka;f.styles=Y;f.videoXmaRtcTypes=Z;f.audioXmaRtcTypes=$;f.make=a}),null);
__d("MWXMAAttachment.bs",["fbt","CometHScroll.react","CurrentEnvironment","MNLSXMALayoutType.bs","MWLSThreadDisplayContext.bs","MWXMAAttachmentItem.bs","ReQL.bs","ReQLSubscription.bs","ReactStyle.bs","bs_belt_Option","bs_caml","bs_int64","qex","react","recoverableViolation","stylex","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react");function k(a){return{attachmentFbid:a.attachmentFbid,attachmentIndex:a.attachmentIndex,threadKey:a.threadKey,messageId:a.messageId,originalPageSenderId:a.originalPageSenderId,titleText:a.titleText,subtitleText:a.subtitleText,playableUrl:a.playableUrl,playableUrlFallback:a.playableUrlFallback,playableUrlExpirationTimestampMs:a.playableUrlExpirationTimestampMs,playableUrlMimeType:a.playableUrlMimeType,dashManifest:a.dashManifest,previewUrl:a.previewUrl,previewUrlFallback:a.previewUrlFallback,previewUrlExpirationTimestampMs:a.previewUrlExpirationTimestampMs,previewUrlMimeType:a.previewUrlMimeType,previewWidth:a.previewWidth,previewHeight:a.previewHeight,imageUrl:a.imageUrl,defaultCtaId:a.defaultCtaId,defaultCtaTitle:a.defaultCtaTitle,defaultCtaType:a.defaultCtaType,defaultButtonType:void 0,defaultActionUrl:void 0,defaultActionEnableExtensions:!1,defaultWebviewHeightRatio:void 0,attachmentCta1Id:a.attachmentCta1Id,cta1Title:a.cta1Title,cta1Type:a.cta1Type,attachmentCta2Id:a.attachmentCta2Id,cta2Title:a.cta2Title,cta2Type:a.cta2Type,attachmentCta3Id:a.attachmentCta3Id,cta3Title:a.cta3Title,cta3Type:a.cta3Type,faviconUrl:a.faviconUrl,faviconUrlFallback:a.faviconUrlFallback,faviconUrlExpirationTimestampMs:a.faviconUrlExpirationTimestampMs,previewUrlLarge:a.previewUrlLarge}}var l={root:{maxWidth:"nqmqzb3c",width:"k4urcfbm"},rootForHScrollInChatTab:{maxWidth:"r2nqfv2r"},card:{verticalAlign:"sf5mxxl7",overflowX:"ni8dbmo4",overflowY:"stjgntxs",height:"datstx6m",borderTopStartRadius:"e72ty7fz",borderTopEndRadius:"qlfml3jp",borderBottomEndRadius:"inkptoze",borderBottomStartRadius:"qmr60zad"},card_opaque:{backgroundColor:"b3i9ofy5"},incoming:{borderTopStartRadius:"monazrh9",borderBottomStartRadius:"mrjvor2e"},connect_top:{borderTopStartRadius:"monazrh9",borderTopEndRadius:"h905i5nu"},incoming_connect_bot:{borderBottomStartRadius:"qttc61fc"},outgoing_connect_bot:{borderBottomEndRadius:"ihh4hy1g"},centered:{marginTop:"km676qkl",marginEnd:"ad2k81qe",marginBottom:"myj7ivm5",marginStart:"f9o22wc5"},hasText:{borderTopStartRadius:"monazrh9",borderTopEndRadius:"h905i5nu"}},m=284,n={flexibleContainer:{"@media (max-width: 1439px)":{maxWidth:"hhu87qg3"},"@media (min-width: 1440px)":{maxWidth:"scoao9yg"}},scroller:{position:"l9j0dhe7",start:"cvthrh62",width:"bsget9wy",marginBottom:"quq7zyon"},scrollerThinTab:{width:"k4urcfbm"},cardWrapper:{backgroundColor:"hybvsw6c",height:"datstx6m",width:"k4urcfbm"},spacer:{marginTop:"pcgkmkmd"}};function o(a){var c=a.items,d=a.hasText,e=a.cardWidth;a=a.fullWidthContainer;a=a!==void 0?a:!1;var f=j.useMemo(function(){if(b("CurrentEnvironment").messengerdotcom)return b("ReactStyle.bs").unsafeAddProp({},"--secondary-button-background","#e4e6eb");else return{}},[]);return j.jsx("div",{style:f,className:(i||(i=b("stylex")))(a?!1:n.flexibleContainer,b("qex")._("1499")===!0?n.scrollerThinTab:!1),children:j.jsx(b("CometHScroll.react").Container,{cardWidth:e!==void 0?{type:"fixed",width:e}:{type:"responsive",minWidth:m},accessibilityLabel:g._(/*FBT_CALL*/"\u6d88\u606f\u5305\u542b\u591a\u6761\u5b50\u6d88\u606f"/*FBT_CALL*/),children:c.map(function(a,c){var e=c===0;return j.jsx(b("CometHScroll.react").Child,{children:j.jsx("div",{className:(i||(i=b("stylex")))(n.cardWrapper),children:j.jsx("div",{className:i(l.card,l.card_opaque,e&&d?l.hasText:!1,d?n.spacer:!1),children:a})}),expanding:!0},c.toString())}),gap:8})})}c={cardMinWidth:m,styles:n,make:o};function p(a){var c=a.outgoing,d=a.connectTop,e=a.connectBottom,f=a.children,g=a.centered;a=a.isBorderless;g=g!==void 0?g:!1;a=a!==void 0?a:!1;var h=j.useMemo(function(){if(b("CurrentEnvironment").messengerdotcom)return b("ReactStyle.bs").unsafeAddProp({},"--secondary-button-background","#e4e6eb");else return{}},[]);return j.jsx("div",{style:h,className:(i||(i=b("stylex")))(l.card,a?!1:l.card_opaque,d?l.connect_top:!1,e?c?l.outgoing_connect_bot:l.incoming_connect_bot:!1,g?l.centered:!1),children:f})}d={make:p};function a(a){var c=a.attachment,d=a.connectTop,e=a.connectBottom,f=a.hasText,g=a.outgoing,h=a.xstyle,m=a.cardWidth;a=a.fullWidthContainer;f=f!==void 0?f:!1;a=a!==void 0?a:!1;var n=b("useReStore")(),q=b("ReQLSubscription.bs").useArray(j.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(n.table("attachment_items")),{hd:c.attachmentFbid,tl:0})},[n,JSON.stringify(c.attachmentFbid)])),r=j.useMemo(function(){var a=c.xmaLayoutType;if(a!==void 0)return b("bs_caml").i64_eq(a,b("MNLSXMALayoutType.bs").hscroll);else return!1},[c]),s=j.useMemo(function(){var a=c.xmaLayoutType;if(a!==void 0)return b("bs_caml").i64_eq(a,b("MNLSXMALayoutType.bs").xcenter);else return!1},[c]),t=b("MWLSThreadDisplayContext.bs").useHook(void 0),u=c.xmaLayoutType,v,w=0;if(u!==void 0)if(b("bs_caml").i64_eq(u,b("MNLSXMALayoutType.bs").hscroll))v=j.jsx(o,{items:q.map(function(a,d){return j.jsx(b("MWXMAAttachmentItem.bs").make,{attachment:c,attachmentItem:a,isHscroll:r,isStandalone:!1},d.toString())}),hasText:f,cardWidth:m,fullWidthContainer:a});else if(q.length!==1)w=1;else{f=q[0];b("bs_caml").i64_eq(u,b("MNLSXMALayoutType.bs").xcenter)?v=j.jsx(p,{outgoing:g,connectTop:d,connectBottom:e,children:j.jsx(b("MWXMAAttachmentItem.bs").make,{attachment:c,attachmentItem:f,isHscroll:r,isStandalone:!0}),centered:!0}):w=1}else w=1;if(w===1){m=q.length;if(m!==1)if(m!==0){a="n Attachment Items: "+String(q.length);u="Layout: "+b("bs_belt_Option").mapWithDefault(c.xmaLayoutType,"na",b("bs_int64").to_string);f="Attachment Type: "+b("bs_int64").to_string(c.attachmentType);w=[a,u,f].join(", ");b("recoverableViolation")("Unknown combination of XMA items and layout. "+w,"messenger_privacy_web");v=null}else v=j.jsx(p,{outgoing:g,connectTop:d,connectBottom:e,children:j.jsx(b("MWXMAAttachmentItem.bs").make,{attachment:c,attachmentItem:k(c),isHscroll:r,isStandalone:!0}),isBorderless:b("bs_belt_Option").getWithDefault(c.isBorderless,!1)});else{m=q[0];v=j.jsx(p,{outgoing:g,connectTop:d,connectBottom:e,children:j.jsx(b("MWXMAAttachmentItem.bs").make,{attachment:c,attachmentItem:m,isHscroll:r,isStandalone:!0})})}}return j.jsx("div",{className:(i||(i=b("stylex")))(r?t===0?l.rootForHScrollInChatTab:!1:s?!1:l.root,b("bs_belt_Option").getWithDefault(h,!1)),children:v})}e=a;f.HorizontalLayout=c;f.VerticalLayout=d;f.make=e}),null);
__d("MWMessageListAttachmentContainer.bs",["CometErrorBoundary.re","MWChatAttachmentMediaPreview.bs","MWMessageListAttachment.bs","MWPMessageListAttachment.bs","MWPSolidMessageBubble.bs","MWV2ChatBubble.bs","MWV2ChatEphemeralButton.bs","MWV2ChatFileCommon.bs","MWV2ChatImagesGrid.bs","MWV2UnsupportedAttachment.bs","MWXMAAttachment.bs","RavenMessagingState.bs","bs_caml","bs_caml_option","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i={file:{paddingTop:"jb3vyjys",paddingEnd:"rz4wbd8a",paddingBottom:"qt6c0cv9",paddingStart:"a8nywdso"}};function a(a){var c=a.message,d=a.connectTop,e=a.connectBottom,f=a.hasText,g=a.outgoing,j=a.xstyle;a=a.hasEmphasisRing;var k=f!==void 0?f:!1;f=a!==void 0?a:!1;a={message:c,connectTop:d,connectBottom:e,outgoing:g,renderFileAttachment:function(a){return h.jsx(b("MWPSolidMessageBubble.bs").make,{children:h.jsx(b("MWV2ChatFileCommon.bs").make,{attachment:a}),style:{backgroundColor:"var(--comment-background)"},connectTop:d,connectBottom:e,outgoing:g,xstyle:i.file})},renderImageAttachment:function(e,a,d){return h.jsx(b("MWMessageListAttachment.bs").$$Image.make,{message:c,attachment:e,connectTop:a,connectBottom:d,outgoing:g})},renderUnsupportedAttachment:function(a){return h.jsx(b("MWPSolidMessageBubble.bs").make,{children:h.jsx(b("MWV2UnsupportedAttachment.bs").make,{attachment:a}),style:{backgroundColor:"var(--comment-background)"},connectTop:d,connectBottom:e,outgoing:g})},renderVideoAttachment:function(a){return h.jsx(b("MWMessageListAttachment.bs").Video.make,{attachment:a,message:c,connectTop:d,outgoing:g})},renderAudioAttachment:function(a){return h.jsx(b("MWMessageListAttachment.bs").$$Audio.make,{attachment:a,outgoing:g})},renderStickerAttachment:function(a){return h.jsx(b("MWMessageListAttachment.bs").Sticker.make,{attachment:a})},renderImageGrid:function(a){return h.jsx(b("MWV2ChatImagesGrid.bs").make,{attachments:a})},renderXMAAttachment:function(a){a={attachment:a,connectTop:d,connectBottom:e,hasText:k,outgoing:g};j!==void 0&&(a.xstyle=b("bs_caml_option").valFromOption(j));return h.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){a={connectTop:d,connectBottom:e};j!==void 0&&(a.xstyle=b("bs_caml_option").valFromOption(j));return h.jsx(b("MWMessageListAttachment.bs").$$Error.make,a)},children:h.jsx(b("MWXMAAttachment.bs").make,a)})},renderEphemeralMediaAttachment:function(a){var c=a.ephemeralMediaState;if(c!==void 0)if(b("bs_caml").i64_eq(c,b("RavenMessagingState.bs").permanent))return h.jsx(b("MWChatAttachmentMediaPreview.bs").make,{attachment:a});else return h.jsx(b("MWV2ChatEphemeralButton.bs").make,{attachment:a,connectTop:d,connectBottom:e,outgoing:g});else return null}};f=f?function(a,c){return h.jsx(b("MWV2ChatBubble.bs").EmphasisRing.make,{children:c,shouldConnectTop:d,shouldConnectBottom:!1,isBeforeXMA:!1,hasXMA:a,isOutgoing:g})}:void 0;f!==void 0&&(a.renderEmphasisRing=b("bs_caml_option").valFromOption(f));return h.jsx(b("MWPMessageListAttachment.bs").make,a)}c=h.memo(a);f.styles=i;f.make=c}),null);
__d("MWV2ChatReactionsTooltip.bs",["fbt","ReQL.bs","ReQLSubscription.bs","bs_int64","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=a.reactions,d=a.threadKey,e=a.messageId,f=b("useReStore")();a=b("ReQLSubscription.bs").useArray(i.useMemo(function(){var a;return(a=b("ReQL.bs")).leftJoin(a.getKeyRange(a.fromTableAscending(f.table("reactions")),{hd:d,tl:{hd:e,tl:0}}),a.fromTableAscending(f.table("contacts")))},[JSON.stringify(d),f,e]));var h=new Map(a.map(function(a){var c=a[1];return[b("bs_int64").to_string(a[0].actorId),c!==void 0?c.name:g._(/*FBT_CALL*/"Facebook \u7528\u6237"/*FBT_CALL*/)]}));a=i.useMemo(function(){var a=c.map(function(a){a=h.get(b("bs_int64").to_string(a.actorId));if(a==null)return"";else return a}).filter(function(a){return a!==""}),d=a.length;a=a.slice(0,9);if(d>9){d=d-9|0;a.push(g._(/*FBT_CALL*/{"*":"\u548c\u5176\u4ed6{count}\u4f4d\u7528\u6237","_1":"+{count}"}/*FBT_CALL*/,[g._plural(d),g._param("count",String(d))]))}return a},[c,a]);a=a.map(function(a,b){return i.jsx("div",{children:a},String(b))});return i.jsx("div",{children:a})}c=9;d=a;f.maxExplicitNames=c;f.make=d}),null);
__d("MWMessageReactionsContainer.bs",["MWChatReactionEmoji.bs","MWChatReactionsUtils.bs","MWTooltip.react","MWV2ChatReactionsTooltip.bs","bs_caml_array","bs_curry","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={emojiRow:{paddingTop:"ggysqto6",paddingEnd:"exrn9cbp",paddingBottom:"ojkyduve",paddingStart:"abpf7j7b",textAlign:"ftzlm3b6",backgroundColor:"hybvsw6c",borderTopStartRadius:"fni8adji",borderTopEndRadius:"hgaippwi",borderBottomEndRadius:"fykbt5ly",borderBottomStartRadius:"ns4ygwem",boxShadow:"tlilfck6",display:"j83agx80",alignItems:"bp9cbjyn",justifyContent:"taijpn5t"},emoji:{alignItems:"bp9cbjyn",backgroundColor:"hybvsw6c",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",lineHeight:"soycq5t1",cursor:"nhd2j8a9"},emojiMargin:{marginEnd:"o9f14d3k"},emojiNum:{width:"fhvfysw3",textAlign:"oqcyycmt",fontSize:"r9r71o1u",lineHeight:"soycq5t1",color:"m9osqain"},scaleHeartEmoji:{transform:"gb8c02s1"}};function a(a){var c=a.count,d=a.emojis,e=a.messageId,f=a.reactions;a=a.threadKey;var g=c>1,k=d.map(function(a,c){var e=g||c!==(d.length-1|0),f=b("bs_curry")._1(b("MWChatReactionsUtils.bs").isHeart,b("bs_caml_array").get(a,0));return i.jsx("div",{className:(h||(h=b("stylex")))(j.emoji,e?j.emojiMargin:!1),children:i.jsx("div",{className:h(f?j.scaleHeartEmoji:!1),children:i.jsx(b("MWChatReactionEmoji.bs").make,{emoji:a,size:16,testid:"messenger_reaction_emoji_"+b("bs_caml_array").get(a,0)})})},String(c))});return i.jsx(b("MWTooltip.react"),{tooltip:i.jsx(b("MWV2ChatReactionsTooltip.bs").make,{reactions:f,threadKey:a,messageId:e}),align:"middle",position:"above",children:i.jsxs("div",{role:"none",className:(h||(h=b("stylex")))(j.emojiRow),children:[k,g?i.jsx("div",{role:"none",className:(h||(h=b("stylex")))(j.emojiNum),children:String(c)}):null]})})}c=a;f.styles=j;f.make=c}),null);
__d("MWV2JumpToRepliedMessageLogger.bs",["CometHeroLogging","LSMessagingInitiatingSource.bs","MWChatInteraction.bs","bs_caml","bs_curry","bs_int64","bs_js_dict"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){var f=b("CometHeroLogging").genHeroInteractionUUIDAndMarkStart(b("bs_curry")._1(a.getTraceId,void 0),null);b("MWChatInteraction.bs").set(c,f);d!==void 0&&(b("bs_caml").i64_eq(d,b("LSMessagingInitiatingSource.bs").facebookChat)?a.addMetadata("entrypoint","chat"):b("bs_caml").i64_eq(d,b("LSMessagingInitiatingSource.bs").facebookInbox)&&a.addMetadata("entrypoint","inbox"));a.addMetadata("mw_version",b("bs_int64").to_string(e));return a.onComplete(function(a){return b("bs_js_dict").unsafeDeleteKey(b("MWChatInteraction.bs").interactions,c)})}f.startHeroInteractionTrace=a}),null);
__d("MWV2JumpToRepliedMessage.bs",["LSMessagingInitiatingSourceHook.bs","MWV2JumpToRepliedMessageLogger.bs","MWVersion.bs","MWVisibleMessageContext.bs","bs_curry","qpl","react","useCometInteractionTracing"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c){var d=b("MWVisibleMessageContext.bs").useHook(void 0),e=d.setVisibleMessage,f=b("LSMessagingInitiatingSourceHook.bs").useHook(void 0),g=b("useCometInteractionTracing")(b("qpl")._(25301087,"7779"),"fast","INTERACTION");return h.useCallback(function(d){return g(function(d){b("bs_curry")._1(e,function(b){return{timestamp:c,messageId:a,highlights:[],contextLine:"",source:1}});return b("MWV2JumpToRepliedMessageLogger.bs").startHeroInteractionTrace(d,a,f,b("MWVersion.bs").v2)})},[a,c,e,g,f])}f.useHook=a}),null);
__d("MWV2RepliedMessageBubbleWrapper.bs",["CometPressable.react","MWV2JumpToRepliedMessage.bs","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i={root:{display:"a8c37x1j"}};function a(a){var c=a.messageId,d=a.timestampMs;a=a.children;var e=b("MWV2JumpToRepliedMessage.bs").useHook(c,d);return h.jsx(b("CometPressable.react"),{onPress:function(a){return b("bs_curry")._1(e,void 0)},overlayDisabled:!0,xstyle:function(a){return[i.root]},children:a})}c=a;f.styles=i;f.make=c}),null);
__d("MWReply.bs",["MWPBaseReply.bs","MWReplies.bs","MWV2RepliedMessageBubbleWrapper.bs","MWV2ReplyTo.bs","qex","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={elevate:{maxWidth:"d2edcug0",position:"l9j0dhe7",zIndex:"tkr6xdv7"}};function a(a){var c=a.message,d=a.outgoing;a=a.isSecureThread;var e=a!==void 0?a:!1;a=i.jsx(b("MWPBaseReply.bs").make,{message:c,outgoing:d,renderRemovedMessage:function(a){return i.jsx(b("MWReplies.bs").Removed.make,{outgoing:a})},renderExpiredMessage:function(a){return i.jsx(b("MWReplies.bs").Expired.make,{outgoing:a})},renderStory:function(a,c){return i.jsx(b("MWReplies.bs").Story.make,{message:a,outgoing:c})},renderAttachment:function(a,c){return i.jsx(b("MWReplies.bs").Attachment.make,{outgoing:c})},renderMedia:function(a,c){return i.jsx(b("MWReplies.bs").Media.make,{message:a,outgoing:c,isSecureThread:e})},renderSticker:function(a,c){return i.jsx(b("MWReplies.bs").Sticker.make,{message:a,outgoing:c,isSecureThread:e})},renderTextMessage:function(c,a){return i.jsx(b("MWV2ReplyTo.bs").make,{children:i.jsx(b("MWReplies.bs").$$Text.make,{text:c}),outgoing:a})}});d=c.replySourceTimestampMs;c=c.replySourceId;var f=b("qex")._("1511");f=c!==void 0&&d!==void 0&&!(f==null||f!=="enabled")?i.jsx(b("MWV2RepliedMessageBubbleWrapper.bs").make,{messageId:c,timestampMs:d,children:a}):a;return i.jsx("div",{className:(h||(h=b("stylex")))(j.elevate),children:f})}c=a;f.styles=j;f.make=c}),null);
__d("MWV2ChatText.bs",["MWPMessageListText.bs","MWUseTextRenderers.bs","MWV2ChatTextParserUtils.bs","MWVisibleMessageContext.bs","bs_curry","cr:385","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a,c){var d=c.mentionIds,e=c.mentionLengths,f=c.mentionOffsets;c=c.mentionTypes;if(d!==void 0)if(e!==void 0)if(f!==void 0)if(c!==void 0)return b("MWV2ChatTextParserUtils.bs").findRangesForMentions(a,d,e,f,c);else return[];else return[];else return[];else return[]}function j(a,b,c){if(a===void 0)return[];if(a.messageId!==c)return[];var d=b.indexOf(a.contextLine);if(d>-1)return a.highlights.map(function(a){return{offset:a.matchOffset+d|0,length:a.matchLength,entity:{__typename:"Highlight"}}});else return[]}function k(a){var c=b("useReStore")(),d=b("MWVisibleMessageContext.bs").useHook(void 0),e=d.visibleMessage;return h.useMemo(function(){var d=a.text;d=d!==void 0&&d!==""?d:void 0;if(d===void 0)return[];if(b("MWV2ChatTextParserUtils.bs").isEmojiOnlyMessage(d))return[];d=b("cr:385")==null?d:b("bs_curry")._1(b("cr:385").unvault,d);var f=i(c,a);f=f.concat(b("MWV2ChatTextParserUtils.bs").findRanges(d));return f.concat(j(e,d,a.messageId))},[a,c,e])}function a(a){var c=a.message,d=a.outgoing;a=a.isSecureThread;a=a!==void 0?a:!1;var e=k(c);a=b("MWUseTextRenderers.bs").useHook(a,void 0);var f=c.text;f=!(b("cr:385")==null)&&f!==void 0?b("bs_curry")._1(b("cr:385").unvault,f):f;return h.jsx(b("MWPMessageListText.bs").make,{message:c,text:f,outgoing:d,ranges:e,renderers:a})}c=a;f.useRanges=k;f.$MAWVault$requireCond=b("cr:385");f.make=c}),null);
__d("MWV2MessageProfilePhoto.bs",["BaseGlimmer.react","CometImageCover.react","CometLazyPopoverTrigger.react","CometPressable.react","JSResourceForInteraction","LSMediaUrl.bs","MWPMessageAuthor.bs","MWTooltip.react","bs_curry","gkx","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={root:{width:"ciadx1gn"}};function k(a){return i.jsx("div",{className:(h||(h=b("stylex")))(j.root)})}c={styles:j,make:k};var l={profile:{flexShrink:"pfnyh3mw",width:"ciadx1gn",height:"mudddibn",alignItems:"aovydwv3",display:"j83agx80"},glimmer:{borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",width:"ciadx1gn",height:"mudddibn"}};function a(a){var c=a.message,d=a.isLastMessageInGroup,e=a.isGroupThread;a=i.useContext(b("MWPMessageAuthor.bs").ctx);var f=a.nickname,g=a.contact,j={borderRadius:"50%"};if(!d)return i.jsx(k,{});var m;a=0;if(g!==void 0&&b("LSMediaUrl.bs").Contact.profilePictureUrl(g)!==""){d=f!==void 0?f+" ("+g.name+")":g.name;m=i.jsx(b("MWTooltip.react"),{tooltip:d,align:"middle",position:"start",children:b("gkx")("4185")?i.jsx(b("CometLazyPopoverTrigger.react"),{popoverResource:b("JSResourceForInteraction")("MWV2MessageProfilePhotoMenu").__setRef("MWV2MessageProfilePhoto.bs"),popoverProps:{message:c},children:function(a,c,d,f,h,k,m){if(e)return i.jsx(b("CometPressable.react"),{ref:a,onPress:function(a){return b("bs_curry")._1(c,void 0)},overlayRadius:"50%",xstyle:function(a){return[l.profile]},children:i.jsx(b("CometImageCover.react"),{alt:g.name,src:b("LSMediaUrl.bs").Contact.profilePictureUrl(g),style:j})});else return i.jsx(b("CometImageCover.react"),{alt:g.name,src:b("LSMediaUrl.bs").Contact.profilePictureUrl(g),style:j})}}):i.jsx(b("CometImageCover.react"),{alt:g.name,src:b("LSMediaUrl.bs").Contact.profilePictureUrl(g),style:j})})}else a=1;a===1&&(m=i.jsx(b("BaseGlimmer.react"),{index:1,xstyle:l.glimmer}));return i.jsx("div",{className:(h||(h=b("stylex")))(l.profile),children:m})}d=a;f.NoProfilePhoto=c;f.styles=l;f.make=d}),null);
__d("MWV2OpenReplySnippet.bs",["LSMessageReplySourceTypeV2.bs","MDSForwardSvgIcon.bs","MDSReplySvgIcon.bs","bs_caml","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={container:{display:"j83agx80",alignItems:"bp9cbjyn",paddingTop:"jwdofwj8",paddingBottom:"pby63qed"},text:{paddingStart:"hyh9befq",color:"pipptul6",fontSize:"sq6gx45u"}};function k(a){a=a.message;a=a.replySourceTypeV2;if(a!==void 0)if(b("bs_caml").i64_eq(a,b("LSMessageReplySourceTypeV2.bs").message)||b("bs_caml").i64_eq(a,b("LSMessageReplySourceTypeV2.bs").story))return i.jsx(b("MDSReplySvgIcon.bs").make,{color:"tertiary",size:"16"});else if(b("bs_caml").i64_eq(a,b("LSMessageReplySourceTypeV2.bs").forward)||b("bs_caml").i64_eq(a,b("LSMessageReplySourceTypeV2.bs").igStoryShare)||b("bs_caml").i64_eq(a,b("LSMessageReplySourceTypeV2.bs").fbStoryShare))return i.jsx(b("MDSForwardSvgIcon.bs").make,{color:"tertiary",size:"16"});else return null;else return null}c={make:k};function a(a){a=a.message;var c=a.replySnippet;if(c!==void 0)return i.jsxs("div",{className:(h||(h=b("stylex")))(j.container),"data-testid":"reply_snippet",children:[i.jsx(k,{message:a}),i.jsx("div",{className:h(j.text),children:c})]});else return null}d=a;f.styles=j;f.Icon=c;f.make=d}),null);
__d("MWMessageRow.bs",["CometErrorBoundary.re","CometHeroInteractionWithDiv.react","MWChatGutterItem.bs","MWChatInteraction.bs","MWForwardedContent.bs","MWLSActor.bs","MWLSThreadDisplayContext.bs","MWMessageListAttachmentContainer.bs","MWMessageReactionsContainer.bs","MWMessageRowActions.bs","MWPBaseMessage.bs","MWPBaseMessageListRow.bs","MWPBaseMessageRowHeader.bs","MWPMessageFooter.react","MWPMessageListColumn.bs","MWPMessageListRowWithKeyboardInteractions.bs","MWPMessageParsingUtils.bs","MWPMessageReactions.bs","MWReply.bs","MWV2ChatAdminMessage.bs","MWV2ChatBubble.bs","MWV2ChatEmoji.bs","MWV2ChatErrorBubble.bs","MWV2ChatText.bs","MWV2ChatUnsentMessage.bs","MWV2MessageEndOfGroupContent.bs","MWV2MessageHasReply.bs","MWV2MessageProfilePhoto.bs","MWV2MessageRowSimple.bs","MWV2MessageSenderName.bs","MWV2MessageStartOfGroupContent.bs","MWV2MessageTimestampTooltip.bs","MWV2OpenReplySnippet.bs","MWV2ReplyError.bs","MWV2SeenHead.bs","bs_caml","bs_caml_int64","bs_caml_obj","bs_caml_option","bs_caml_splice_call","bs_curry","bs_js_null_undefined","cr:4443","gkx","react","stylex","useCometUniqueID"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={alignEnd:{alignItems:"aovydwv3"},adminMessageAttachment:{boxSizing:"rq0escxv",paddingTop:"jwdofwj8",paddingBottom:"hwnh5xvq",paddingEnd:"gl4o1x5y",paddingStart:"lt9micmv",minWidth:"fli3ptqi",maxWidth:"f2fs36ck","@supports(max-width: min(100%, 500px))":{maxWidth:"cj3kdmfp"}},gutter:{overflowX:"ni8dbmo4",overflowY:"stjgntxs",width:"odw8uiq3"},reply:{display:"j83agx80",alignItems:"ll8tlv6m",flexDirection:"cbu4d94t"},replyMargin:{marginBottom:"dglbbz69"}},k=b("cr:4443")==null?void 0:b("bs_caml_option").some(b("cr:4443"));function l(a){var c=a.messageId,d=a.offlineThreadingId,e=a.children;a=a.xstyle;c=b("MWChatInteraction.bs").get(c);d=b("MWChatInteraction.bs").get(d);d=b("bs_js_null_undefined").fromOption(c==null?d==null?void 0:d:d==null?c:void 0);if(d==null)return i.jsx("div",{className:b("bs_caml_splice_call").spliceApply(h||(h=b("stylex")),[a]),children:e});else return i.jsx(b("CometHeroInteractionWithDiv.react"),{children:e,interactionUUID:d,interactionDesc:"MESSAGE_RENDER",pageletName:"Message",excludeFromMainVC:!1,xstyle:a})}d={make:l};function a(a){var c=a.message,d=a.isFirstMessageInGroup,e=a.isLastMessageInGroup,f=a.outgoing,g=a.isSecureThread,h=a.reactions,j=a.renderAttachment,k=a.hasMessageEmphasisRing,m=a.prevMessage;a=a.nextMessage;return i.jsx(b("MWPBaseMessage.bs").make,{message:c,reactions:h,isFirstMessageInGroup:d,isLastMessageInGroup:e,outgoing:f,isSecureThread:g,renderAttachment:function(a,d,e,f,g,c,h){if(j!==void 0)return b("bs_curry")._4(j,a,d,e,c);else return i.jsx(b("MWMessageListAttachmentContainer.bs").make,{message:a,connectTop:f,connectBottom:g,hasText:h,outgoing:c,hasEmphasisRing:k})},renderMessageFooter:function(a,d,c){return i.jsx(b("MWPMessageFooter.react").MWPMessageFooter,{children:d.length>0?i.jsx(b("MWPMessageReactions.bs").make,{message:a,outgoing:c,reactions:d,children:function(c,d,a,e,f){return i.jsx(b("MWMessageReactionsContainer.bs").make,{count:d,emojis:c,messageId:e,reactions:a,threadKey:f})}}):null,outgoing:c})},renderUnsentMessage:function(a,c){return i.jsx(b("MWV2MessageTimestampTooltip.bs").make,{message:a,children:i.jsx(b("MWV2ChatUnsentMessage.bs").make,{message:a,outgoing:c,isSecureThread:g})})},renderEmoji:function(a){return i.jsx(b("MWV2ChatEmoji.bs").make,{message:a,hasEmphasisRing:k})},renderMessageBubble:function(a,d,e,f,c){return i.jsx(b("MWV2ChatBubble.bs").make,{children:i.jsx(b("MWV2ChatText.bs").make,{message:a,outgoing:c,isSecureThread:g}),connectTop:d,connectBottom:e,precedesXMA:f,outgoing:c,message:a,hasEmphasisRing:k})},renderMessageContainer:function(a,d){return i.jsx(l,{messageId:c.messageId,offlineThreadingId:c.offlineThreadingId,children:i.jsx(b("MWV2MessageTimestampTooltip.bs").make,{message:c,children:a}),xstyle:d})},prevMessage:m,nextMessage:a})}var m=i.memo(a);e={make:m};function c(a){var c=a.prevMessage,d=a.message,e=a.nextMessage,f=a.status,g=a.isGroupThread,l=a.isSecureThread,n=a.isModal,o=a.stopHoveringRef,p=a.domElementRef,q=a.hasMessageEmphasisRing;a=a.renderAttachment;var r=b("MWLSActor.bs").useActor(void 0),s=b("MWPMessageParsingUtils.bs").isStartOfGroup(d,c),t=b("MWPMessageParsingUtils.bs").isEndOfGroup(d,e),u=b("bs_caml").i64_eq(d.senderId,r);r=b("MWPMessageReactions.bs").useReactions(d);var v=i.useState(function(){return!1}),w=v[0],x=i.useState(function(){return!1}),y=x[0],z=b("useCometUniqueID")(),A=i.useState(function(){return!1}),B=A[0],C=!u;C=C&&g;var D=b("MWV2MessageHasReply.bs").make(d),E=r.length>0,F=d.replySourceId,G=d.replyMediaExpirationTimestampMs;F=F!==void 0?G!==void 0?b("bs_caml").i64_gt(G,b("bs_caml_int64").zero):!0:!1;var H=b("MWLSThreadDisplayContext.bs").useHook(void 0);G=i.useMemo(function(){var a=b("gkx")("571")?"12px":b("bs_caml_obj").caml_equal(H,1)?"16px":"8px";return{light:{"mwp-message-list-profile-start-padding":a},dark:{"mwp-message-list-profile-start-padding":a},type:"VARIABLES"}},[H]);z=d.isAdminMessage?i.jsx(b("MWV2MessageRowSimple.bs").make,{children:i.jsxs(b("MWPMessageListColumn.bs").Shrinkwrap.make,{children:[i.jsx(b("MWV2ChatAdminMessage.bs").make,{prevMessage:c,message:d,nextMessage:e}),i.jsx(b("MWMessageListAttachmentContainer.bs").make,{message:d,connectTop:!1,connectBottom:!1,outgoing:u,xstyle:j.adminMessageAttachment})],centered:!0})}):i.jsxs(i.Fragment,{children:[s?i.jsx(b("MWV2MessageStartOfGroupContent.bs").make,{message:d,prevMessage:c}):null,i.jsxs(b("MWPMessageListRowWithKeyboardInteractions.bs").make,{message:d,prevMessage:c,nextMessage:e,messageDomID:z,outgoing:u,stopHoveringRef:o,setFocused:v[1],setHovered:x[1],children:[i.jsx(b("MWPBaseMessageRowHeader.bs").make,{isFirstMessageInGroup:s,message:d,outgoing:u,renderSenderName:function(a){return i.jsx(b("MWV2MessageSenderName.bs").make,{message:a})},renderForwardSnippet:function(a,c){return i.jsx(b("MWForwardedContent.bs").make,{message:a,outgoing:c})},renderReplySnippet:function(a,c){return i.jsx(b("MWV2OpenReplySnippet.bs").make,{message:a,outgoing:c})},isGroupThread:g}),i.jsxs(i.Fragment,{children:[s&&!C?i.jsx(b("MWPMessageListColumn.bs").VerticalRhythm.make,{height:2}):null,D?i.jsx("div",{role:"none",className:(h||(h=b("stylex")))(j.reply,u?j.alignEnd:!1,F?j.replyMargin:!1),children:i.jsx(b("MWPMessageListColumn.bs").WithGutters.make,{children:i.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return i.jsx(b("MWV2ReplyError.bs").make,{outgoing:u})},children:i.jsx(b("MWReply.bs").make,{message:d,outgoing:u,isSecureThread:l})}),grow:!0})}):null,i.jsx(b("MWPBaseMessageListRow.bs").Body.make,{children:i.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return i.jsx(b("MWV2ChatErrorBubble.bs").make,{hasReply:D})},children:i.jsx(m,{message:d,isFirstMessageInGroup:s,isLastMessageInGroup:t,outgoing:u,isSecureThread:l,reactions:r,renderAttachment:a,hasMessageEmphasisRing:q,prevMessage:c,nextMessage:e})}),message:d,renderProfile:function(a){return i.jsx(b("MWV2MessageProfilePhoto.bs").make,{message:d,isLastMessageInGroup:t,isGroupThread:g})},renderMessageActions:function(a){return i.jsx(b("MWMessageRowActions.bs").make,{message:d,focused:w||B,hovered:y,hasReactions:E,outgoing:u,ariaHidden:n===!1})},renderGutterItem:function(a){return i.jsx(i.Fragment,{children:i.jsx(b("MWChatGutterItem.bs").make,{status:f,incoming:!1,xstyle:j.gutter})})},hasReactions:E}),t?i.jsx(b("MWPMessageListColumn.bs").VerticalRhythm.make,{height:7}):null]}),i.jsx(b("MWPBaseMessageListRow.bs").Footer.make,{message:d,nextMessage:e,children:function(a){a=typeof f==="number"||f.TAG!==1?b("MWV2SeenHead.bs").noSeenHeads:f._0;return i.jsx(b("MWV2MessageEndOfGroupContent.bs").make,{message:d,seenHeads:a})}})],isModal:n,isDialogOpened:B,setIsDialogOpened:A[1],domElementRef:p,isFocused:w,theme:G})]});return i.jsxs(i.Fragment,{children:[z,b("cr:4443")==null?null:i.jsx(k.make,{})]})}a=i.memo(c);f.styles=j;f.$MWRenderCounter$requireCond=b("cr:4443");f.MWV2MessageLoggingWrapper=d;f.Message=e;f.make=a}),null);
__d("MWV2ChatTypingIndicators.bs",["fbt","CometScreenReaderText.react","LSMediaUrl.bs","MWChatProfile.bs","MWChatTypingIndicator.bs","MWPMessageListColumn.bs","MWPSolidMessageBubble.bs","MWTooltip.react","MWV2MessageRowSimple.bs","ReQL.bs","ReQLSubscription.bs","ServerTime","bs_caml_int64","bs_curry","bs_int64","clearTimeout","react","setTimeout","stylex","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{alignItems:"aovydwv3",display:"j83agx80",paddingTop:"jwdofwj8",flexShrink:"pfnyh3mw",paddingBottom:"e5nlhep0"},profile:{flexShrink:"pfnyh3mw",display:"j83agx80",marginStart:"h676nmdw",marginEnd:"oi9244e8"}};function l(a,b){a=a.nickname;if(a!==void 0)return a;a=b.firstName;if(a!==void 0)return a;else return b.name}function m(a,c){var d=b("useReStore")(),e=b("ReQLSubscription.bs").useArray(j.useMemo(function(){return b("ReQL.bs").filter(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("typing_indicator")),{hd:c,tl:0}),function(a){return b("ServerTime").getMillis()<b("bs_caml_int64").to_float(a.expirationTimestampMs)})},[d,a,b("bs_int64").to_string(c)]));return j.useMemo(function(){var c=[];e.forEach(function(d){var e=a.get(b("bs_int64").to_string(d.senderId));if(!(e==null)){c.push([e[0],e[1],d]);return}});return c},[e])}function n(a){return j.useMemo(function(){var b=a.length;if(b!==1)if(b!==0)return g._(/*FBT_CALL*/"\u591a\u4f4d\u4e92\u52a8\u8005\u6b63\u5728\u8f93\u5165"/*FBT_CALL*/);else return"";b=a[0];return g._(/*FBT_CALL*/"{The participants name}\u6b63\u5728\u8f93\u5165"/*FBT_CALL*/,[g._param("The participants name",l(b[0],b[1]))])},[a])}function o(a,b){j.useEffect(function(){if(a!==void 0&&a.scrollPositionRef.current===0&&b.length>0){var c=a.scrollerRef.current;c==null||c.scrollToBottom()}},[b,a])}function p(a){var c=a.contact,d=a.participant,e=a.typingIndicator;a=j.useState(function(){return b("ServerTime").getMillis()<b("bs_caml_int64").to_float(e.expirationTimestampMs)});var f=a[1],g=j.useMemo(function(){return l(d,c)},[d,c]);j.useEffect(function(){b("bs_curry")._1(f,function(a){return b("ServerTime").getMillis()<b("bs_caml_int64").to_float(e.expirationTimestampMs)});var a=b("bs_caml_int64").to_float(e.expirationTimestampMs)-b("ServerTime").getMillis(),c=b("setTimeout")(function(a){return b("bs_curry")._1(f,function(a){return!1})},a);return function(a){b("clearTimeout")(c)}},[e,f]);if(a[0])return j.jsxs("div",{"aria-hidden":!0,className:(i||(i=b("stylex")))(k.root),children:[j.jsx("div",{className:i(k.profile),children:j.jsx(b("MWTooltip.react"),{tooltip:g,align:"middle",position:"start",children:j.jsx(b("MWChatProfile.bs").make,{size:28,src:b("LSMediaUrl.bs").Contact.profilePictureUrl(c),alt:g})})}),j.jsx(b("MWPSolidMessageBubble.bs").make,{children:j.jsx(b("MWChatTypingIndicator.bs").make,{}),style:{backgroundColor:"var(--wash)"},connectTop:!1,connectBottom:!1,precedesXMA:!1,outgoing:!1})]});else return null}c={make:p};function a(a){var c=a.threadKey,d=a.scrollerRefs;a=a.participants;a=m(a,c);c=n(a);o(d,a);if(a.length>0)return j.jsx(b("MWV2MessageRowSimple.bs").make,{children:j.jsxs(b("MWPMessageListColumn.bs").Grow.make,{children:[j.jsx("div",{"aria-live":"polite",children:j.jsx(b("CometScreenReaderText.react"),{text:c})}),a.map(function(a){var c=a[1];return j.jsx(p,{contact:c,participant:a[0],typingIndicator:a[2]},b("bs_int64").to_string(c.id))})]})});else return null}d=a;f.styles=k;f.getNameForContact=l;f.useTypingParticipants=m;f.useAccessibilityText=n;f.useScrollToBottomIfTheScrollPositionIsBottom=o;f.TypingIndicator=c;f.make=d}),null);
__d("MWMessageList.bs",["CometPagelet.react","LSMessagingThreadTypeUtil.bs","MWChatViewerChatVisibilityHook","MWLSActor.bs","MWMessageRow.bs","MWPAriaLabelForMessageListGrid.bs","MWPBaseMessageList.bs","MWPMessageListFocusTable.bs","MWThreadCapabilitiesContext.bs","MWV2ChatTypingIndicators.bs","MWV2MessageActionsVisibility.bs","MWVisibleMessageContext.bs","ReQL.bs","ReQLSubscription.bs","bs_caml_option","bs_curry","bs_int64","cr:4242","react","useCometUniqueID","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a,c){return new Map(b("ReQLSubscription.bs").useArray(h.useMemo(function(){var d;return(d=b("ReQL.bs")).map(d.mergeJoin(d.getKeyRange(d.fromTableAscending(c.table("participants")),{hd:a.threadKey,tl:0}),d.fromTableAscending(c.table("contacts"))),function(a){var c=a[1];return[b("bs_int64").to_string(c.id),[a[0],c]]})},[c,JSON.stringify(a.threadKey)])))}var j=b("cr:4242")==null?void 0:b("bs_caml_option").some(b("cr:4242"));function a(a){var c=a.messages,d=a.thread,e=a.isSecureThread,f=a.messageElementRefs,g=a.scrollerRefs,k=a.renderAttachment;a=b("useReStore")();var l=b("MWLSActor.bs").useActor(void 0),m=i(d,a),n=b("LSMessagingThreadTypeUtil.bs").isGroup(d.threadType),o=e&&n,p=b("MWPAriaLabelForMessageListGrid.bs").useHook(d,m);a=b("MWVisibleMessageContext.bs").useHook(void 0);var q=a.visibleMessage,r=b("MWV2MessageActionsVisibility.bs").useStopHoveringRef(void 0),s=b("MWChatViewerChatVisibilityHook")();a=h.useState(function(){return""});var t=a[1],u=a[0],v={contents:!1},w=b("useCometUniqueID")();return h.jsx(b("MWPBaseMessageList.bs").make,{thread:d,messages:c,participants:m,children:function(a){a=h.jsxs(h.Fragment,{children:[a,s?h.jsx(b("MWV2ChatTypingIndicators.bs").make,{threadKey:d.threadKey,scrollerRefs:g,participants:m}):null]});return h.jsx("div",{"data-testid":"mw_message_list",id:w,children:h.jsx(b("CometPagelet.react").Placeholder,{fallback:null,name:"MWV2MessageList",children:h.jsx(b("MWThreadCapabilitiesContext.bs").Provider.make,{children:h.jsx(b("MWPMessageListFocusTable.bs").make,{modal:u,setModal:t,children:b("cr:4242")==null?a:h.jsx(j.make,{children:a,id:w}),ariaLabel:p}),thread:d})})})},renderRow:function(a){var c=a.status,d=a.message,g=b("bs_int64").equal(d.senderId,l);g=o&&!d.isAdminMessage&&typeof c!=="number"?!v.contents&&g?(v.contents=!0,c):0:c;c={prevMessage:a.prevMessage,message:d,nextMessage:a.nextMessage,status:g,isGroupThread:n,isSecureThread:e,isModal:u===d.messageId,stopHoveringRef:r,domElementRef:b("bs_curry")._1(f.set,d.messageId),hasMessageEmphasisRing:q!==void 0?q.messageId===d.messageId&&q.source===1:!1};k!==void 0&&(c.renderAttachment=b("bs_caml_option").valFromOption(k));return h.jsx(b("MWMessageRow.bs").make,c)},isSecureGroupThread:o})}c=a;f.$MWMessageListKeyboardCommandContext$OR$null$requireCond=b("cr:4242");f.make=c}),null);
__d("MWV2ContextBanner.bs",["LSAuthorityLevel.bs","LSMessagingThreadTypeUtil.bs","LSNullstateDescriptionType.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","LSThreadTitle.bs","MDSText.react","MWThreadPicture.bs","RecoverableViolation.react","bs_caml","bs_caml_int64","bs_caml_option","cr:1574","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j=b("cr:1574")==null?void 0:b("bs_caml_option").some(b("cr:1574")),k={wrapper:{paddingBottom:"f10w8fjw"}};function l(a){var c=a.kind;a=a.text;if(b("bs_caml").i64_eq(c,b("bs_caml_int64").zero)||b("bs_caml").i64_eq(c,b("LSNullstateDescriptionType.bs").subtext)||b("bs_caml").i64_eq(c,b("LSNullstateDescriptionType.bs").titleSmallDefault)||b("bs_caml").i64_eq(c,b("LSNullstateDescriptionType.bs").titleSmallSubtext))return i.jsx("div",{className:(h||(h=b("stylex")))(k.wrapper),children:i.jsx(b("MDSText.react"),{align:"center",color:"secondary",type:"body4",children:a})});else return i.jsx(b("RecoverableViolation.react"),{errorMessage:"Unhandled nullstate description",projectName:"messenger_comet"})}c={styles:k,make:l};var m={container:{paddingTop:"aodizinl",paddingBottom:"f10w8fjw",paddingEnd:"d1544ag0",paddingStart:"tw6a2znq"},image:{display:"j83agx80",justifyContent:"taijpn5t",marginBottom:"n851cfcs"},title:{marginBottom:"n851cfcs"}};function n(a){a=a.thread;var c=a.nullstateDescriptionType3,d=a.nullstateDescriptionText3,e=a.nullstateDescriptionType2,f=a.nullstateDescriptionText2,g=a.nullstateDescriptionType1,k=a.nullstateDescriptionText1;return i.jsxs("div",{className:(h||(h=b("stylex")))(m.container),children:[i.jsx("div",{className:h(m.image),children:i.jsx(b("MWThreadPicture.bs").make,{photoSize:"s_60",badgeSize:14,thread:a})}),i.jsx("div",{className:h(m.title),children:i.jsx(b("MDSText.react"),{align:"center",type:"headlineEmphasized3",children:i.jsx(b("LSThreadTitle.bs").make,{thread:a,wrapOutput:function(a,b){return b}})})}),k!==void 0&&g!==void 0?i.jsx(l,{kind:g,text:k}):null,f!==void 0&&e!==void 0?i.jsx(l,{kind:e,text:f}):null,d!==void 0&&c!==void 0?i.jsx(l,{kind:c,text:d}):null,!(b("cr:1574")==null)&&b("LSMessagingThreadTypeUtil.bs").isGroup(a.threadType)&&b("bs_caml").i64_gt(a.authorityLevel,b("LSAuthorityLevel.bs").serverPartial)?i.jsx(j.make,{thread:a}):null]})}d={styles:m,make:n};function a(a){a=a.thread;var c=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").disableContextBanner,a);if(c)return null;else return i.jsx(n,{thread:a})}e=a;f.$MWContextBannerQuickActions$requireCond=b("cr:1574");f.NullstateDescription=c;f.Impl=d;f.make=e}),null);
__d("MWV2ConversationScrollerRefs.bs",["react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var b=h.useRef(null),c=h.useRef(0);return h.useMemo(function(){return{scrollerRef:b,scrollPositionRef:c}},[])}f.useHook=a}),null);
__d("MWV2CurrentVisibleMessage.bs",["LS.bs","LSMessagePointQuery","LSTransaction.bs","MWMessageElementRefList.bs","MWVisibleMessageContext.bs","ReQL.bs","ReQLSubscription.bs","SortedAsyncIterable.bs","bs_caml","bs_caml_obj","bs_curry","promiseDone","react","setTimeout","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c){var d=b("MWVisibleMessageContext.bs").useHook(void 0),e=d.visibleMessage,f=h.useRef(b("MWMessageElementRefList.bs").make(void 0));d=a!==void 0?a.threadKey:void 0;var g=a!==void 0?a.threadType:void 0,i=h.useRef(void 0),j=b("useReStore")(),k=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){if(a===void 0)return b("SortedAsyncIterable.bs").empty(void 0);if(e===void 0)return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableDescending(j.table("messages_ranges_v2__generated")),{hd:a.threadKey,tl:0});var c=e.timestamp;return b("ReQL.bs").filter(b("ReQL.bs").bounds(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableDescending(j.table("messages_ranges_v2__generated")),{hd:a.threadKey,tl:0}),{NAME:"lessThanOrEqual",VAL:{hd:c,tl:0}}),function(a){if(b("bs_caml").i64_ge(c,a.minTimestampMs))return b("bs_caml").i64_le(c,a.maxTimestampMs);else return!1})},[j,e,JSON.stringify(d)])),l=h.useState(function(){return k}),m=l[1],n=l[0];h.useEffect(function(){i.current=void 0;var a=c.current;e!==void 0||a==null||a.scrollToBottom()},[e]);var o=function(a){var d=c.current;if(!(d==null)){b("setTimeout")(function(b){return d.scrollElementIntoViewIfNeeded(a)},0);return}},p=function(a){if(b("bs_caml_obj").caml_notequal(a,i.current))return b("bs_curry")._2(f.current.get,a,function(b){o(b),i.current=a})};h.useEffect(function(){k!==void 0?b("bs_curry")._1(m,function(a){return k}):e!==void 0||b("bs_curry")._1(m,function(a){})},[e,k,m]);h.useEffect(function(){e!==void 0&&n!==void 0&&p(e.messageId)},[j,e,n,p]);h.useEffect(function(){if(a!==void 0&&k===void 0&&e!==void 0){var c=e.messageId;b("promiseDone")(b("LSTransaction.bs").run(j,function(d){return b("LSMessagePointQuery")(a.threadKey,c,a.threadType,b("LS.bs").make(d))},"readWrite"),void 0,void 0)}},[j,e,k,JSON.stringify(d),JSON.stringify(g)]);return{messageRange:n,messageElementRefs:f,visibleMessage:e}}f.useHook=a}),null);
__d("MWV2FetchMessagesPage.bs",["LS.bs","LSIssueMessagesRangeQuery","LSTransaction.bs","ReQL.bs","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c){var d=b("useReStore")();return h.useCallback(function(e){b("promiseDone")(b("LSTransaction.bs").run(d,function(d){return(c!==void 0?a!==void 0?window.Promise.resolve(a):b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableDescending(d.table("messages_ranges_v2__generated")),{hd:c,tl:0})):window.Promise.resolve(void 0)).then(function(a){if(c!==void 0&&a!==void 0)return b("LSIssueMessagesRangeQuery")(c,a.minTimestampMs,e,b("LS.bs").make(d));else return window.Promise.resolve(void 0)})},"readWrite"),void 0,void 0)},[d,JSON.stringify(c),a])}f.useFetchMessagesPage=a}),null);
__d("MWV2JumpToMostRecentMessage.bs",["MWVisibleMessageContext.bs","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("MWVisibleMessageContext.bs").useHook(void 0),d=c.visibleMessage,e=c.setVisibleMessage,f=h.useCallback(function(b){b=a.current;if(!(b==null))return b.scrollToBottom()},[a]);return h.useCallback(function(a){if(d!==void 0)return b("bs_curry")._1(e,function(a){});else return b("bs_curry")._1(f,void 0)},[f,d,e])}f.useHook=a}),null);
__d("MWV2JumpToMostRecentMessageButton.bs",["fbt","CurrentUser","MWPThreadTheme.bs","MWV2ColorUtils.bs","MWV2JumpToMostRecentMessage.bs","ODS","TetraCircleButton.react","bs_curry","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{position:"l9j0dhe7",width:"k4urcfbm",height:"do00u71z"},button:{position:"pmk7jnqg",bottom:"i09qtzwb",start:"kfkz5moi",marginStart:"pg7hd1hw",backgroundColor:"nred35xi",transform:"n9g6laej",transitionProperty:"flx89l3n",transitionDuration:"kmdw4o4n",transitionTimingFunction:"heur4gxb",zIndex:"tghn160j",boxShadow:"oyvrxjdn",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv"},visible:{transform:"amx3n8jj"}};function a(a){var c=a.scrollerRefs,d=a.visible;a=b("MWPThreadTheme.bs").useHook(void 0);var e=a.threadTheme,f=b("MWV2JumpToMostRecentMessage.bs").useHook(c.scrollerRef);return j.useMemo(function(){return j.jsx("div",{className:(i||(i=b("stylex")))(k.root),children:j.jsx("div",{className:i(k.button,d?k.visible:!1),children:j.jsx(b("TetraCircleButton.react"),{color:"white",disabled:!d,icon:function(a){a=b("MWV2ColorUtils.bs").int64ToHex(e.fallbackColor);return j.jsx("svg",{width:"18",height:"18",viewBox:"7 7 22 22",fill:"none",children:j.jsx("path",{d:"M24.616 18.366a1.25 1.25 0 011.768 1.768l-7.5 7.5a1.25 1.25 0 01-1.768 0l-7.5-7.5a1.25 1.25 0 011.768-1.768l4.94 4.94a.25.25 0 00.426-.177V9.25a1.25 1.25 0 112.5 0v13.879c0 .222.27.334.427.176l4.94-4.939z",fill:a})})},label:g._(/*FBT_CALL*/"\u524d\u5f80\u6700\u8fd1\u7684\u6d88\u606f"/*FBT_CALL*/),onPress:function(a){b("bs_curry")._1(f,void 0);a=b("CurrentUser").getAppID();a=a==null?"unknown":a;b("ODS").bumpEntityKey(3185,"mw_jump_to_bottom","app_id."+a)},size:40})})})},[f,d,e])}c=a;f.styles=k;f.make=c}),null);
__d("MWMDotMeReferrerContext.bs",["react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=h.createContext(void 0);function a(a){var b=a.children;a=a.referrer;return h.createElement(i.Provider,{value:a,children:b})}function c(a){return h.useContext(i)}d=a;f.make=d;f.useContext=c}),null);
__d("MWV2ThreadNullstate.bs",["fbt","CometLink.react","CometPressable.react","CometScrollableArea.react","FBID.bs","LS.bs","LSMailboxType.bs","LSNullstateCTAType.bs","LSOptimisticSendMessage","LSThreadAttributionStore.bs","LSThreadAttributionTypeUtil.bs","LSThreadTitle.bs","LSTransaction.bs","LsBotComposerQuickReplyTappedFalcoEvent","LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent","LsFalcoEventEntryPoint.bs","MDSText.react","MWLSActor.bs","MWMDotMeReferrerContext.bs","MessageSendClickFalcoEvent","UseCurrentDisplayMode.bs","bs_caml","bs_caml_obj","bs_caml_option","bs_curry","bs_int64","gkx","promiseDone","react","stylex","useCurrentDisplayMode","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={pill:{alignItems:"bp9cbjyn",backgroundColor:"nred35xi",borderTopStartRadius:"emml16de",borderTopEndRadius:"gmcszhul",borderBottomEndRadius:"ols5edhi",borderBottomStartRadius:"gob819ct",boxShadow:"rm35z8s5",boxSizing:"rq0escxv",color:"m70f1s33",display:"pq6dq46d",fontSize:"jq4qci2q",fontWeight:"b1v8xokw",justifyContent:"taijpn5t",marginTop:"rs0gx3tq",marginEnd:"oi9244e8",marginBottom:"dicw6rsg",marginStart:"h676nmdw",overflowWrap:"jm1wdb64",paddingTop:"fdg1wqfs",paddingBottom:"ae35evdt",paddingEnd:"d1544ag0",paddingStart:"tw6a2znq",wordBreak:"qv66sw1b"},dark_mode_legible_text_pill:{alignItems:"bp9cbjyn",backgroundColor:"khkgorpb",borderTopStartRadius:"emml16de",borderTopEndRadius:"gmcszhul",borderBottomEndRadius:"ols5edhi",borderBottomStartRadius:"gob819ct",boxShadow:"rm35z8s5",boxSizing:"rq0escxv",color:"m9osqain",display:"pq6dq46d",fontSize:"jq4qci2q",fontWeight:"b1v8xokw",justifyContent:"taijpn5t",marginTop:"rs0gx3tq",marginEnd:"oi9244e8",marginBottom:"dicw6rsg",marginStart:"h676nmdw",overflowWrap:"jm1wdb64",paddingTop:"fdg1wqfs",paddingBottom:"ae35evdt",paddingEnd:"d1544ag0",paddingStart:"tw6a2znq",wordBreak:"qv66sw1b"}};function l(a){var c=a.onClick;a=a.children;var d=b("useCurrentDisplayMode")()===b("UseCurrentDisplayMode.bs").darkTheme;return j.jsx(b("CometPressable.react"),{onPress:c,overlayDisabled:!0,xstyle:function(a){return[d&&b("gkx")("4144")?k.dark_mode_legible_text_pill:k.pill]},children:a})}c={styles:k,make:l};var m={welcome_text:{paddingBottom:"jfpizvyy",paddingEnd:"dflh9lhu",paddingStart:"scb9dxdr"},privacy_text:{paddingBottom:"ofv0k9yr",paddingEnd:"dflh9lhu",paddingStart:"scb9dxdr"},privacy_text_offset:{paddingTop:"ecm0bbzt",paddingBottom:"pby63qed"},cta_list:{display:"j83agx80",flexDirection:"cbu4d94t",alignItems:"aovydwv3",justifyContent:"taijpn5t",marginTop:"kvgmc6g5",marginEnd:"cxmmr5t8",marginBottom:"oygrvhab",marginStart:"hcukyx3x"},cta_list_item:{alignSelf:"o8rfisnq",paddingStart:"tw6a2znq",paddingEnd:"d1544ag0",paddingBottom:"f10w8fjw",textAlign:"oqcyycmt"},cta_list_item_center:{alignSelf:"o8rfisnq",paddingEnd:"d1544ag0",paddingStart:"tw6a2znq"}};function n(a,c,d){var e=b("useReStore")(),f=b("MWLSActor.bs").useActor(void 0),g=b("MWMDotMeReferrerContext.bs").useContext(void 0);return j.useCallback(function(h){return function(i){var j=b("LSThreadAttributionStore.bs").getSource(c,b("bs_int64").to_string(a.threadKey)),k=b("LSThreadAttributionTypeUtil.bs").toLSThreadAttribution(j);j=h!==void 0?b("bs_caml").i64_eq(h.ctaType,b("LSNullstateCTAType.bs").getStarted)&&b("bs_caml_obj").caml_equal(h.ctaId,i.ctaId):!1;var l=j?g:void 0;b("promiseDone")(b("LSTransaction.bs").run(e,function(c){return b("LSOptimisticSendMessage")(f,a.threadKey,a.threadType,b("LSMailboxType.bs").messenger,i.title,void 0,void 0,void 0,void 0,void 0,void 0,k,l!==void 0?b("bs_caml_option").valFromOption(l):void 0,i.platformToken!==void 0?b("bs_caml_option").valFromOption(i.platformToken):void 0,void 0,void 0,void 0,void 0,void 0,void 0,!0,!0,void 0,d!==void 0?b("bs_caml_option").valFromOption(d):void 0,void 0,b("LS.bs").make(c))},"readWrite"),void 0,void 0);var m=b("FBID.bs").ofString(b("bs_int64").to_string(a.threadKey)),n=function(a){if(m===void 0)return;var c=b("bs_caml_option").valFromOption(m);b("LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent").log(function(a){return{page:{id:c}}})},o=function(a){if(m===void 0)return;var c=b("bs_caml_option").valFromOption(m);b("LsBotComposerQuickReplyTappedFalcoEvent").log(function(a){return{page:{id:c},quick_reply:{id:"",type:64},display:void 0}})};j?n(void 0):o(void 0);b("MessageSendClickFalcoEvent").log(function(){return{message_send_source:{entry_point:b("LsFalcoEventEntryPoint.bs").icebreaker}}})}},[e,f,b("bs_int64").to_string(a.threadKey),c,g])}function a(a){var c=a.thread,d=a.nullstate,e=a.nullstateCtas,f=a.lsSource;a=a.initiatingSource;f=f!==void 0?f:"unknown";var h=n(c,f,a);f=g._(/*FBT_CALL*/"Tap to send"/*FBT_CALL*/);a=g._(/*FBT_CALL*/"\u53d1\u9001\u6d88\u606f\u540e\uff0c{name}\u5c06\u770b\u5230\u4f60\u7684{= public info link}\u3002"/*FBT_CALL*/,[g._param("name",j.jsx(b("LSThreadTitle.bs").make,{thread:c,wrapOutput:function(a,b){return b}})),g._param("= public info link",j.jsx(b("CometLink.react"),{href:"https://www.facebook.com/help/messenger-app/719578818758231",color:"primary",target:"_blank",role:"link",children:j.jsx(b("MDSText.react"),{type:"body4",children:g._(/*FBT_CALL*/"\u516c\u5f00\u4fe1\u606f"/*FBT_CALL*/)})}))]);c=d.welcomeText;var k=d.privacyText;c=j.jsxs("div",{children:[c!==void 0?e.length!==0?j.jsxs("div",{children:[j.jsx("div",{className:(i||(i=b("stylex")))(m.welcome_text),children:j.jsx(b("MDSText.react"),{align:"center",color:"secondary",type:"headline4",children:c})}),j.jsx("div",{className:(i||(i=b("stylex")))(m.welcome_text),children:j.jsx(b("MDSText.react"),{align:"center",color:"secondary",type:"headline4",children:f})})]}):j.jsx("div",{className:(i||(i=b("stylex")))(m.welcome_text),children:j.jsx(b("MDSText.react"),{align:"center",color:"secondary",type:"headline4",children:c})}):e.length!==0?j.jsx("div",{className:(i||(i=b("stylex")))(m.welcome_text),children:j.jsx(b("MDSText.react"),{align:"center",color:"secondary",type:"headline4",children:f})}):null,j.jsx("ul",{className:(i||(i=b("stylex")))(m.cta_list),children:e.map(function(a){var c=b("bs_caml").i64_eq(d.ctaType,b("LSNullstateCTAType.bs").getStarted)&&b("bs_caml_obj").caml_equal(d.ctaId,a.ctaId);return j.jsx("li",{className:(i||(i=b("stylex")))(m.cta_list_item,c?m.cta_list_item_center:!1),children:j.jsx(l,{onClick:function(c){return b("bs_curry")._2(h,d,a)},children:a.title})},b("bs_int64").to_string(a.ctaId))})}),k!==void 0?j.jsx("div",{className:(i||(i=b("stylex")))(m.privacy_text),children:j.jsx(b("MDSText.react"),{align:"center",color:"secondary",type:"body4",children:a})}):null]});if(b("gkx")("366"))return j.jsx(b("CometScrollableArea.react"),{xstyle:m.privacy_text_offset,children:c});else return c}d=a;f.Pill=c;f.styles=m;f.useSendIcebreakerMessage=n;f.make=d}),null);
__d("MWV2PersistentIcebreakers.bs",["MWChatBusinessQuickReplyList.bs","MWTheme.bs","MWV2ThreadNullstate.bs","bs_caml_int64","bs_curry","bs_int64","gkx","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react");function a(a,c,d){if(c.length!==0&&((d|0)-b("bs_caml_int64").to_int32(a.lastActivityTimestampMs)|0)>=216e5)return b("gkx")("4144");else return!1}function c(a){var c=a.thread,d=a.nullstateCtas,e=a.lsSource;a=a.initiatingSource;e=e!==void 0?e:"unknown";var f=b("MWV2ThreadNullstate.bs").useSendIcebreakerMessage(c,e,a);c=b("MWTheme.bs").useTheme(void 0);return i.jsx("div",{className:(h||(h=b("stylex")))(b("MWChatBusinessQuickReplyList.bs").styles.container,b("MWTheme.bs").isGradient(c)?b("MWChatBusinessQuickReplyList.bs").styles.mask:!1),children:i.jsx("ul",{className:h(b("MWChatBusinessQuickReplyList.bs").styles.pillContainerVertical),children:d.map(function(a){if(a.ctaType==="nullstate_icebreaker")return i.jsx("li",{className:(h||(h=b("stylex")))(b("MWV2ThreadNullstate.bs").styles.cta_list_item),children:i.jsx(b("MWV2ThreadNullstate.bs").Pill.make,{onClick:function(c){return b("bs_curry")._2(f,void 0,a)},children:a.title})},b("bs_int64").to_string(a.ctaId));else return null})})})}d=c;f.shouldShowPersistentIcebreakers=a;f.make=d}),null);
__d("MWV2QuickReplies.bs",["FBID.bs","LS.bs","LSMailboxType.bs","LSMessageReplySourceType.bs","LSMessageReplySourceTypeV2.bs","LSOptimisticSendMessage","LSThreadAttributionStore.bs","LSThreadAttributionTypeUtil.bs","LSTransaction.bs","MWChatBusinessQuickReplyList.bs","MWLSActor.bs","MWLSThreadDisplayContext.bs","MessagingThreadType.bs","Promise","ReQL.bs","ReQLSubscription.bs","bs_caml_option","bs_int64","bs_js_null_undefined","promiseDone","react","recoverableViolation","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){a=b("MWLSThreadDisplayContext.bs").useHook(void 0);if(a===1)return"inboxInThread";else return"chatInThread"}function j(a,b){h.useEffect(function(){if(a!==void 0&&a.scrollPositionRef.current===0&&b.length>0){var c=a.scrollerRef.current;c==null||c.scrollToBottom()}},[a,b.length])}function k(a){var c=a.lastMessageId,d=a.threadKey,e=a.quickReplyType;a=a.scrollerRefs;var f=i(void 0),g=b("useReStore")(),k=b("MWLSActor.bs").useActor(void 0),l=b("ReQLSubscription.bs").useArray(h.useMemo(function(){var a;return(a=b("ReQL.bs")).filter(a.map(a.getKeyRange(a.fromTableAscending(g.table("quick_reply_ctas")),{hd:d,tl:{hd:c,tl:0}}),function(a){var c=a.type_;c=c==="quick_reply_text"?"text":c==="quick_reply_phone"?"user_phone_number":c==="quick_reply_email"?"user_email":(b("recoverableViolation")("Unexpected quick-reply type","messenger_web_produce"),"");return{content_type:c,data:void 0,image_url:b("bs_caml_option").some(b("bs_js_null_undefined").fromOption(a.imageUrl)),payload:b("bs_caml_option").some(a.platformToken),title:a.title}}),function(a){return a.content_type!==""})},[g,c,d]));j(a,l);if(l.length>0)return h.jsx(b("MWChatBusinessQuickReplyList.bs").make,{arrayQR:l,onSend:function(a){var c=b("LSThreadAttributionStore.bs").getSource(f,b("bs_int64").to_string(d)),e=b("LSThreadAttributionTypeUtil.bs").toLSThreadAttribution(c);c=b("LSTransaction.bs").run(g,function(c){var f=a.payload;if(f!==void 0){f=b("bs_caml_option").valFromOption(f);var g=f==null?void 0:b("bs_caml_option").some(f);f=f==null?void 0:g}else f=void 0;return b("LSOptimisticSendMessage")(k,d,b("MessagingThreadType.bs").oneToOne,b("LSMailboxType.bs").messenger,a.title,void 0,!1,void 0,void 0,void 0,void 0,e,void 0,f!==void 0?b("bs_caml_option").valFromOption(f):void 0,void 0,b("LSMessageReplySourceType.bs").none,b("LSMessageReplySourceTypeV2.bs").none,void 0,void 0,void 0,!0,!0,void 0,void 0,void 0,b("LS.bs").make(c)).then(function(a){return b("Promise").resolve(a)})},"readWrite");b("promiseDone")(c,void 0,void 0)},id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(k)),quickReplyType:e});else return null}c={make:k};function a(a){var c=a.threadKey,d=a.message;a=a.scrollerRefs;if(d==null)return null;c={lastMessageId:d.messageId,threadKey:c,quickReplyType:d.quickReplyType};a!==void 0&&(c.scrollerRefs=b("bs_caml_option").valFromOption(a));return h.jsx(k,c)}d=a;f.useLsSource=i;f.useScrollToBottomIfTheScrollPositionIsBottom=j;f.Impl=c;f.make=d}),null);
__d("MWV2OpenThreadDetail.bs",["LS.bs","LSAuthorityLevel.bs","LSMessagingInitiatingSourceHook.bs","LSMessagingThreadTypeUtil.bs","LSOptimisticMarkThreadReadV2","LSTransaction.bs","MWChatLoadMoreItemsIncrementally.bs","MWChatUnsendNUX.bs","MWInboxThreadMessagesSpinner.bs","MWMessageList.bs","MWPMessageListColumn.bs","MWV2ContextBanner.bs","MWV2ConversationScrollerRefs.bs","MWV2CurrentVisibleMessage.bs","MWV2FetchMessagesPage.bs","MWV2JumpToMostRecentMessageButton.bs","MWV2PersistentIcebreakers.bs","MWV2QuickReplies.bs","MWV2ThreadNullstate.bs","ReQL.bs","ReQLSubscription.bs","ServerTime","SortedAsyncIterable.bs","bs_caml","bs_caml_array","bs_caml_int64","bs_caml_obj","bs_caml_option","bs_curry","bs_int64","cr:1374","cr:2796","cr:2797","gkx","promiseDone","qex","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a,c){var d=b("bs_int64").compare(a.primarySortKey,c.primarySortKey);if(d!==0)return d;d=a.secondarySortKey;var e=c.secondarySortKey;if(d===void 0)if(e!==void 0)return-1;else return b("bs_int64").compare(a.timestampMs,c.timestampMs);if(e===void 0)return 1;d=b("bs_int64").compare(d,e);if(d!==0)return d;else return b("bs_int64").compare(a.timestampMs,c.timestampMs)}function j(a,c){var d=b("useReStore")(),e=b("ReQLSubscription.bs").useArray(h.useMemo(function(){var e=b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("messages")),{hd:c.threadKey,tl:0});if(a!==void 0)return b("ReQL.bs").bounds(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("messages")),{hd:c.threadKey,tl:0}),{NAME:"range",VAL:[{NAME:"greaterThanOrEqual",VAL:{hd:a.minTimestampMs,tl:0}},{NAME:"lessThanOrEqual",VAL:{hd:a.maxTimestampMs,tl:0}}]});else if(b("bs_caml").i64_lt(c.authorityLevel,b("LSAuthorityLevel.bs").authoritative)||b("LSMessagingThreadTypeUtil.bs").isSecure(c.threadType))return e;else return b("SortedAsyncIterable.bs").empty(void 0)},[d,JSON.stringify(c.threadKey),JSON.stringify(c.authorityLevel),JSON.stringify(c.threadType),JSON.stringify(a)]));return h.useMemo(function(){return e.sort(i)},[e])}function k(a){var c=b("useReStore")();return h.useCallback(function(d){if(b("bs_caml").i64_ge(a.authorityLevel,b("LSAuthorityLevel.bs").authoritative)){b("promiseDone")(b("LSTransaction.bs").run(c,function(c){return b("LSOptimisticMarkThreadReadV2")(a.threadKey,b("bs_caml_int64").of_float(Date.now()),b("LS.bs").make(c))},"readWrite"),void 0,void 0);return}},[JSON.stringify(a.authorityLevel),JSON.stringify(a.threadKey),c])}function l(a){var c=b("useReStore")(),d=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("thread_nullstate")),{hd:a.threadKey,tl:0})},[c,JSON.stringify(a.threadKey)])),e=b("ReQLSubscription.bs").useArray(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromIndexAscending(c.table("thread_nullstate_ctas").index("threadKeyCtaId")),{hd:a.threadKey,tl:0})},[c,JSON.stringify(a.threadKey)]));return[d,e]}function a(a){a=a.thread;var c=h.useState(function(){return b("ServerTime").getMillis()}),d=b("MWV2ConversationScrollerRefs.bs").useHook(void 0),e=h.useState(function(){return!1}),f=e[1],g=b("MWV2CurrentVisibleMessage.bs").useHook(a,d.scrollerRef),i=g.visibleMessage,m=g.messageRange,n=g.messageRange;i=b("MWChatLoadMoreItemsIncrementally.bs").useLoadMore(b("gkx")("5399")||i!==void 0?!0:m!==void 0?m.hasMoreAfter:!1,void 0,void 0,j(g.messageRange,a),b("MWV2FetchMessagesPage.bs").useFetchMessagesPage(g.messageRange,a.threadKey),n!==void 0?n.hasMoreBefore:!1);m=i[2];n=i[0];var o=g.messageRange;o=o!==void 0?o.hasMoreAfter:!1;var p=k(a),q=l(a),r=q[1];q=q[0];var s=b("LSMessagingInitiatingSourceHook.bs").useHook(void 0),t=b("cr:1374")==null?null:h.jsx(b("cr:1374").make,{thread:a});c=b("MWV2PersistentIcebreakers.bs").shouldShowPersistentIcebreakers(a,r,c[0]);var u=b("bs_caml_obj").caml_equal(b("bs_caml_option").nullable_to_opt(b("qex")._("1511")),"enabled"),v={contents:!1},w=u?function(c){var a=d.scrollPositionRef.current;if(a===0){v.contents=!1;return b("bs_curry")._1(f,function(a){return v.contents})}else if(c!==void 0&&!v.contents){v.contents=c>360;return b("bs_curry")._1(f,function(a){return v.contents})}else return}:function(a){};if(q!==void 0&&b("bs_caml").i64_eq(a.lastActivityTimestampMs,b("bs_caml_int64").zero))return h.jsxs(h.Fragment,{children:[t,h.jsx(b("MWV2ContextBanner.bs").make,{thread:a}),h.jsx(b("MWPMessageListColumn.bs").Grow.make,{children:null}),h.jsx(b("MWV2ThreadNullstate.bs").make,{thread:a,nullstate:q,nullstateCtas:r,lsSource:"inboxInThread",initiatingSource:s})]});q=d.scrollerRef.current;return h.jsxs(h.Fragment,{children:[t,h.jsx(b("MWChatUnsendNUX.bs").make,{senderUnsendNUXEnabled:!0}),h.jsxs(b("cr:2796").make,{children:[h.jsxs(b("MWPMessageListColumn.bs").Shrinkwrap.make,{children:[h.jsx(b("MWPMessageListColumn.bs").VerticalRhythm.make,{height:20}),m?h.jsx(b("MWInboxThreadMessagesSpinner.bs").make,{}):h.jsx(b("MWV2ContextBanner.bs").make,{thread:a}),h.jsx(b("MWPMessageListColumn.bs").VerticalRhythm.make,{height:10})]}),h.jsx(b("MWPMessageListColumn.bs").Grow.make,{children:null}),h.jsx(b("MWMessageList.bs").make,{messages:n,thread:a,isSecureThread:!1,messageElementRefs:g.messageElementRefs.current,scrollerRefs:d}),o&&u?h.jsx(b("MWPMessageListColumn.bs").Shrinkwrap.make,{children:h.jsx(b("MWInboxThreadMessagesSpinner.bs").make,{})}):null,h.jsx(b("MWV2QuickReplies.bs").make,{threadKey:a.threadKey,message:n[n.length-1|0],scrollerRefs:d}),c?h.jsx(b("MWV2PersistentIcebreakers.bs").make,{thread:a,nullstateCtas:r,lsSource:"inboxInThread",initiatingSource:s}):null,!(b("cr:2797")==null)&&!(q==null)&&u?h.jsx(b("cr:2797").make,{scrollerRef:q.getScroller(),setIsVisible:f,tolerance:360}):null],thread:a,fetchMore:i[1],markThreadAsRead:p,lastMessageToCalculateIfThreadIsRead:n.length!==0?b("bs_caml_array").get(n,n.length-1|0):void 0,scrollerRefs:d,hasMoreBefore:m,hasMoreAfter:o,onScroll:w}),u?h.jsx(b("MWV2JumpToMostRecentMessageButton.bs").make,{scrollerRefs:d,visible:e[0]||o}):null]})}c=b("cr:1374");d=b("cr:2796");e=a;f.$MWV2ArmadilloDogfoodingUpsell$requireCondXplat=b("cr:1374");f.mwv2ArmadilloDogfoodingUpsell=c;f.useMessages=j;f.$MWMessageScrollerThatMarksAsRead$OR$MWV2MessageScroller$requireCond=b("cr:2796");f.messageScroller=d;f.$MWJumpToMostRecentMessageVisibilityTrigger$requireCond=b("cr:2797");f.make=e}),null);
__d("MWV2ThreadGradientBackground.bs",["MWPThreadTheme.bs","MWV2ColorUtils.bs","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={container:{flexBasis:"rj1gh0hx",flexGrow:"buofh1pr",display:"j83agx80",position:"l9j0dhe7",flexDirection:"cbu4d94t",overflowX:"ni8dbmo4",overflowY:"stjgntxs",maxHeight:"nwf6jgls"}};function a(a){a=a.children;var c=b("MWPThreadTheme.bs").useHook(void 0),d=c.gradientColors;c=i.useMemo(function(){if(d.length>1)return{backgroundImage:b("MWV2ColorUtils.bs").gradient(d,void 0,void 0,void 0)};else return{}},[d]);return i.jsx("div",{style:c,className:(h||(h=b("stylex")))(j.container),children:a})}c=a;f.styles=j;f.make=c}),null);
__d("MWV2OpenAndSecureThreadView.bs",["LSMessagingThreadTypeUtil.bs","MWV2OpenThreadDetail.bs","MWV2ThreadGradientBackground.bs","cr:742","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=a.thread;return h.jsx(b("MWV2ThreadGradientBackground.bs").make,{children:b("cr:742")==null?h.jsx(b("MWV2OpenThreadDetail.bs").make,{thread:a}):b("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType)?h.jsx(b("cr:742").make,{thread:a}):h.jsx(b("MWV2OpenThreadDetail.bs").make,{thread:a})})}c=b("cr:742");d=a;f.$MAWSecureThreadDetail$requireCondXplat=b("cr:742");f.mawSecureThreadDetail=c;f.make=d}),null);
__d("MWInboxThreadAndComposer.bs",["LS.bs","LSAddMessengerContact","LSMessagingThreadTypeUtil.bs","LSTransaction.bs","MWLSActor.bs","MWV2ComposerCommon.bs","MWV2OpenAndSecureThreadView.bs","ReQL.bs","bs_caml","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.thread,d=b("useReStore")(),e=b("MWLSActor.bs").useActor(void 0);a=h.useCallback(function(a){b("promiseDone")(b("LSTransaction.bs").run(d,function(a){var f;return(f=b("ReQL.bs")).first(f.filter(f.map(f.getKeyRange(f.fromTableAscending(d.table("participants")),{hd:c.threadKey,tl:0}),function(a){return a.contactId}),function(a){return b("bs_caml").i64_neq(a,e)})).then(function(d){if(d!==void 0&&b("LSMessagingThreadTypeUtil.bs").isSecure(c.threadType)&&b("LSMessagingThreadTypeUtil.bs").isOneToOne(c.threadType))return b("LSAddMessengerContact")(d,b("LS.bs").make(a))})},"readWrite"),void 0,void 0)},[d,c,e]);return h.jsxs(h.Fragment,{children:[h.jsx(b("MWV2OpenAndSecureThreadView.bs").make,{thread:c}),h.jsx(b("MWV2ComposerCommon.bs").make,{thread:c,isPreviewThread:!1,afterSendMessage:a,onSendEmptyMessage:function(a){}})]})}c=a;f.make=c}),null);
__d("MWChatInThreadBanner.bs",["CometImageIcon_DEPRECATED.react","CometPressable.react","MDSRow.react","MDSRowItem.react","MDSText.react","MDSTextPairing.react","TetraButton.react","bs_belt_Option","bs_caml_option","bs_curry","react","recoverableViolation","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={container:{position:"l9j0dhe7",backgroundColor:"nred35xi"},sheet:{borderBottom:"s1tcr66n"},sheetInner:{width:"k4urcfbm",paddingBottom:"osnr6wyh"},image:{marginEnd:"cxmmr5t8"},infoLabel:{backgroundColor:"tdjehn4e",borderTopStartRadius:"jk6sbkaj",borderTopEndRadius:"kdgqqoy6",borderBottomEndRadius:"ihh4hy1g",borderBottomStartRadius:"qttc61fc",overflowX:"ni8dbmo4",overflowY:"stjgntxs",paddingTop:"ggysqto6",paddingEnd:"ph5uu5jm",paddingBottom:"ojkyduve",paddingStart:"b3onmgus",textOverflow:"ltmttdrg",whiteSpace:"g0qnabr5"},grow:{flexGrow:"buofh1pr"},linkBanner:{width:"k4urcfbm"}};function k(a){var c=a.button;a=a.action;var d=c.ctaTitle;if(typeof a==="number"){b("recoverableViolation")("In thread banner cta not implemented: "+c.ctaType,"messenger_web_product");return null}switch(a.TAG|0){case 0:return i.jsx(b("MDSRowItem.react"),{xstyle:[j.grow],children:i.jsx(b("TetraButton.react"),{label:d,type:"secondary",linkProps:{target:"_blank",url:a._0}})});case 1:var e=a._0;c={label:d,type:"secondary",onPress:function(a){return b("bs_curry")._1(e,void 0)}};a._1!==void 0&&(c.ref=b("bs_caml_option").valFromOption(a._1));return i.jsx(b("MDSRowItem.react"),{xstyle:[j.grow],children:i.jsx(b("TetraButton.react"),c)});case 2:return i.jsx(b("MDSRowItem.react"),{xstyle:[j.grow],children:b("bs_curry")._1(a._0,function(a,c,e,f,g,h,j){return i.jsx(b("TetraButton.react"),{label:d,type:"secondary",onPress:function(a){return b("bs_curry")._1(c,void 0)},ref:a})})})}}c={make:k};function a(a){var c=a.banner;a=a.ctaParser;var d=c.banner.iconUrl;d=d!==void 0?i.jsx(b("MDSRowItem.react"),{expanding:!1,children:i.jsx("div",{className:(h||(h=b("stylex")))(j.image),children:i.jsx(b("CometImageIcon_DEPRECATED.react"),{size:24,src:d,style:"circle"})})}):null;var e=i.jsx(b("MDSRowItem.react"),{expanding:!0,children:i.jsx(b("MDSTextPairing.react"),{body:b("bs_belt_Option").getWithDefault(c.banner.titleSectionOne,"")+b("bs_belt_Option").getWithDefault(c.banner.titleSectionTwo,""),meta:b("bs_belt_Option").mapWithDefault(c.banner.heading,null,function(a){return a}),level:4,bodyLineLimit:1,metaLineLimit:1,metaLocation:"above"})}),f=c.banner.infoLabel;f=f!==void 0?i.jsx(b("MDSRowItem.react"),{children:i.jsx(b("MDSText.react"),{type:"meta1",children:i.jsx("span",{className:(h||(h=b("stylex")))(j.infoLabel),children:f})})}):null;var g=c.leftButton,l=c.rightButton,m,n=0,o;g!==void 0?l!==void 0?m=i.jsxs(b("MDSRow.react"),{paddingTop:8,children:[i.jsx(k,{button:g,action:b("bs_curry")._2(a,c,g)}),i.jsx(k,{button:l,action:b("bs_curry")._2(a,c,l)})]}):(o=g,n=1):l!==void 0?(o=l,n=1):m=null;n===1&&(m=i.jsx(b("MDSRow.react"),{paddingTop:8,children:i.jsx(k,{button:o,action:b("bs_curry")._2(a,c,o)})}));var p=i.jsxs("div",{className:(h||(h=b("stylex")))(j.sheetInner),children:[i.jsxs(b("MDSRow.react"),{children:[d,e,f]}),m]});g=b("bs_belt_Option").map(c.bannerAction,b("bs_curry")._1(a,c));var q;if(g!==void 0)if(typeof g==="number")b("recoverableViolation")("In thread banner cta not implemented: "+b("bs_belt_Option").getWithDefault(b("bs_belt_Option").map(c.bannerAction,function(a){return a.ctaType}),""),"messenger_web_product"),q=p;else switch(g.TAG|0){case 0:q=i.jsx(b("CometPressable.react"),{expanding:!0,linkProps:{target:"_blank",url:g._0},xstyle:function(a){return[j.linkBanner]},children:p});break;case 1:var r=g._0;l={expanding:!0,onPress:function(a){return b("bs_curry")._1(r,void 0)},children:p};g._1!==void 0&&(l.ref=b("bs_caml_option").valFromOption(g._1));q=i.jsx(b("CometPressable.react"),l);break;case 2:q=b("bs_curry")._1(g._0,function(a,c,d,e,f,g,h){return i.jsx(b("CometPressable.react"),{expanding:!0,ref:a,onPress:function(a){return b("bs_curry")._1(c,void 0)},children:p})});break}else q=p;return i.jsx("div",{className:h(j.container),children:i.jsx("div",{className:h(j.sheet),children:q})})}d=a;f.styles=j;f.BannerButton=c;f.make=d}),null);
__d("MWLSEnsureInThreadBannerExists.bs",["LS.bs","LSFetchBanners","LSTransaction.bs","MWThreadKey.bs","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useReStore")(),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0);h.useEffect(function(){var a=b("LSTransaction.bs").run(c,function(a){return b("LSFetchBanners")(d,b("LS.bs").make(a))},"readWrite");b("promiseDone")(a,void 0,void 0)},[d,c])}f.useHook=a}),null);
__d("MWLSInThreadBanner.bs",["ReQL.bs","ReQLSuspense","bs_belt_Array","bs_belt_Option","bs_caml_int64","bs_caml_option","bs_int64"],(function(a,b,c,d,e,f){"use strict";d={threadKey:(c=b("bs_caml_int64")).zero,bannerId:c.zero,timestampMs:c.zero,iconUrl:void 0,iconUrlFallback:void 0,iconUrlExpirationTimestampMs:void 0,heading:void 0,titleSectionOne:void 0,titleSectionTwo:void 0,cta1Id:void 0,cta1Title:void 0,cta1Type:void 0,cta2Id:void 0,cta2Title:void 0,cta2Type:void 0,chevronCtaId:void 0,chevronCtaType:void 0,bannerCtaId:void 0,bannerCtaType:void 0,infoLabel:void 0};e={bannerId:c.zero,ctaId:c.zero,threadKey:c.zero,ctaType:"fallback",ctaTitle:"",deeplinkUrl:void 0,webviewUrl:void 0,contextId:void 0,actionContentBlob:void 0};var g=[];g={banner:d,leftButton:void 0,rightButton:void 0,bannerAction:void 0,overflowMenuActions:g};function a(a,c){var d;return(d=b("ReQL.bs")).map(d.leftJoin(d.getKeyRange(d.fromTableAscending(a.table("in_thread_banner")),{hd:c,tl:0}),d.getKeyRange(d.fromTableAscending(a.table("in_thread_banner_overflow_menu")),{hd:c,tl:0})),function(c){var d=c[1];c=c[0];var e=new Map(b("ReQLSuspense").toArray(b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(a.table("in_thread_banner_ctas")),{hd:c.bannerId,tl:0}),function(a){return[b("bs_int64").to_string(a.ctaId),a]}))),f=function(a){return b("bs_caml_option").nullable_to_opt(e.get(b("bs_int64").to_string(a)))};return{banner:c,leftButton:b("bs_belt_Option").flatMap(c.cta1Id,f),rightButton:b("bs_belt_Option").flatMap(c.cta2Id,f),bannerAction:b("bs_belt_Option").flatMap(c.bannerCtaId,f),overflowMenuActions:d!==void 0?b("bs_belt_Array").keepMap([d.cta1Id,d.cta2Id,d.cta3Id,d.cta4Id,d.cta5Id],function(a){return b("bs_belt_Option").flatMap(a,f)}):[]}})}c={threadKey:c.zero,bannerId:c.zero,cta1Id:void 0,cta1Title:void 0,cta1Type:void 0,cta2Id:void 0,cta2Title:void 0,cta2Type:void 0,cta3Id:void 0,cta3Title:void 0,cta3Type:void 0,cta4Id:void 0,cta4Title:void 0,cta4Type:void 0,cta5Id:void 0,cta5Title:void 0,cta5Type:void 0};f.emptyBanner=d;f.emptyCta=e;f.emptyMenu=c;f.empty=g;f.getInThread=a}),null);
__d("C2CTransactionActionConvert.bs",["bs_js_exn"],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==="LABEL_COMPLETED")return"LABEL_COMPLETED";else if(a==="MARK_AS_SOLD")return"MARK_AS_SOLD";else if(a==="RATE_SELLER")return"RATE_SELLER";else if(a==="LABEL_AWAITING_PAYMENT")return"LABEL_AWAITING_PAYMENT";else if(a==="LABEL_SHIPPED")return"LABEL_SHIPPED";else if(a==="RATE_BUYER")return"RATE_BUYER";else if(a==="MAKE_AN_OFFER")return"MAKE_AN_OFFER";else if(a==="LABEL_PAID")return"LABEL_PAID";else if(a==="LISTING_REMOVAL")return"LISTING_REMOVAL";else if(a==="BUYER_SURVEY_THREAD_AFTER_MAS")return"BUYER_SURVEY_THREAD_AFTER_MAS";else if(a==="LABEL_CASH_ON_DELIVERY")return"LABEL_CASH_ON_DELIVERY";else if(a==="BUYER_SURVEY_BROWSE_FEED")return"BUYER_SURVEY_BROWSE_FEED";else if(a==="LABEL_NEEDS_SHIPPING")return"LABEL_NEEDS_SHIPPING";else if(a==="REQUEST_RATING")return"REQUEST_RATING";else if(a==="DELETE")return"DELETE";else if(a==="MARK_AS_SHIPPED")return"MARK_AS_SHIPPED";else if(a==="X_DAYS_MESSENGER_BOT")return"X_DAYS_MESSENGER_BOT";else if(a==="BUYER_SURVEY_BSG_GROUP_MALL")return"BUYER_SURVEY_BSG_GROUP_MALL";else return"MARK_AS_PAID"}function c(a){switch(a){case"BUYER_SURVEY_BROWSE_FEED":return"BUYER_SURVEY_BROWSE_FEED";case"BUYER_SURVEY_BSG_GROUP_MALL":return"BUYER_SURVEY_BSG_GROUP_MALL";case"BUYER_SURVEY_THREAD_AFTER_MAS":return"BUYER_SURVEY_THREAD_AFTER_MAS";case"DELETE":return"DELETE";case"LABEL_AWAITING_PAYMENT":return"LABEL_AWAITING_PAYMENT";case"LABEL_CASH_ON_DELIVERY":return"LABEL_CASH_ON_DELIVERY";case"LABEL_COMPLETED":return"LABEL_COMPLETED";case"LABEL_NEEDS_SHIPPING":return"LABEL_NEEDS_SHIPPING";case"LABEL_PAID":return"LABEL_PAID";case"LABEL_SHIPPED":return"LABEL_SHIPPED";case"LISTING_REMOVAL":return"LISTING_REMOVAL";case"MAKE_AN_OFFER":return"MAKE_AN_OFFER";case"MARK_AS_PAID":return"MARK_AS_PAID";case"MARK_AS_SHIPPED":return"MARK_AS_SHIPPED";case"MARK_AS_SOLD":return"MARK_AS_SOLD";case"RATE_BUYER":return"RATE_BUYER";case"RATE_SELLER":return"RATE_SELLER";case"REQUEST_RATING":return"REQUEST_RATING";case"X_DAYS_MESSENGER_BOT":return"X_DAYS_MESSENGER_BOT";default:return b("bs_js_exn").raiseError("Invalid C2CTransactionAction.t: "+a)}}d={toJS:a,toRe:c};f.converter=d}),null);
__d("MWLSExecuteInThreadBannerCta.bs",["LS.bs","LSExecuteCTA","LSTransaction.bs","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useReStore")();return h.useCallback(function(a){var d=b("LSTransaction.bs").run(c,function(c){return b("LSExecuteCTA")(a,b("LS.bs").make(c))},"readWrite");b("promiseDone")(d,void 0,void 0)},[c])}f.useHook=a}),null);
__d("MWLSMarketplaceServerMutationCta.bs",["LS.bs","LSServerMutationCta","LSTransaction.bs","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useReStore")();return h.useCallback(function(a){return function(d){var e=b("LSTransaction.bs").run(c,function(c){return b("LSServerMutationCta")(a,d,b("LS.bs").make(c))},"readWrite");b("promiseDone")(e,void 0,void 0)}},[c])}f.useHook=a}),null);
__d("MWLSMarketplaceCtaParser.bs",["C2CTransactionActionConvert.bs","CometLazyPopoverTrigger.react","CometMarketplaceConfirmMarkAsPaidDialog.entrypoint","CometMarketplaceCreateDiscountedPriceDialog.entrypoint","CometMarketplaceInboxLabelChatDialog.entrypoint","CometMarketplaceLogger","CometMarketplaceSellerListingTransactionReportingFromThreadViewDialog.entrypoint","JSResource","MWLSActor.bs","MWLSExecuteInThreadBannerCta.bs","MWLSMarketplaceServerMutationCta.bs","MWThreadKey.bs","ReQL.bs","ReQLSubscription.bs","bs_belt_Option","bs_caml","bs_curry","bs_int64","bs_js_dict","bs_js_json","qex","react","recoverableViolation","useCometEntryPointDialog","useCometLazyDialog","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");c=["marketplace_mark_as_available","marketplace_mark_as_pending","marketplace_mark_as_sold","marketplace_mark_as_sold_scaled","marketplace_mark_as_sold_with_txn_survey","marketplace_mark_as_sold_with_txn_survey_scaled","marketplace_mark_as_sold_with_select_buyer","marketplace_mark_as_sold_with_select_buyer_scaled"];var i=new Set(c);d=new Set(c.concat(["marketplace_rate_buyer","marketplace_scaled_rate_buyer","marketplace_rate_seller","marketplace_scaled_rate_seller","marketplace_report_buyer","marketplace_report_seller","marketplace_see_details","marketplace_request_payment","marketplace_send_payment","marketplace_find_similar","marketplace_more_options","marketplace_p2m_request_payment","marketplace_xma_call_function","marketplace_label_chat","marketplace_mark_as_paid","marketplace_view_profile","marketplace_create_discount","marketplace_server_mutation"]));function j(a){var c=b("useReStore")(),d=b("MWLSActor.bs").useActor(void 0),e=b("MWThreadKey.bs").useIdMemoizedExn(void 0);a=h.useMemo(function(){var a;return(a=b("ReQL.bs")).map(a.filter(a.getKeyRange(a.fromTableAscending(c.table("participants")),{hd:e,tl:0}),function(a){return b("bs_caml").i64_neq(a.contactId,d)}),function(a){return a.contactId})},[JSON.stringify(d),e,c]);a=b("ReQLSubscription.bs").useFirst(a);if(a!==void 0)return b("bs_int64").to_string(a)}function a(a){var c,d=b("MWLSExecuteInThreadBannerCta.bs").useHook(void 0),e=b("MWLSMarketplaceServerMutationCta.bs").useHook(void 0),f=j(void 0),g=h.useRef(null);a=b("useCometLazyDialog")(b("JSResource")("CometFRX_DEPRECATED.react").__setRef("MWLSMarketplaceCtaParser.bs"));var k=a[0],l=b("MWThreadKey.bs").useIdMemoizedExn(void 0);a=b("bs_int64").to_string(l);var m=(c=b("useCometEntryPointDialog"))(b("CometMarketplaceInboxLabelChatDialog.entrypoint"),{thread_id:a}),n=m[0];m=c(b("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialog.entrypoint"),{threadId:a});var o=m[0];m=c(b("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint"),{threadId:a});var p=m[0];m=c(b("CometMarketplaceCreateDiscountedPriceDialog.entrypoint"),{threadId:a});var q=m[0];return h.useMemo(function(){var a=function a(c,j){var m=j.ctaType;if(m==="marketplace_see_details"){var r=j.webviewUrl;if(r!==void 0)return{TAG:0,_0:r};r=j.deeplinkUrl;if(r!==void 0)return{TAG:0,_0:r};else{b("recoverableViolation")("Marketplace see details cta without url","messenger_web_product");return 0}}if(m==="marketplace_view_profile"){r=j.webviewUrl;if(r!==void 0)return{TAG:0,_0:r};r=j.deeplinkUrl;if(r!==void 0)return{TAG:0,_0:r};else{b("recoverableViolation")("Marketplace view profile cta without url","messenger_web_product");return 0}}if(m==="marketplace_more_options"&&c.overflowMenuActions.length>0)return{TAG:2,_0:function(d){return h.jsx(b("CometLazyPopoverTrigger.react"),{popoverResource:b("JSResource")("MWLSMarketplacePopoverMenu.react").__setRef("MWLSMarketplaceCtaParser.bs"),popoverProps:{menu:c.overflowMenuActions,ctaParser:function(b){return a(c,b)}},align:"end",children:d})}};if(m==="marketplace_report_buyer"||m==="marketplace_report_seller")if(f!==void 0)return{TAG:1,_0:function(a){return k({entryPoint:"REPORT_BUTTON",id:f,location:m==="marketplace_report_buyer"?"marketplace_messenger_report_buyer":"marketplace_messenger_report_seller"},function(a){})},_1:g};else{b("recoverableViolation")("Haven't implemented report buyer/seller for threads with more than 1 person","messenger_web_product");return 0}if(m==="marketplace_mark_as_sold_with_txn_survey"||m==="marketplace_mark_as_sold_with_txn_survey_scaled")return{TAG:1,_0:function(a){b("bs_curry")._1(d,j.ctaId);if(b("qex")._("1510")===!0)return o({action:b("bs_curry")._1(b("C2CTransactionActionConvert.bs").converter.toJS,"MARK_AS_SOLD")},function(a){})},_1:void 0};if(i.has(m))return{TAG:1,_0:function(a){return b("bs_curry")._1(d,j.ctaId)},_1:void 0};if(m!=="marketplace_server_mutation")if(m==="marketplace_label_chat")return{TAG:1,_0:function(a){return n({threadID:b("bs_int64").to_string(l)},function(a){return b("bs_curry")._1(d,j.ctaId)})},_1:void 0};else if(m==="marketplace_mark_as_paid")return{TAG:1,_0:function(a){return p({threadID:b("bs_int64").to_string(l)},function(a){return b("bs_curry")._1(d,j.ctaId)})},_1:void 0};else if(m==="marketplace_create_discount")return{TAG:1,_0:function(a){b("CometMarketplaceLogger").logClick("create_discount","messenger_thread_view");return q({threadID:b("bs_int64").to_string(l)},function(a){return b("bs_curry")._1(d,j.ctaId)})},_1:void 0};else return 0;r=j.actionContentBlob;var s=r!==void 0?b("bs_belt_Option").getExn(b("bs_js_json").decodeString(b("bs_belt_Option").getExn(b("bs_js_dict").get(b("bs_belt_Option").getExn(b("bs_js_json").decodeObject(JSON.parse(r))),"marketplace_cta_type")))):"";return{TAG:1,_0:function(a){return b("bs_curry")._2(e,l,s)},_1:void 0}};return a},[d,e,f,k,g,n,o,l])}f.marketplaceCta=d;f.useOtherParticipantId=j;f.useHook=a}),null);
__d("MWLSInThreadBannerCtaParser.bs",["MWLSAdContextCtaParser.bs","MWLSMarketplaceCtaParser.bs","bs_curry"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=b("MWLSMarketplaceCtaParser.bs").useHook(void 0),d=b("MWLSAdContextCtaParser.bs").useHook(void 0);return function(a,e){var f=e.ctaType;if(b("MWLSMarketplaceCtaParser.bs").marketplaceCta.has(f))return b("bs_curry")._2(c,a,e);else if(b("MWLSAdContextCtaParser.bs").adContextCta.has(f))return b("bs_curry")._2(d,a,e);else return 0}}f.useHook=a}),null);
__d("MWLSInThreadBannerComponent.bs",["MWChatInThreadBanner.bs","MWLSEnsureAdContextExists.bs","MWLSEnsureInThreadBannerExists.bs","MWLSInThreadBanner.bs","MWLSInThreadBannerCtaParser.bs","MWThreadKey.bs","ReQL.bs","ReQLSubscription.bs","bs_caml_int64","bs_caml_option","bs_curry","cr:1300","cr:1575","gkx","qex","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");c=b("cr:1300")==null?void 0:b("bs_caml_option").some(b("cr:1300"));d=b("cr:1575")==null?void 0:b("bs_caml_option").some(b("cr:1575"));var i=b("cr:1300")==null?function(a,b,c){}:c.useHook,j=b("cr:1575")==null?function(a,b,c,d){}:d.useHook;function a(a){b("MWLSEnsureInThreadBannerExists.bs").useHook(void 0);b("MWLSEnsureAdContextExists.bs").useHook(void 0);var c=b("useReStore")(),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0);a=h.useMemo(function(){return b("MWLSInThreadBanner.bs").getInThread(c,d)},[c,d]);a=b("ReQLSubscription.bs").useFirst(a);var e=b("MWLSInThreadBannerCtaParser.bs").useHook(void 0),f=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("threads")),{hd:d,tl:0})},[c,d]));f=f!==void 0?f.proactiveWarningDismissTime:b("bs_caml_int64").one;b("bs_curry")._3(i,c,f,d);b("bs_curry")._4(j,a,c,f,d);if(a===void 0)return null;f=a.banner.bannerCtaType;if(f==="ads_context")if(b("qex")._("1509")===!0)return h.jsx(b("MWChatInThreadBanner.bs").make,{banner:a,ctaParser:e});else return null;f=a.banner.cta1Type;if(f!==void 0)if(b("gkx")("5089")&&f==="proactive_warning_negative")return null;else return h.jsx(b("MWChatInThreadBanner.bs").make,{banner:a,ctaParser:e});else return h.jsx(b("MWChatInThreadBanner.bs").make,{banner:a,ctaParser:e})}e=a;f.$MWFetchProactiveWarning$OR$null$requireCond=b("cr:1300");f.$MWShowProactiveWarningDialog$OR$null$requireCond=b("cr:1575");f.useFetchProactiveWarning=i;f.useShowProactiveWarningDialog=j;f.make=e}),null);
__d("MWPNewMessageAnnouncementForScreenReaders.bs",["fbt","LSAuthorityLevel.bs","LSMessageReplySourceTypeV2.bs","LSMessagingThreadTypeUtil.bs","MWLSActor.bs","MWPForwardedContent.bs","MWV2MessageHasAttachment.bs","MessagingAttachmentType.bs","ReQL.bs","ReQLSubscription.bs","ServerTime","SortedAsyncIterable.bs","StylexHelpers.bs","bs_caml","bs_caml_int64","bs_caml_obj","bs_caml_option","bs_curry","clearTimeout","promiseDone","react","setTimeout","stylex","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react");function k(a){var c=a.message;a=a.outgoing;c=b("MWPForwardedContent.bs").useTitle(c,a);return g._(/*FBT_CALL*/"{forward title}"/*FBT_CALL*/,[g._param("forward title",c)])}c={make:k};function l(a){var c=a.message,d=a.sender;a=a.participant;var e=b("MWLSActor.bs").useActor(void 0);e=b("bs_caml").i64_eq(d.id,e);var f=b("bs_caml_obj").caml_equal(c.replySourceTypeV2,b("LSMessageReplySourceTypeV2.bs").forward);a=a!==void 0?a.nickname:void 0;if(a!==void 0)a=a;else{var h=d.firstName;a=h!==void 0?h:d.name}if(f)return j.jsx(k,{message:c,outgoing:e});h=c.replySnippet;if(h!==void 0)return g._(/*FBT_CALL*/"{reply snippet}"/*FBT_CALL*/,[g._param("reply snippet",h)]);else if(e)return g._(/*FBT_CALL*/"\u4f60\u53d1\u9001\u4e86\uff0c"/*FBT_CALL*/);else return g._(/*FBT_CALL*/"{name of sender}\u53d1\u9001\u4e86\u4ee5\u4e0b\u6d88\u606f\uff1a"/*FBT_CALL*/,[g._param("name of sender",a)])}d={make:l};function m(a){return b("bs_caml").i64_eq(a.attachmentType,b("MessagingAttachmentType.bs").image)}function n(a){a=a.message;var c=b("useReStore")(),d=a.messageId,e=a.threadKey;a=b("ReQLSubscription.bs").useArray(j.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("attachments")),{hd:e,tl:{hd:d,tl:0}})},[c,d,JSON.stringify(e)]));if(a.length!==1)if(a.length>1&&a.every(m))return j.jsx("div",{children:g._(/*FBT_CALL*/"\u9644\u52a0\u4e86{count of images, greater than or equal to 2}\u5f20\u56fe\u7247"/*FBT_CALL*/,[g._param("count of images, greater than or equal to 2",String(a.length))])});else return null;a=a[0];var f=a.attachmentType;if(b("bs_caml").i64_eq(f,b("MessagingAttachmentType.bs").image)||b("bs_caml").i64_eq(f,b("MessagingAttachmentType.bs").animatedImage)){var h=a.titleText;h=j.jsxs(j.Fragment,{children:[g._(/*FBT_CALL*/"\u5df2\u9644\u52a0\u4e00\u5f20\u56fe\u7247"/*FBT_CALL*/),h!==void 0?g._(/*FBT_CALL*/"\uff0c\u6807\u9898\u4e3a{title of image}"/*FBT_CALL*/,[g._param("title of image",h)]):null]})}else if(b("bs_caml").i64_eq(f,b("MessagingAttachmentType.bs").video))h=g._(/*FBT_CALL*/"\u9644\u52a0\u4e86\u4e00\u6bb5\u89c6\u9891"/*FBT_CALL*/);else if(b("bs_caml").i64_eq(f,b("MessagingAttachmentType.bs").audio))h=g._(/*FBT_CALL*/"\u9644\u52a0\u4e86\u4e00\u6bb5\u97f3\u9891"/*FBT_CALL*/);else if(b("bs_caml").i64_eq(f,b("MessagingAttachmentType.bs").sticker)){var i=a.accessibilitySummaryText;h=j.jsxs(j.Fragment,{children:[g._(/*FBT_CALL*/"\u5df2\u9644\u52a0\u4e00\u5f20\u8d34\u56fe"/*FBT_CALL*/),i!==void 0&&i!==""?g._(/*FBT_CALL*/"\uff0c\u6807\u9898\u4e3a{title of sticker}"/*FBT_CALL*/,[g._param("title of sticker",i)]):null]})}else if(b("bs_caml").i64_eq(f,b("MessagingAttachmentType.bs").xma))h=g._(/*FBT_CALL*/"\u5df2\u9644\u52a0\u4e00\u4e2a\u5bcc\u5a92\u4f53\u5185\u5bb9\u9644\u4ef6"/*FBT_CALL*/);else if(b("bs_caml").i64_eq(f,b("MessagingAttachmentType.bs").file)){i=a.filename;h=j.jsxs(j.Fragment,{children:[g._(/*FBT_CALL*/"\u9644\u52a0\u4e86\u4e00\u4e2a\u97f3\u9891\u6587\u4ef6"/*FBT_CALL*/),i!==void 0?g._(/*FBT_CALL*/"\uff0c\u540d\u79f0\u4e3a{name of file}"/*FBT_CALL*/,[g._param("name of file",i)]):null]})}else h=g._(/*FBT_CALL*/"\u9644\u52a0\u4e86\u4e00\u4e2a\u4e0d\u53d7\u652f\u6301\u7684\u9644\u4ef6"/*FBT_CALL*/);return j.jsx("div",{children:h})}e={make:n};function o(a){var c=a.message,d=a.sender,e=a.thread;a=a.participant;var f=j.useState(function(){return!1}),g=f[1];j.useEffect(function(){var a=b("setTimeout")(function(a){return b("bs_curry")._1(g,function(a){return!0})},100);return function(c){b("clearTimeout")(a)}},[g]);if(f[0]){f=c.text;if(b("MWV2MessageHasAttachment.bs").make(c)){var h=b("LSMessagingThreadTypeUtil.bs").isSecure(e.threadType);h=h?null:j.jsx(n,{message:c,thread:e})}else h=null;d=j.jsxs(j.Fragment,{children:[j.jsx("div",{children:j.jsx(l,{message:c,sender:d,thread:e,participant:a})}),f!==void 0?j.jsx("div",{children:f}):null,h]})}else d=null;return j.jsx("div",{role:"alert","aria-live":"polite","aria-relevant":"additions",className:(i||(i=b("stylex")))(b("StylexHelpers.bs").styles.visuallyHidden),children:d},c.messageId+"new_message_sr_announcement")}var p={make:o};function q(a,c){var d=b("useReStore")(),e=b("MWLSActor.bs").useActor(void 0),f=j.useRef(b("ServerTime").getMillis());j.useEffect(function(){return b("SortedAsyncIterable.bs").subscribe(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("messages")),{hd:c.threadKey,tl:0}),function(e,g){if(typeof g==="number")return;if(g.TAG!==0)return;var h=g._0;if(b("bs_caml_int64").to_float(h.timestampMs)>f.current){f.current=b("bs_caml_int64").to_float(h.timestampMs);b("promiseDone")(window.Promise.all([d.table("contacts").get({hd:h.senderId,tl:0}),d.table("participants").get({hd:h.threadKey,tl:{hd:h.senderId,tl:0}})]),function(d){var e=d[0];if(e!==void 0)return b("bs_curry")._4(a,h,e,c,d[1])});return}})},[d,JSON.stringify(e),JSON.stringify(c.threadKey)])}function a(a){a=a.thread;var c=j.useState(function(){}),d=c[1];c=c[0];var e=j.useCallback(function(a){return function(c,e,f){if(b("bs_caml").i64_eq(a.authorityLevel,b("LSAuthorityLevel.bs").authoritative))return b("bs_curry")._1(d,function(d){return b("bs_caml_option").some(j.jsx(j.Fragment,{children:j.jsx(o,{message:a,sender:c,thread:e,participant:f})}))})}},[d]);q(e,a);if(c!==void 0)return b("bs_caml_option").valFromOption(c);else return null}a=a;f.ForwardTitle=c;f.Header=d;f.isImage=m;f.Attachment=e;f.Alert=p;f.useHook=q;f.make=a}),null);
__d("MWInboxDetail.bs",["BootloaderResource","CometColumn.react","CometPlaceholder.react","JSResource","LSMessagingThreadTypeUtil.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","MAWGating.bs","MAWInThreadBannerNuxReqCondWrapper.bs","MDSRow.react","MDSRowItem.react","MWChatConnectionStatusCard.bs","MWChatEphemeralMediaTemporarySeenState.bs","MWChatFocusComposerContext.bs","MWChatTabFocusHandler.bs","MWInboxHeader.bs","MWInboxInfo.bs","MWInboxInfoSharedContentQPLLogger.bs","MWInboxPersistedUIState.bs","MWInboxSearchHeader.bs","MWInboxThreadAndComposer.bs","MWLSInThreadBannerComponent.bs","MWPNewMessageAnnouncementForScreenReaders.bs","MWPThreadTheme.bs","MWTheme.bs","MWUseAriaLabelForThread.bs","MWV2FileDropzone.bs","MWVisibleMessageContext.bs","bs_caml_obj","bs_caml_option","bs_curry","bs_int64","cr:12141","cr:12142","gkx","react","stylex","useMatchMedia","usePrevious"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j=b("cr:12141")==null?void 0:b("bs_caml_option").some(b("cr:12141")),k=b("cr:12142")==null?void 0:b("bs_caml_option").some(b("cr:12142")),l={root:{overflowX:"ni8dbmo4",overflowY:"stjgntxs",position:"l9j0dhe7",backgroundColor:"nred35xi",maxHeight:"gitj76qy",fontSize:"jq4qci2q"},communityRoot:{minWidth:"nnvw5wor"},header:{boxShadow:"t6p9ggj4",zIndex:"tkr6xdv7"},threadContainer:{maxHeight:"gitj76qy"},main:{display:"j83agx80",flexDirection:"cbu4d94t",position:"l9j0dhe7",overflowX:"ni8dbmo4",overflowY:"stjgntxs"},focusHandler:{display:"j83agx80",flexGrow:"buofh1pr"},info:{flexBasis:"kuivcneq",flexShrink:"g5gj957u",maxWidth:"f4tghd1a",minWidth:"ifue306u",borderStart:"t63ysoy8"},dropzone:{zIndex:"du4w35lb"}},m=b("JSResource")("MWRestrictReplacingIgnoreBannerNUX.bs").__setRef("MWInboxDetail.bs");function a(a,b){return{thread:a}}function n(a){return i.createElement(b("BootloaderResource").read(m).make,a)}d={reasonResource:m,makeProps:a,make:n};function c(a){var c=a.thread,d=a.isConversationSearchVisible,e=a.setIsConversationSearchVisible;a=b("MWInboxPersistedUIState.bs").useHook(!0,"__MWInboxDetail.info__");var f=a[1],g=a[0],m=b("usePrevious")(g),o=c.threadKey,p=b("useMatchMedia")("(max-width: 900px)");i.useEffect(function(){b("bs_curry")._1(f,function(a){if(a)return!p;else return!1})},[p]);i.useEffect(function(){!(b("cr:12142")==null)&&!(b("cr:12141")==null)&&(!b("MAWGating.bs").isOccamadillo&&b("bs_curry")._1(k.isThreadId,o)?b("bs_curry")._1(j.setMostRecentSecureThreadKey,b("bs_int64").to_string(o)):b("bs_curry")._1(j.deleteMostRecentSecureThreadKey,void 0))},[JSON.stringify(o)]);i.useEffect(function(){!g&&b("bs_caml_obj").caml_notequal(m,!1)&&b("MWInboxInfoSharedContentQPLLogger.bs").logCloseInfoPanel(void 0)},[JSON.stringify(o),g,m]);var q=b("MWTheme.bs").useTheme(void 0);a=b("MWVisibleMessageContext.bs").useHook(void 0);var r=i.useCallback(function(a){return b("bs_curry")._1(e,function(a){return!a})},[e]),s=b("LSMessagingThreadTypeUtil.bs").isSecure(c.threadType),t=b("MWUseAriaLabelForThread.bs").useHook(c),u=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").ignoredThread,c),v=i.useMemo(function(){return q._0.id},[q]);b("MWChatEphemeralMediaTemporarySeenState.bs").useEndSessionOnDismount(b("bs_int64").to_string(c.threadKey));var w=b("LSMessagingThreadTypeUtil.bs").isSecure(c.threadType)?b("MAWGating.bs").isContentSearchEnabled(void 0):!0;return i.jsx(b("MWChatFocusComposerContext.bs").provider,{children:i.jsxs(b("MWPThreadTheme.bs").make,{themeFbid:v,children:[i.jsx(b("CometColumn.react"),{expanding:!0,testid:"mw_inbox_detail",xstyle:[l.root,b("gkx")("1950")?l.communityRoot:!1],children:i.jsxs(b("MDSRow.react"),{paddingHorizontal:0,paddingTop:0,expanding:!0,spacing:0,xstyle:[l.threadContainer],children:[i.jsxs(b("MDSRowItem.react"),{expanding:!0,xstyle:[l.main],children:[i.jsxs("div",{className:(h||(h=b("stylex")))(l.header),children:[i.jsx(b("MWInboxHeader.bs").make,{thread:c,info:g,setInfo:f}),s?i.jsx(b("MAWInThreadBannerNuxReqCondWrapper.bs").make,{thread:c}):i.jsx(b("MWLSInThreadBannerComponent.bs").make,{}),u?i.jsx(b("CometPlaceholder.react"),{children:i.jsx(n,{thread:c}),fallback:null}):null]}),d&&w?i.jsx(b("MWInboxSearchHeader.bs").make,{thread:c,setVisibleMessage:a.setVisibleMessage,onClose:function(a){return b("bs_curry")._1(e,function(a){return!1})}}):null,i.jsx(b("MWChatConnectionStatusCard.bs").make,{}),i.jsx(b("MWChatTabFocusHandler.bs").make,{xstyle:l.focusHandler,children:i.jsx(b("MWV2FileDropzone.bs").make,{children:i.jsx(b("MWInboxThreadAndComposer.bs").make,{thread:c}),isMediaOnly:!b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").filePicker,c),xstyle:l.dropzone})})]}),g?i.jsx(b("MDSRowItem.react"),{xstyle:[l.info],children:i.jsx(b("MWInboxInfo.bs").make,{thread:c,toggleSearch:r,disableInitialAutoFocus:b("bs_caml_obj").caml_notequal(m,!1)})}):null]}),role:"main","aria-label":t}),i.jsx(b("MWPNewMessageAnnouncementForScreenReaders.bs").make,{thread:c})]})})}e=c;f.$MAWSessionStorage$requireCondXplat=b("cr:12141");f.$MAWThreadId$requireCondXplat=b("cr:12142");f.styles=l;f.MWRestrictReplacingIgnoreBannerNUXLazy=d;f.make=e}),null);
__d("MWInboxNewMessage.bs",["cr:12127"],(function(a,b,c,d,e,f){"use strict";a=b("cr:12127").make;f.$MWV2InboxNewMessage$OR$MWV1InboxNewMessage$requireCond=b("cr:12127");f.make=a}),null);
__d("MWInboxThreadViewContexts.bs",["FBID.bs","MWCMInboxDetailUnjoinedState.bs","MWCMThreadTypes.bs","MWThreadKey.bs","MWThread_DEPRECATED.bs","MWUIChatTabState.bs","MWUseNavigateAfterLeavingGroup.bs","MWV2ThreadIsPage.bs","MessagingThreadType.bs","bs_caml","bs_curry","bs_int64","react","unrecoverableViolation","usePrevious"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.thread;a=a.children;var d=c.cannotUnsendReason,e=c.hasPersistentMenu,f=c.threadType,g=c.threadKey,i=b("FBID.bs").ofStringExn(b("bs_int64").to_string(g)),j=b("MWUseNavigateAfterLeavingGroup.bs").useHook(c),k=b("usePrevious")(f),l=k==null?!1:b("MWCMThreadTypes.bs").isJoinedCMThread(k)&&b("MWCMThreadTypes.bs").isUnjoinedCMThread(f);h.useEffect(function(){l&&b("bs_curry")._1(j,void 0)},[k,l]);k=h.useMemo(function(){if(e)return{NAME:"Page",VAL:i};if(d!==void 0&&b("bs_caml").i64_eq(f,b("MessagingThreadType.bs").oneToOne)&&b("bs_caml").i64_eq(d,[0,4]))return{NAME:"Page",VAL:i};if(b("bs_caml").i64_eq(f,b("MessagingThreadType.bs").oneToOne))return{NAME:"User",VAL:i};else if(b("bs_caml").i64_eq(f,b("MessagingThreadType.bs").group)||b("bs_caml").i64_eq(f,b("MessagingThreadType.bs").marketplace)||b("MWCMThreadTypes.bs").isAnyCMThread(f)||b("bs_caml").i64_eq(f,b("MessagingThreadType.bs").room))return{NAME:"Group",VAL:i};else if(b("bs_caml").i64_eq(f,b("MessagingThreadType.bs").secureMessageOverWaGroup)||b("bs_caml").i64_eq(f,b("MessagingThreadType.bs").secureMessageOverWaOneToOne))return{NAME:"User",VAL:i};else return b("unrecoverableViolation")("Unknown thread type","comet_messenger")},[JSON.stringify(c)]);if(b("MWCMThreadTypes.bs").isUnjoinedCMThread(f))return h.jsx(b("MWCMInboxDetailUnjoinedState.bs").make,{thread:c,wasPreviouslyJoined:l});else return h.jsx(b("MWThread_DEPRECATED.bs").make,{id:k,children:h.jsx(b("MWV2ThreadIsPage.bs").make,{thread:c,children:h.jsx(b("MWThreadKey.bs").make,{id:g,children:h.jsx(b("MWUIChatTabState.bs").Provider.make,{tab:{_0:k},children:h.jsx(h.Suspense,{children:a,fallback:null})})})})})}c=a;f.make=c}),null);
__d("MWV2InboxDetailContainer.bs",["CometTransientDialogProvider.react","MWInboxDetail.bs","MWLSTheme.bs","MWTheme.bs","MWV2IsTabFocusedContext.bs","MWV2ReplyContext.bs","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.thread,d=a.isConversationSearchVisible;a=a.setIsConversationSearchVisible;var e=b("MWLSTheme.bs").useTheme(c.threadKey),f=h.useState(function(){}),g=f[1];f=f[0];var i=h.useCallback(function(a){return b("bs_curry")._1(g,function(a){})},[g]),j=h.useCallback(function(a){return b("bs_curry")._1(g,function(b){return a})},[g]);return h.jsx(b("MWTheme.bs").provider,{theme:f!==void 0?f:e,setTheme:j,clearTheme:i,children:h.jsx(b("CometTransientDialogProvider.react"),{children:h.jsx(b("MWV2ReplyContext.bs").make,{children:h.jsx(b("MWV2IsTabFocusedContext.bs").make,{children:h.jsx(b("MWInboxDetail.bs").make,{thread:c,isConversationSearchVisible:d,setIsConversationSearchVisible:a}),isFocused:!0})})})})}c=a;f.make=c}),null);
__d("MWV2OpenThreadViewContainer.bs",["LS.bs","LSDatabaseType.bs","LSTransaction.bs","LSVerifyThreadRowExists","MWInboxThreadViewContexts.bs","MWV2InboxDetailContainer.bs","ReQL.bs","ReQLSubscription.bs","bs_curry","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.threadKey,d=a.isConversationSearchVisible;a=a.setIsConversationSearchVisible;var e=b("useReStore")(),f=h.useCallback(function(a){return b("LSTransaction.bs").run(e,function(c){return b("LSVerifyThreadRowExists")(a,void 0,b("LSDatabaseType.bs").mailbox,b("LS.bs").make(c))},"readWrite")},[e]);h.useEffect(function(){b("promiseDone")(b("bs_curry")._1(f,c),void 0,void 0)},[JSON.stringify(c)]);var g=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(e.table("threads")),{hd:c,tl:0})},[e,JSON.stringify(c)]));if(g!==void 0)return h.jsx(b("MWInboxThreadViewContexts.bs").make,{thread:g,children:h.jsx(b("MWV2InboxDetailContainer.bs").make,{thread:g,isConversationSearchVisible:d,setIsConversationSearchVisible:a})});else return null}c=a;f.make=c}),null);
__d("MWInboxMaster.bs",["MWInboxDetailNullState.bs","MWInboxMasterView.bs","MWInboxNewMessage.bs","MWV2OpenThreadViewContainer.bs","bs_belt_Option","bs_caml_option","cr:12143","react","recoverableViolation","useCometEntityKey"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.isConversationSearchVisible;a=a.setIsConversationSearchVisible;var d=b("MWInboxMasterView.bs").useHook(void 0),e=b("bs_belt_Option").getWithDefault(b("bs_belt_Option").map(b("bs_caml_option").nullable_to_opt(b("useCometEntityKey")()),function(a){return b("bs_caml_option").nullable_to_opt(a.entity_type)}),void 0),f=0;if(typeof d==="number")f=d!==0?2:1;else{d=d._0;if(d!==void 0)if(typeof d==="number")switch(d){case 0:return h.jsx(b("MWInboxNewMessage.bs").make,{});case 1:case 2:f=2;break}else{if(d.TAG===0){var g=d._0;return h.jsx(b("MWV2OpenThreadViewContainer.bs").make,{threadKey:g,isConversationSearchVisible:c,setIsConversationSearchVisible:a},b("bs_belt_Option").getWithDefault(JSON.stringify(g),""))}g=d._0;if(b("cr:12143")==null)return h.jsx(b("MWInboxDetailNullState.bs").make,{});else return h.jsx(b("cr:12143").make,{threadKey:g,isConversationSearchVisible:c,setIsConversationSearchVisible:a},b("bs_belt_Option").getWithDefault(JSON.stringify(g),""))}else f=1}switch(f){case 1:d=e==="community"?!0:!1;return h.jsx(b("MWInboxDetailNullState.bs").make,{isCM:d});case 2:b("recoverableViolation")("Unimplemented master view","messenger_comet");return h.jsx(b("MWInboxDetailNullState.bs").make,{})}}c=a;f.$MWV2SecureThreadViewContainer$requireCondXplat=b("cr:12143");f.make=c}),null);
__d("MWInboxSettingsMenuButton.bs",["CometDeferredPopoverTrigger.react","react","requireDeferred"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("requireDeferred")("MWInboxSettingsMenu.react").__setRef("MWInboxSettingsMenuButton.bs");function a(a){var c=a.children,d=a.showMessageRequests,e=a.showHidden,f=a.showActiveContacts;a=a.showRestrictedAccounts;return h.jsx(b("CometDeferredPopoverTrigger.react"),{popoverResource:i,popoverProps:{showMessageRequests:d,showHidden:e,showActiveContacts:f,showRestrictedAccounts:a},align:"start",position:"below",children:c})}c=a;f.mwInboxSettingsMenu=i;f.make=c}),null);
__d("MWMessengerDesktopFeedbackSurvey.react",["react","useRainbowNativeSurveyDialog"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useRef,j="803596357188560";function a(){var a=c("useRainbowNativeSurveyDialog")(j),b=i(!1);h(function(){b.current||(a(),b.current=!0)},[]);return null}g["default"]=a}),98);
__d("MWMessengerDesktopFeedbackSurvey.bs",["MWMessengerDesktopFeedbackSurvey.react"],(function(a,b,c,d,e,f){"use strict";a=b("MWMessengerDesktopFeedbackSurvey.react");f.make=a}),null);
__d("MDSMembersSectionIcons.bs",["MDSPlusSvgIcon.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){return h.jsx(b("MDSPlusSvgIcon.bs").make,{color:"black",size:"24"})}c={make:a,icon:a};f.Add=c}),null);
__d("MDSDocumentCompleteSvgIcon.bs",["MDSSvgIcon.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.color;a=a.size;return h.jsxs(b("MDSSvgIcon.bs").make,{size:a,color:c,children:[h.jsx("path",{d:"M18 8a1 1 0 00-1-1h-6a2 2 0 00-2 2v18a2 2 0 002 2h14a2 2 0 002-2V17a1 1 0 00-1-1h-4a4 4 0 01-4-4V8zm-6 7a1 1 0 011-1h2a1 1 0 110 2h-2a1 1 0 01-1-1zm1 3.5a1 1 0 100 2h10a1 1 0 100-2H13zm0 4.5a1 1 0 100 2h10a1 1 0 100-2H13z",fillRule:"evenodd"}),h.jsx("path",{d:"M22 14h4.01a.99.99 0 00.7-1.69l-5.02-5.02a.99.99 0 00-1.69.7V12a2 2 0 002 2z"})]})}c=a;f.make=c}),null);
__d("MDSLinkSvgIcon.bs",["MDSSvgIcon.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.color;a=a.size;return h.jsxs(b("MDSSvgIcon.bs").make,{size:a,color:c,children:[h.jsx("path",{d:"M21.996 19.317c-1.405 1.406-3.747 1.408-5.23-.075a1.25 1.25 0 00-1.768 1.768c2.423 2.424 6.349 2.494 8.767.076l3.46-3.461c2.419-2.418 2.35-6.344-.075-8.767-2.423-2.424-6.348-2.494-8.766-.076l-.557.557a1.25 1.25 0 001.769 1.768l.556-.556c1.406-1.406 3.747-1.408 5.23.075 1.483 1.483 1.48 3.825.075 5.23l-3.46 3.461z"}),h.jsx("path",{d:"M14.012 16.69c1.406-1.405 3.747-1.407 5.23.076a1.25 1.25 0 001.768-1.768c-2.423-2.424-6.348-2.493-8.766-.076l-3.462 3.462c-2.418 2.418-2.348 6.343.076 8.766 2.423 2.424 6.349 2.494 8.767.076l.556-.557a1.25 1.25 0 00-1.768-1.768l-.557.556c-1.405 1.406-3.747 1.408-5.23-.075-1.483-1.483-1.48-3.824-.075-5.23l3.461-3.461z"})]})}c=a;f.make=c}),null);
__d("MDSPhotoLibrarySvgIcon.bs",["MDSSvgIcon.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.color;a=a.size;return h.jsxs(b("MDSSvgIcon.bs").make,{size:a,color:c,children:[h.jsx("path",{d:"M17.5 19.75a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"}),h.jsx("path",{d:"M24 12.75c0 .138.112.25.25.25H27a3 3 0 013 3v10a3 3 0 01-3 3H15a3 3 0 01-3-3v-2.75a.25.25 0 00-.25-.25H9a3 3 0 01-3-3V10a3 3 0 013-3h12a3 3 0 013 3v2.75zM21 9.5H9a.5.5 0 00-.5.5v10a.5.5 0 00.5.5h2.75a.25.25 0 00.25-.25V16a3 3 0 013-3h6.25a.25.25 0 00.25-.25V10a.5.5 0 00-.5-.5zM14.5 16a.5.5 0 01.5-.5h12a.5.5 0 01.5.5v7.577a.25.25 0 01-.375.217l-3.725-2.15a4.8 4.8 0 00-4.8 0l-3.725 2.15a.25.25 0 01-.375-.217V16z",fillRule:"evenodd"})]})}c=a;f.make=c}),null);
__d("MDSInboxInfoSharedContentSectionIcons.bs",["MDSDocumentCompleteSvgIcon.bs","MDSLinkSvgIcon.bs","MDSPhotoLibrarySvgIcon.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){return h.jsx(b("MDSPhotoLibrarySvgIcon.bs").make,{color:"black",size:"24"})}e={alt:void 0,"aria-label":void 0,"aria-labelledby":void 0,disabled:void 0,icon:a,onPress:void 0,onHoverIn:void 0,onHoverOut:void 0,testid:void 0,color:void 0,ref:void 0,size:void 0,linkProps:void 0,type:"icon"};a={make:a,icon:a,primaryAddOn:e};function c(a){return h.jsx(b("MDSDocumentCompleteSvgIcon.bs").make,{color:"black",size:"24"})}e={alt:void 0,"aria-label":void 0,"aria-labelledby":void 0,disabled:void 0,icon:c,onPress:void 0,onHoverIn:void 0,onHoverOut:void 0,testid:void 0,color:void 0,ref:void 0,size:void 0,linkProps:void 0,type:"icon"};c={make:c,icon:c,primaryAddOn:e};function d(a){return h.jsx(b("MDSLinkSvgIcon.bs").make,{color:"primary",size:"24"})}e={alt:void 0,"aria-label":void 0,"aria-labelledby":void 0,disabled:void 0,icon:d,onPress:void 0,onHoverIn:void 0,onHoverOut:void 0,testid:void 0,color:void 0,ref:void 0,size:void 0,linkProps:void 0,type:"icon"};d={make:d,icon:d,primaryAddOn:e};f.Media=a;f.Files=c;f.Links=d}),null);
__d("MessagingInterface",[],(function(a,b,c,d,e,f){a=Object.freeze({MOBILE_WEB_CHAT:"Mobile Web Chat",WEB_CHAT:"Web Chat",TITAN_M_BASIC:"m_basic",TITAN_M_FREE:"m_free_basic",TITAN_M_JAPAN:"m_japan",TITAN_M_TOUCH:"m_touch",TITAN_M_ZERO:"m_zero",TITAN_M_TABLET:"m_tablet",TITAN_EMAIL_REPLY:"Email Reply",TITAN_API:"Titan API (other)",TITAN_MOBILE_API:"Mobile API",CHAT_JABBER:"Jabber",MOBILE_INBOX:"Mobile Inbox",WEB_INBOX:"Web Inbox",PAGE_UNIFIED_INBOX:"Page Unified Inbox",M_SITE:"m-site",FACEBOOK_FOR_ANDROID:"Facebook for Android",SHARE_DIALOG:"Share Dialog",FB_MESSENGER_OTHER:"Facebook Messenger (other)",LEIA:"Facebook for Android Low End",MESSENGER_WEB:"messenger_dot_com",CHAT_FORWARD_DIALOG:"Chat Forward Dialog",MESSENGER_FORWARD_DIALOG:"Messenger Forward Dialog",OTHER_APP:"Other App",OTHER:"Other",FACEBOOK_MESSENGER_FOR_ANDROID_DEV:"Facebook Messenger for Android (Dev)",FACEBOOK_MESSENGER_FOR_ANDROID_IN_HOUSE:"Facebook Messenger for Android (In-House)",FACEBOOK_MESSENGER_FOR_ANDROID:"Facebook Messenger for Android",FACEBOOK_MESSENGER_FOR_BLACKBERRY_DEV:"Facebook Messenger for BlackBerry (Dev)",FACEBOOK_MESSENGER_FOR_BLACKBERRY_IN_HOUSE:"Facebook Messenger for BlackBerry (In-House)",FACEBOOK_MESSENGER_FOR_BLACKBERRY:"Facebook Messenger for BlackBerry",FACEBOOK_MESSENGER_FOR_IOS_LEGACY_DEV:"Facebook Messenger for iOS Legacy (Dev)",FACEBOOK_MESSENGER_FOR_IOS_LEGACY_IN_HOUSE:"Facebook Messenger for iOS Legacy (In-House)",FACEBOOK_MESSENGER_FOR_IOS_LEGACY:"Facebook Messenger for iOS Legacy",FACEBOOK_FOR_EMERGING_MARKET_ANDROID:"Facebook Lite",FACEBOOK_LITE_FOR_GO2PHONE:"Facebook Lite for Android Go2Phone",FACEBOOK_LITE_FOR_IOS:"Facebook Lite for iOS",FACEBOOK_LITE_FOR_KAIOS:"Facebook Lite for KaiOS",FACEBOOK_LITE_FOR_WEB:"Facebook Lite for Web (WebLite)",FACEBOOK_MESSENGER_LITE:"Messenger Lite",MESSENGER_LITE_BURRITO:"Messenger Lite Burrito",FACEBOOK_MESSENGER_LITE_FOR_IOS:"Messenger Lite for iOS",FACEBOOK_MESSENGER_LITE_FOR_IOS_IN_HOUSE:"Messenger Lite for iOS (In-House)",FACEBOOK_MESSENGER_LITE_FOR_IOS_LOCAL:"Messenger Lite for iOS (Local)",MESSENGER_FOR_IOS:"Facebook Messenger for iOS",MESSENGER_FOR_IOS_INHOUSE:"Facebook Messenger for iOS (In-House)",MESSENGER_FOR_IOS_LOCAL:"Facebook Messenger for iOS (Local)",MESSENGER_FOR_CATALYST_INHOUSE:"Facebook Messenger for Mac Catalyst (In-House)",MESSENGER_FOR_CATALYST_LOCAL:"Facebook Messenger for Mac Catalyst (Local)",FACEBOOK_MESSENGER_FOR_OSX_OSMETA:"Messenger for OS X (osmeta)",FACEBOOK_MESSENGER_FOR_WINSTORE_OSMETA:"Messenger for Windows Store (osmeta)",FACEBOOK_MESSENGER_FOR_WINSTORE_OSMETA_BETA:"Messenger for Windows Store (Beta)",FACEBOOK_MESSENGER_FOR_WINDESKTOP_OSMETA:"Messenger for Windows Desktop (osmeta)",FACEBOOK_MESSENGER_FOR_WINPHONE_OSMETA:"Messenger for Windows Phone",FACEBOOK_MESSENGER_FOR_WINPHONE_OSMETA_BETA:"Messenger for Windows Phone (Beta)",FACEBOOK_MESSENGER_FOR_IOS_LEGACY_OSMETA:"Messenger for iOS (osmeta)",FACEBOOK_MESSENGER_FOR_ANDROID_OSMETA:"Messenger for Android (osmeta)",FACEBOOK_MESSENGER_FOR_TIZEN_OSMETA:"Messenger for Tizen (osmeta)",FACEBOOK_MESSENGER_FOR_LINUX_OSMETA:"Messenger for Linux (osmeta)",FACEBOOK_MESSENGER_FOR_WEARABLE:"Messenger for Wearable",FACEBOOK_FOR_IPHONE:"Facebook for iPhone",FACEBOOK_FOR_IPAD:"Facebook for iPad",FBIPHONETEST_APPLICATION_ID:"Facebook for iOS (Test)",FACEBOOK_MESSENGER_FOR_WINDOWS_PHONE_8:"Facebook Messenger for Windows Phone 8",FACEBOOK_FOR_WINDOWS_PHONE:"Facebook for Windows Phone",FACEBOOK_MESSENGER_FOR_FEATURE_PHONE:"Facebook Messenger for Every Phone",FACEBOOK_MESSENGER_FOR_MRE:"Facebook Messenger for MRE",FACEBOOK_FOR_ANDROID2:"Facebook for Android",FACEBOOK_FOR_WINDOWS8:"Facebook for Windows",FACEBOOK_FOR_BLACKBERRY:"Facebook for BlackBerry",MESSENGER_DESKTOP:"Messenger Desktop",MESSENGER_DESKTOP_ARCHON_MACOS:"Messenger Desktop MacOS",MESSENGER_DESKTOP_ARCHON_WINDOWS:"Messenger Desktop Windows",SNAPTU_OLD_APPLICATION_ID:"Snaptu",FACEBOOK_FOR_EVERY_PHONE:"Facebook for Every Phone",EBUDDY:"eBuddy",MICROSOFT_LIVE:"Microsoft Live",NIMBUZZ_MOBILE:"Nimbuzz Mobile",SKYPE:"Skype",SONAR:"mSonar",GO_CHAT:"Go!Chat",YAHOO:"Yahoo!",AIM:"AIM",ROCKMELT:"RockMelt",FREE_FACEBOOK_LITE:"Free Facebook Lite",WORKPLACE_DESKTOP:"Workplace Desktop",WORKPLACE_QUICKCHAT:"Workplace Quickchat",WORKPLACE_IOS:"Workplace iOS",WORK_CHAT_FOR_ANDROID:"Work Chat for Android",WORK_CHAT_FOR_IOS:"Work Chat for iOS",WORK_CHAT_WEB:"Work Chat Web",TALK_FOR_ANDROID:"Talk for Android",TALK_FOR_ANDROID_DEV:"Talk for Android (Dev)",TALK_FOR_IOS:"Talk for iOS",TURDUCKEN:"FBLite in FB4A",COMET_INBOX:"Comet Inbox"});f["default"]=a}),66);
__d("MWInboxInfoSharedContentLogger.bs",["FBID.bs","MessagingInterface","MessagingThreadType.bs","MessengerWebEntryPoint","MessengerWebEvent","MessengerWebEventsFalcoEvent.bs","bs_caml","bs_int64","gkx"],(function(a,b,c,d,e,f){"use strict";function g(a,c){var d=b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.threadKey)),e=a.threadType;e=c||!b("bs_caml").i64_eq(e,b("MessagingThreadType.bs").group)?null:d;a=a.threadType;c=c||!b("bs_caml").i64_eq(a,b("MessagingThreadType.bs").oneToOne)?null:d;return[e,c]}var h=b("gkx")("1016");function i(a){switch(a){case 0:return b("MessengerWebEntryPoint").FILES_TAB;case 1:return b("MessengerWebEntryPoint").LINKS_TAB;case 2:return b("MessengerWebEntryPoint").MEDIA_TAB;case 3:return b("MessengerWebEntryPoint").THREAD_DETAILS}}function j(a){if(h)return b("MessengerWebEventsFalcoEvent.bs").log(a)}function a(a,c,d,e,f){var h;switch(c){case 0:h=b("MessengerWebEvent").OPEN_MEDIA_TAB;break;case 1:h=b("MessengerWebEvent").OPEN_FILES_TAB;break;case 2:h=b("MessengerWebEvent").OPEN_LINKS_TAB;break}var k=i(d);c=g(a,e);var l=c[1],m=c[0];return j(function(){return{entry_point:k,event_name:h,"interface":b("MessagingInterface").WEB_CHAT,other_user_fbid:l,thread_fbid:m,is_secured:e,num_attachments:f}})}function c(a,c){a=g(a,c);var d=a[1],e=a[0];return j(function(){return{event_name:b("MessengerWebEvent").OPEN_MEDIA_AND_FILES,"interface":b("MessagingInterface").WEB_CHAT,other_user_fbid:d,thread_fbid:e,is_secured:c}})}function d(a,c,d){var e=i(c);c=g(a,d);var f=c[1],h=c[0];return j(function(){return{entry_point:e,event_name:b("MessengerWebEvent").SHARED_FILE_CLICK,"interface":b("MessagingInterface").WEB_CHAT,other_user_fbid:f,thread_fbid:h,is_secured:d}})}function e(a,c,d){var e=i(c);c=g(a,d);var f=c[1],h=c[0];return j(function(){return{entry_point:e,event_name:b("MessengerWebEvent").SHARED_MEDIA_CLICK,"interface":b("MessagingInterface").WEB_CHAT,other_user_fbid:f,thread_fbid:h,is_secured:d}})}function k(a,c,d){var e=i(c);c=g(a,d);var f=c[1],h=c[0];return b("MessengerWebEventsFalcoEvent.bs").log(function(){return{entry_point:e,event_name:b("MessengerWebEvent").SHARED_LINK_CLICK,"interface":b("MessagingInterface").WEB_CHAT,other_user_fbid:f,thread_fbid:h,is_secured:d}})}f.log=j;f.logOpenTab=a;f.logOpenMediaAndFilesDetails=c;f.logFilePress=d;f.logMediaPress=e;f.logLinkPress=k}),null);
__d("MWInboxInfoSharedContentSectionIcons.bs",["cr:737"],(function(a,b,c,d,e,f){"use strict";c=(a=b("cr:737")).Media;d=a.Files;e=a.Links;f.$MDSInboxInfoSharedContentSectionIcons$OR$TetraInboxInfoSharedContentSectionIcons$requireCond=a;f.Media=c;f.Files=d;f.Links=e}),null);
__d("MWInboxInfoSharedContentSection.bs",["fbt","MAWInboxInfoButton.bs","MWCollapsible.bs","MWInboxInfoSharedContentLogger.bs","MWInboxInfoSharedContentSectionIcons.bs","MWInboxPersistedUIState.bs","MWLSThreadCapabilities.bs","MWPBumpEntityKey.bs","TetraIcon.react","bs_caml_option","bs_curry","deferredLoadComponentForReason","gkx","react","requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j=g._(/*FBT_CALL*/"\u5a92\u4f53\u6587\u4ef6"/*FBT_CALL*/),k=g._(/*FBT_CALL*/"\u6587\u4ef6"/*FBT_CALL*/),l=g._(/*FBT_CALL*/"\u94fe\u63a5"/*FBT_CALL*/),m=g._(/*FBT_CALL*/"\u5f71\u97f3\u5185\u5bb9\u3001\u6587\u4ef6\u548c\u94fe\u63a5"/*FBT_CALL*/),n=g._(/*FBT_CALL*/"\u5a92\u4f53\u6587\u4ef6\u548c\u6587\u4ef6"/*FBT_CALL*/),o=b("requireDeferredForDisplay")("MWInboxInfoSharedContent.bs").__setRef("MWInboxInfoSharedContentSection.bs");function p(a,c,d,e,f,g){g={thread:a,isSecureThread:c,onReturn:e,sharedLinksEnabled:f};d!==void 0&&(g.initialTab=b("bs_caml_option").valFromOption(d));return g}function q(a){return i.createElement(b("deferredLoadComponentForReason")(o).make,a)}c={makeProps:p,make:q};function a(a){var c=a.thread,d=a.pushPage,e=a.isSecureThread;a=b("MWInboxPersistedUIState.bs").useHook(!1,"__MWInboxInfoSharedContentSection.isOpen__");var f=a[1],g=a[0];a=b("MWLSThreadCapabilities.bs").useCapabilities(void 0);var h=b("MWLSThreadCapabilities.bs").canSeeSharedLinks(a)&&b("gkx")("5095"),o=d!==void 0?function(a){return b("bs_curry")._1(d,function(b){return i.jsx(q,p(c,e,a,b.onReturn,h,void 0))})}:function(a){};a=i.useCallback(function(a){g||b("MWInboxInfoSharedContentLogger.bs").logOpenMediaAndFilesDetails(c,e);b("MWPBumpEntityKey.bs").bumpEntityKeyWithAppId("mw.infobar","media_section."+(g?"close":"open"));return b("bs_curry")._1(f,function(a){return!a})},[g,c,e,f]);var r=i.jsxs(i.Fragment,{children:[i.jsx(b("MAWInboxInfoButton.bs").make,{addOnStart:i.jsx(b("TetraIcon.react"),{icon:b("MWInboxInfoSharedContentSectionIcons.bs").Media.icon}),label:j,onPress:function(a){b("MWPBumpEntityKey.bs").bumpEntityKeyWithAppId("mw.infobar","media_section_media");return b("bs_curry")._1(o,0)},testid:"mw_shared_media"}),i.jsx(b("MAWInboxInfoButton.bs").make,{addOnStart:i.jsx(b("TetraIcon.react"),{icon:b("MWInboxInfoSharedContentSectionIcons.bs").Files.icon}),label:k,onPress:function(a){b("MWPBumpEntityKey.bs").bumpEntityKeyWithAppId("mw.infobar","media_section_files");return b("bs_curry")._1(o,1)},testid:"mw_shared_files"}),h?i.jsx(b("MAWInboxInfoButton.bs").make,{addOnStart:i.jsx(b("TetraIcon.react"),{icon:b("MWInboxInfoSharedContentSectionIcons.bs").Links.icon}),label:l,onPress:function(a){b("MWPBumpEntityKey.bs").bumpEntityKeyWithAppId("mw.infobar","media_section_links");return b("bs_curry")._1(o,2)},testid:"mw_shared_links"}):null]});return i.jsx(b("MWCollapsible.bs").make,{children:r,onPress:a,label:h?m:n,isOpen:g,testid:"mw_shared_section_button"})}d=a;f.$MWInboxInfoSharedContent$DeferredForDisplay=o;f.MWInboxInfoSharedContentLazy=c;f.make=d}),null);
__d("MWXACIntroViewPreloaded.react",["CometPlaceholder.react","CometRelay","MWXACIntroViewPreloadedQuery.graphql","MWXACIntroViewPreloadedQuery_introRenderer.graphql","RelayHooks","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=d("react");e="8626";var k="8634",l="8635";h!==void 0?h:h=b("MWXACIntroViewPreloadedQuery_introRenderer.graphql");var m={fbdotcom:e,inbox:k,mdotcom:l};function a(a){var e=m[a.entrypoint],f=d("RelayHooks").usePreloadedQuery(i!==void 0?i:i=b("MWXACIntroViewPreloadedQuery.graphql"),a.xacIntroViewRef);f=f==null?void 0:(f=f.viewer)==null?void 0:f.messenger_xac_intro_renderer;return j.jsx(c("CometPlaceholder.react"),{fallback:null,children:f?j.jsx(d("CometRelay").MatchContainer,{match:f,props:{entrypoint:a.entrypoint,nuxId:e,onClose:c("emptyFunction")}}):null})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXACIntroViewPreloaded.bs",["MWXACIntroViewPreloaded.react"],(function(a,b,c,d,e,f){"use strict";a=b("MWXACIntroViewPreloaded.react");f.make=a}),null);
__d("MWMarkThreadAsReadWhenNewMessagesArrive.bs",["MWLSThreadDisplayContext.bs","MWV2IsTabFocusedContext.bs","UserActivity","bs_belt_Option","bs_caml","bs_caml_option","bs_curry","cr:10880","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a,c){var d=b("MWV2IsTabFocusedContext.bs").useContext(void 0),e=b("MWLSThreadDisplayContext.bs").useHook(void 0),f=e===0?d:!0,g;if(c!==void 0){e=b("bs_caml").i64_gt(c.timestampMs,a.lastActivityTimestampMs)?c.timestampMs:a.lastActivityTimestampMs;g=b("bs_caml").i64_gt(e,a.lastReadWatermarkTimestampMs)}else g=!1;return h.useCallback(function(a){if(b("UserActivity").isOnTab()&&b("UserActivity").isActive()&&f)return g;else return!1},[f,g])}function j(a,c,d){var e=i(a,c);return h.useCallback(function(a){if(b("bs_curry")._1(e,void 0))return b("bs_curry")._1(d,void 0)},[e,d])}function k(a,c){h.useEffect(function(){var d=function(d){if(a.current===0)return b("bs_curry")._1(c,void 0)},e=b("bs_belt_Option").getExn(b("bs_caml_option").undefined_to_opt(typeof window==="undefined"?void 0:window));e.addEventListener("focus",d);document.hasFocus()&&a.current===0&&b("bs_curry")._1(c,void 0);return function(a){e.removeEventListener("focus",d)}},[c,a])}var l=b("cr:10880")==null?function(a){}:b("cr:10880").useHook;function a(a,c,d,e){c=j(a,c,d);b("bs_curry")._1(l,a);k(e.scrollPositionRef,c);return c}f.$MAWThreadEvent$OR$null$requireCond=b("cr:10880");f.useHook=a}),null);
__d("MWV2MessageScroller.bs",["LSMailboxMessagesRangeQueryDirection.bs","MWChatConversationScroller.bs","MWMarkThreadAsReadWhenNewMessagesArrive.bs","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.children,d=a.thread,e=a.fetchMore,f=a.markThreadAsRead,g=a.lastMessageToCalculateIfThreadIsRead,i=a.scrollerRefs,j=a.hasMoreBefore,k=a.hasMoreAfter;a=a.onScroll;a=a!==void 0?a:function(a){};var l=b("MWMarkThreadAsReadWhenNewMessagesArrive.bs").useHook(d,g,f,i);return h.jsx(b("MWChatConversationScroller.bs").make,{children:c,scrollPositionRef:i.scrollPositionRef,dispatch:function(a){switch(a){case 0:if(j)return b("bs_curry")._1(e,b("LSMailboxMessagesRangeQueryDirection.bs").before);else return;case 1:if(k)return b("bs_curry")._1(e,b("LSMailboxMessagesRangeQueryDirection.bs").after);else return b("bs_curry")._1(l,void 0);case 2:return b("bs_curry")._1(e,b("LSMailboxMessagesRangeQueryDirection.bs").before)}},hasMoreAfter:k,onScroll:a,ref:i.scrollerRef})}c=a;f.make=c}),null);
__d("CometTokenizerInternalLayoutContextualStrategy.react",["CometContextualLayer.react","CometHeroHoldTrigger.react","CometTokenizerInputStrategyEventListener.react","CometTypeaheadViewStrategyEventListener.react","FocusRegion.react","cometHandleHighlightDropOnMouseLeave","emptyFunction","focusScopeQueries","react","stylex","useCometInternalTypeaheadState","useCometTypeaheadInputRefs","useResizeObserver"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useRef,j={helperText:{marginTop:"aov4n071"},view:{backgroundColor:"cwj9ozl2",borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi",boxShadow:"o55z2nyb",boxSizing:"rq0escxv",display:"j83agx80",flexDirection:"cbu4d94t",flexGrow:"buofh1pr",marginTop:"rs0gx3tq",width:"k4urcfbm"}},k="ChatTypeahead";function a(a){var b=a.contextualProps;b=b===void 0?{}:b;var e=b.align;e=e===void 0?"stretch":e;var f=b.position;f=f===void 0?"below":f;var g=babelHelpers.objectWithoutPropertiesLoose(b,["align","position"]),l=a.description;b=a.extraLayoutProps;var m=b.ariaProps,n=m.ariaDescribedByProps,o=m.ariaInputProps,p=m.ariaViewProps;m=b.helperTextComponent;var q=b.isLoading;b=b.isOpened;var r=a.errorMessage,s=a.commandConfigs,t=a.selectedEntries,u=a.inputStrategyRenderer,v=a.isDisabled,w=a.label,x=a.layerContext;x=x===void 0?"root":x;var y=a.onBackspace,z=a.onBlur,A=a.onChange,B=a.onClick,C=a.onDownArrow,D=a.onEnter,E=a.onEscape,F=a.onFocus,G=a.onShiftTab,H=a.onTab,I=a.onUpArrow,J=a.queryString,K=a.inputRef,L=a.tokensStrategyRenderer,M=a.viewStrategyRenderer,N=a.xstyles,O=babelHelpers.objectWithoutPropertiesLoose(a,["contextualProps","description","extraLayoutProps","errorMessage","commandConfigs","selectedEntries","inputStrategyRenderer","isDisabled","label","layerContext","onBackspace","onBlur","onChange","onClick","onDownArrow","onEnter","onEscape","onFocus","onShiftTab","onTab","onUpArrow","queryString","inputRef","tokensStrategyRenderer","viewStrategyRenderer","xstyles"]);a=c("useCometTypeaheadInputRefs")(K);K=a.composedRef;a=a.inputRef;var P=i(null),Q=i(null),R=c("useResizeObserver")(function(){Q.current!=null&&Q.current.reposition({autoflip:!g.disableAutoFlip})}),S=c("useCometInternalTypeaheadState")(),T=S.activeEntries,U=S.highlightedEntry;S=x==="input"?a.current:P.current;var V=c("cometHandleHighlightDropOnMouseLeave")(O.onHighlightEntry);return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:c("stylex")(N==null?void 0:N.layoutXStyle),ref:P,children:h.jsx("div",{className:c("stylex")(N==null?void 0:N.inputXStyle),onClick:B,ref:R,role:"presentation",children:h.jsx(d("FocusRegion.react").FocusRegion,{recoverFocusQuery:d("focusScopeQueries").tabbableScopeQuery,children:h.jsx(c("CometTokenizerInputStrategyEventListener.react"),{commandConfigs:s,onBackspace:y,onBlur:z,onChange:A,onClick:c("emptyFunction"),onDownArrow:C,onEnter:D,onEscape:E,onFocus:F,onShiftTab:G,onTab:H,onUpArrow:I,ref:K,children:function(a,b){return h.jsx(u,babelHelpers["extends"]({},b,{ariaProps:o,autoFocus:O.autoFocus,description:l,errorMessage:r,id:O.id,inputEndContent:O.inputEndContent,inputExtraProps:O.inputExtraProps,inputStartContent:t.length>0?h.jsx(L,{isDisabled:v,onPress:O.onRemoveEntry,tokens:t}):null,isDisabled:v,label:w,placeholder:O.placeholder,queryString:J,ref:a,testid:void 0}))}})})})}),m!=null&&h.jsx("div",babelHelpers["extends"]({className:c("stylex")(j.helperText)},n,{children:m})),h.jsx(c("CometHeroHoldTrigger.react"),{description:k,hold:!(S!=null&&b!==!1)||S!=null&&b!==!1&&T.length===0}),S&&b&&h.jsx(c("CometContextualLayer.react"),babelHelpers["extends"]({},g,{align:e,context_DEPRECATED:S,position:f,ref:Q,children:h.jsx(c("CometTypeaheadViewStrategyEventListener.react"),{onOutsideClick:O.onOutsideClick,children:function(a){return h.jsxs("div",{className:c("stylex")([j.view,N==null?void 0:N.viewXStyle_DO_NOT_USE]),onMouseLeave:V,ref:a,children:[h.jsx(M,{ariaProps:p,entries:T,extraViewProps:O.extraViewProps,highlightedEntry:U,isLoading:q,onHighlightEntry:O.onHighlightEntry,onPressEntry:O.onPressEntry,queryString:J}),h.jsx(c("CometHeroHoldTrigger.react"),{description:k,hold:q&&T.length===0})]})}})}))]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useCometTokenizerInternalLayoutContextualStrategyHandlers",["react","useCometInternalTypeaheadState","useCometInternalTypeaheadStateDispatcher","useCometTokenizerInternalLayoutInlineStrategyHandlers"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.inputRef,d=a.isDisabled,e=a.onAbandonTypeahead_DO_NOT_USE,f=a.onClick,g=a.onOutsideClick,i=a.onShiftTab,j=a.onTab,k=a.queryString,l=a.selectedEntries;a=babelHelpers.objectWithoutPropertiesLoose(a,["inputRef","isDisabled","onAbandonTypeahead_DO_NOT_USE","onClick","onOutsideClick","onShiftTab","onTab","queryString","selectedEntries"]);var m=c("useCometInternalTypeaheadState")(),n=m.isOpened;m=c("useCometInternalTypeaheadStateDispatcher")();var o=m.dispatchActiveEntries,p=m.dispatchHighlightedEntry,q=m.dispatchIsOpened;m=h(function(){q(!1),g&&g()},[q,g]);m=c("useCometTokenizerInternalLayoutInlineStrategyHandlers")(babelHelpers["extends"]({inputRef:b,onOutsideClick:m,selectedEntries:l},a));var r=m.onBackspace;l=m.onBlur;var s=m.onChange,t=m.onDownArrow,u=m.onEnter,v=m.onEscape;a=m.onHighlightEntry;var w=m.onOutsideClick,x=m.onPressEntry,y=m.onRemoveEntry,z=m.onUpArrow;m=h(function(){q(!1),e&&e()},[q,e]);var A=h(function(){k.length===0&&q(!1),r&&r()},[q,r,k.length]),B=h(function(a){q(!0),s&&s(a)},[q,s]),C=h(function(){!n&&!Boolean(d)&&q(!0),b.current&&b.current.focus(),f&&f()},[n,d,b,f,q]),D=h(function(){q(!1),p({entry:null,source:null}),o([]),u&&u()},[o,p,q,u]),E=h(function(){q(!1),v&&v()},[q,v]),F=h(function(){n?t&&t():q(!0)},[q,n,t]),G=h(function(a,b){q(!1),o([]),x&&x(a,b)},[o,q,x]),H=h(function(a){q(!1),y&&y(a)},[q,y]),I=h(function(){q(!1),i&&i()},[q,i]),J=h(function(){q(!1),j&&j()},[q,j]),K=h(function(){!n?q(!0):z&&z()},[q,n,z]);return{onAbandonTypeahead_DO_NOT_USE:m,onBackspace:A,onBlur:l,onChange:B,onClick:C,onDownArrow:F,onEnter:D,onEscape:E,onHighlightEntry:a,onOutsideClick:w,onPressEntry:G,onRemoveEntry:H,onShiftTab:I,onTab:J,onUpArrow:K}}g["default"]=a}),98);
__d("CometTokenizerLayoutContextualStrategy.react",["CometTokenizerInternalLayoutContextualStrategy.react","CometTypeaheadHelperText.react","react","useCometInternalTypeaheadFetch","useCometInternalTypeaheadState","useCometTokenizerInternalLayoutContextualStrategyHandlers","useCometTypeaheadInputRefs","useCometTypeaheadLayoutContextualStrategyARIAProps","useCometTypeaheadLayoutStrategyStyles"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={view:{backgroundColor:"cwj9ozl2",flexDirection:"cbu4d94t",flexGrow:"buofh1pr",maxHeight:"nu4hu5il",minHeight:"e9s0xebz"}};function a(a){var b=a.extraLayoutProps;b=b===void 0?{}:b;var d=b.afterViewContent;b=b.beforeViewContent;var e=a.helperText,f=a.isDisabled,g=a.label,j=a.onAbandonTypeahead_DO_NOT_USE,k=a.onBackspace,l=a.onBlur,m=a.onChange,n=a.onClick,o=a.onDownArrow,p=a.onEnter,q=a.onEscape,r=a.onHighlightEntry,s=a.onOutsideClick,t=a.onPressEntry,u=a.onRemoveEntry,v=a.onShiftTab,w=a.onTab,x=a.onUpArrow,y=a.queryString,z=a.viewRole,A=a.inputRef,B=a.selectedEntries,C=a.xstyles;C=C===void 0?{}:C;var D=C.viewXStyle_DO_NOT_USE;C=babelHelpers.objectWithoutPropertiesLoose(C,["viewXStyle_DO_NOT_USE"]);a=babelHelpers.objectWithoutPropertiesLoose(a,["extraLayoutProps","helperText","isDisabled","label","onAbandonTypeahead_DO_NOT_USE","onBackspace","onBlur","onChange","onClick","onDownArrow","onEnter","onEscape","onHighlightEntry","onOutsideClick","onPressEntry","onRemoveEntry","onShiftTab","onTab","onUpArrow","queryString","viewRole","inputRef","selectedEntries","xstyles"]);A=c("useCometTypeaheadInputRefs")(A);var E=A.composedRef;A=A.inputRef;var F=c("useCometInternalTypeaheadState")(),G=F.activeEntries,H=F.highlightedEntry;F=F.isOpened;var I=c("useCometInternalTypeaheadFetch")();I=I.isLoading;A=c("useCometTokenizerInternalLayoutContextualStrategyHandlers")({inputRef:A,isDisabled:f,onAbandonTypeahead_DO_NOT_USE:j,onBackspace:k,onBlur:l,onChange:m,onClick:n,onDownArrow:o,onEnter:p,onEscape:q,onHighlightEntry:r,onOutsideClick:s,onPressEntry:t,onRemoveEntry:u,onShiftTab:v,onTab:w,onUpArrow:x,queryString:y,selectedEntries:B});j=c("useCometTypeaheadLayoutContextualStrategyARIAProps")({activeEntries:G,helperText:e,highlightedEntry:H,inputLabel:g,isOpened:F,viewRole:z});k=c("useCometTypeaheadLayoutStrategyStyles")({xstyles:babelHelpers["extends"]({},C,{viewXStyle_DO_NOT_USE:[i.view,D]})});return h.jsx(c("CometTokenizerInternalLayoutContextualStrategy.react"),babelHelpers["extends"]({},a,A,{extraLayoutProps:{afterViewContent:d,ariaProps:j,beforeViewContent:b,helperTextComponent:e!=null?h.jsx(c("CometTypeaheadHelperText.react"),{text:e}):null,isLoading:I,isOpened:F},helperText:e,inputRef:E,isDisabled:f,label:g,queryString:y,selectedEntries:B,viewRole:z,xstyles:k}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatTokenizerLayoutContextualStrategy.react",["fbt","CometTokenizerLayoutContextualStrategy.react","CurrentUser","react","stylex","useCometInternalTypeaheadStateDispatcher"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useEffect,k=b.useMemo,l={layout:{height:"datstx6m",width:"k3oul89m"},root:{display:"j83agx80"},to:{color:"oo9gr5id",fontSize:"jq4qci2q",fontWeight:"knj5qynh",lineHeight:"a3bd9o3v",marginStart:"dhix69tm",marginTop:"aov4n071",position:"pmk7jnqg"},typeaheadInput:{backgroundColor:"nred35xi",boxSizing:"rq0escxv",display:"a8c37x1j",paddingEnd:"dflh9lhu",paddingStart:"jxo0map8"},view:{backgroundColor:"nred35xi",borderTop:"opwvks06",flexShrink:"g5gj957u",maxHeight:"nyzjzqfi",minHeight:"b8v32qnc",overflowY:"eg9m0zos",width:"jbcpqwzg","@media (min-height: 1280px)":{maxHeight:"gbk4by2p",minHeight:"a3d5bthu"}}};function a(a,b){a===void 0&&(a=!1);b===void 0&&(b="root");return function(d){var e=d.xstyles;e=e===void 0?{}:e;var f=e.viewXStyle_DO_NOT_USE;e=babelHelpers.objectWithoutPropertiesLoose(d,["xstyles"]);d=c("useCometInternalTypeaheadStateDispatcher")();var g=d.dispatchIsOpened;j(function(){(a||c("CurrentUser").isWorkUser())&&g(!0)},[]);d=k(function(){return{inputXStyle:[l.typeaheadInput],layoutXStyle:[l.layout],viewXStyle_DO_NOT_USE:[l.view,f]}},[f]);return i.jsxs("div",{className:c("stylex")(l.root),children:[i.jsx("div",{"aria-hidden":"true",className:c("stylex")(l.to),children:h._(/*FBT_CALL*/"\u53d1\u7ed9\uff1a"/*FBT_CALL*/)}),i.jsx(c("CometTokenizerLayoutContextualStrategy.react"),babelHelpers["extends"]({},e,{contextualProps:{align:"start",disableAutoFlip:!0},label:h._(/*FBT_CALL*/"\u53d1\u6d88\u606f\u7ed9"/*FBT_CALL*/),layerContext:b,xstyles:d}))]})}}g.createMWChatTokenizerLayoutContextualStrategy=a}),98);
__d("MWInboxTokenizerTokenStrategy.react",["cr:1792","cr:2262","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var c=a.addOn,d=a.addOnSecondary,e=a.isDisabled,f=a.level,g=a.onPress,j=a.token;a=i(function(a){a.preventDefault(),g(j)},[g,j]);if(b("cr:1792")!=null)return h.jsx(b("cr:1792"),{addOn:c,addOnSecondary:d,disabled:e,level:f,onPress:a,text:j.label,type:"remove"});return b("cr:2262")!=null?h.jsx(b("cr:2262"),{disabled:e,onPress:a,text:j.label}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWThreadListNewMessageHook.bs",["MWInteropTokenUtils.bs","MWThreadListNewMessageState.bs","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("MWThreadListNewMessageState.bs").useDispatch(void 0);h.useEffect(function(){b("bs_curry")._1(c,{TAG:0,_0:!0});return function(a){return b("bs_curry")._1(c,1)}},[c]);h.useEffect(function(){b("bs_curry")._1(c,{TAG:1,_0:a.filter(function(a){return!b("MWInteropTokenUtils.bs").isInteropWithoutGxacSupport(a)})})},[c,a])}f.useHook=a}),null);
__d("MWV2OnAuthoritativeThreadInsert.bs",["LSAuthorityLevel.bs","ReQL.bs","SortedAsyncIterable.bs","bs_caml","bs_curry"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){c=c.table("threads").index("clientThreadKey");c=b("ReQL.bs").fromIndexAscending(c);a=a[0];var e={contents:function(a){}};e.contents=b("SortedAsyncIterable.bs").subscribe(b("ReQL.bs").getKeyRange(c,{hd:a,tl:0}),function(a,c){if(typeof c==="number")return;a=c._0;if(b("bs_caml").i64_eq(a.authorityLevel,b("LSAuthorityLevel.bs").authoritative)){b("bs_curry")._1(d,a);return b("bs_curry")._1(e.contents,void 0)}})}f.onAuthoritativeThreadInsert=a}),null);
__d("MWV2ThreadPreview.bs",["LS.bs","LSAuthorityLevel.bs","LSContactBlockedByViewerStatus.bs","LSContactGender.bs","LSContactIdType.bs","LSContactType.bs","LSContactViewerRelationship.bs","LSContactWorkForeignEntityType.bs","LSDatabaseType.bs","LSLocalCreateOptimisticGroupThread","LSMessagingThreadTypeUtil.bs","LSTransaction.bs","LSVec.bs","LSVerifyContactRowExists","LSVerifyThreadRowExists","MWLSActor.bs","MWPThreadTheme.bs","MWThreadKey.bs","MWV2OpenAndSecureThreadView.bs","MessagingThreadType.bs","Promise","ReQL.bs","ReQLSubscription.bs","ReQLSuspense","SortedAsyncIterable.bs","bs_belt_Option","bs_caml","bs_caml_array","bs_caml_option","bs_curry","bs_int64","cr:2751","promiseDone","react","recoverableViolation","stylex","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={container:{display:"j83agx80",flexDirection:"cbu4d94t",flexGrow:"buofh1pr",minHeight:"tgvbjcpo",fontSize:"jq4qci2q"},preview:{flexGrow:"buofh1pr",minHeight:"tgvbjcpo",display:"j83agx80",flexDirection:"cbu4d94t"},composer:{minHeight:"pxsmfnpt",flexShrink:"pfnyh3mw"}};function k(a){var c=b("useReStore")();i.useEffect(function(){b("LSTransaction.bs").run(c,function(c){return b("Promise").all(a.map(function(a){return b("LSVerifyContactRowExists")(a.id,b("LSContactIdType.bs").fbid,void 0,void 0,b("LSContactType.bs").user,void 0,void 0,void 0,void 0,!1,!1,b("LSContactBlockedByViewerStatus.bs").unblocked,void 0,!1,b("LSAuthorityLevel.bs").clientPartial,void 0,void 0,b("LSContactWorkForeignEntityType.bs").unknown,b("LSContactGender.bs").unknown,b("LSContactViewerRelationship.bs").unknown,void 0,b("LS.bs").make(c))}))},"readWrite")},[c,JSON.stringify(a.map(function(a){return b("bs_int64").to_string(a.id)}))])}function l(a){var c=a.thread;a=a.children;return i.jsx(b("MWThreadKey.bs").make,{id:c.threadKey,children:i.jsxs("div",{className:(h||(h=b("stylex")))(j.container),children:[i.jsx("div",{className:h(j.preview),children:i.jsx(b("MWPThreadTheme.bs").make,{themeFbid:c.themeFbid,children:i.jsx(b("MWV2OpenAndSecureThreadView.bs").make,{thread:c})})}),i.jsx("div",{className:h(j.composer),children:a})]})})}d={make:l};function m(a){var c=a.recipientToken,d=a.setPreviewThread;a=a.children;var e=b("useReStore")(),f=c.threadType,g=c.id;k([c]);i.useEffect(function(){b("promiseDone")(b("LSTransaction.bs").run(e,function(a){return b("LSVerifyThreadRowExists")(g,f,b("LSDatabaseType.bs").mailbox,b("LS.bs").make(a))},"readWrite"),void 0,void 0)},[e,b("bs_int64").to_string(g),JSON.stringify(f)]);var h=b("ReQLSubscription.bs").useFirst(i.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(e.table("threads")),{hd:g,tl:0})},[e,g]));i.useEffect(function(){b("bs_curry")._1(d,function(a){return h})},[h]);if(h!==void 0)return i.jsx(l,{thread:h,children:a});else return null}e={make:m};function a(a){var c=a.recipientToken,d=a.tokens,e=a.setPreviewThread;a=a.children;var f=b("useReStore")(),g=c.threadType,h=c.id;c=i.useState(function(){});var j=c[1],k=c[0];i.useEffect(function(){var a=0;b("cr:2751")==null||!b("LSMessagingThreadTypeUtil.bs").isSecure(g)?a=1:b("promiseDone")(b("LSTransaction.bs").run(f,function(a){return b("bs_curry")._3(b("cr:2751").call,a,d,b("MessagingThreadType.bs").secureMessageOverWaOneToOne)},"readWrite"),function(a){return b("bs_curry")._1(j,function(b){return a})},void 0);a===1&&(b("promiseDone")(b("LSTransaction.bs").run(f,function(a){return b("LSVerifyThreadRowExists")(h,g,b("LSDatabaseType.bs").mailbox,b("LS.bs").make(a))},"readWrite"),void 0,void 0),b("bs_curry")._1(j,function(a){return h}))},[f,b("bs_int64").to_string(h),g]);i.useEffect(function(){b("LSTransaction.bs").run(f,function(a){return b("LSVerifyContactRowExists")(h,b("LSContactIdType.bs").fbid,void 0,void 0,b("LSContactType.bs").user,void 0,void 0,void 0,void 0,!1,!1,b("LSContactBlockedByViewerStatus.bs").unblocked,void 0,!1,b("LSAuthorityLevel.bs").clientPartial,void 0,void 0,b("LSContactWorkForeignEntityType.bs").unknown,b("LSContactGender.bs").unknown,b("LSContactViewerRelationship.bs").unknown,void 0,b("LS.bs").make(a))},"readWrite")},[f,b("bs_int64").to_string(h)]);var m=b("ReQLSubscription.bs").useFirst(i.useMemo(function(){if(k!==void 0)return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(f.table("threads")),{hd:k,tl:0});else return b("SortedAsyncIterable.bs").empty(void 0)},[f,b("bs_belt_Option").map(k,b("bs_int64").to_string)]));i.useEffect(function(){b("bs_curry")._1(e,function(a){return m})},[m]);if(m!==void 0)return i.jsx(l,{thread:m,children:a});else return null}a={make:a};function n(a,c,d,e){var f=b("useReStore")(),g=b("bs_int64").to_string(b("MWLSActor.bs").useActor(void 0)),h=b("ReQLSubscription.bs").useArray(i.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").filter(b("ReQL.bs").fromTableAscending(f.table("participants")),function(a){return c.has(b("bs_int64").to_string(a.contactId))}),function(a){return b("bs_int64").to_string(a.threadKey)})},[f,c]));return b("ReQLSubscription.bs").useFirst(i.useMemo(function(){var a,d=new Set(h);return(a=b("ReQL.bs")).filter(a.filter(a.filter(a.filter(a.fromTableAscending(f.table("threads")),function(a){return b("bs_caml").i64_eq(a.threadType,e)}),function(a){return a.threadName===void 0}),function(a){a=a.clientThreadKey;if(a!==void 0)return d.has(b("bs_int64").to_string(a));else return!1}),function(a){a=a.clientThreadKey;if(a===void 0)return!1;a=b("ReQLSuspense").toArray(b("ReQL.bs").filter(b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromIndexDescending(f.table("participants").index("threadKeyReadWatermarkTimestampMs")),{hd:a,tl:0}),function(a){return b("bs_int64").to_string(a.contactId)}),function(a){return a!==g}));if(a.every(function(a){return c.has(a)}))return a.length===c.size;else return!1})},[f,h,c,g,JSON.stringify(e)]))}function o(a,c,d){var e=b("useReStore")();i.useEffect(function(){a===void 0&&b("promiseDone")(b("LSTransaction.bs").run(e,function(a){if(b("bs_caml").i64_eq(c,b("MessagingThreadType.bs").group))return b("LSLocalCreateOptimisticGroupThread")(b("LSVec.bs").make(d.map(function(a){return a.id})),void 0,b("LS.bs").make(a)).then(function(a){});else if(b("LSMessagingThreadTypeUtil.bs").isSecure(c))if(b("cr:2751")==null)return b("Promise").resolve(void 0);else return b("bs_curry")._3(b("cr:2751").call,a,d,c).then(function(a){});else{b("recoverableViolation")("Don't know how to create optimistic thread for thread of thread type"+b("bs_belt_Option").getWithDefault(JSON.stringify(c),""),"messenger_web_product");return b("Promise").resolve(void 0)}},"readWrite"),void 0,void 0)},[e,d,JSON.stringify(a),JSON.stringify(c)])}function p(a){var c=a.tokens,d=a.tokensExcludingActor,e=a.tokenContactIdsExcludingActor,f=a.setPreviewThread,g=a.threadType;a=a.children;var h=n(d,e,f,g);k(d);o(h,g,c);i.useEffect(function(){b("bs_curry")._1(f,function(a){return h})},[h]);if(h!==void 0)return i.jsx(l,{thread:h,children:a});else return null}var q={useFindMatchingOptimisticThreadWithParticipants:n,useCreateOptimisticThreadForTokens:o,make:p};function r(a,c,d,e){var f=b("useReStore")(),g=b("bs_int64").to_string(b("MWLSActor.bs").useActor(void 0)),h=b("ReQLSubscription.bs").useArray(i.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").filter(b("ReQL.bs").fromTableAscending(f.table("participants")),function(a){return c.has(b("bs_int64").to_string(a.contactId))}),function(a){return b("bs_int64").to_string(a.threadKey)})},[f,c]));return b("ReQLSubscription.bs").useFirst(i.useMemo(function(){var a,d=new Set(h);return(a=b("ReQL.bs")).filter(a.filter(a.filter(a.filter(a.fromTableAscending(f.table("threads")),function(a){return b("bs_caml").i64_eq(a.threadType,e)}),function(a){return a.threadName===void 0}),function(a){return d.has(b("bs_int64").to_string(a.threadKey))}),function(a){a=b("ReQLSuspense").toArray(b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromIndexDescending(f.table("participants").index("threadKeyReadWatermarkTimestampMs")),{hd:a.threadKey,tl:0}),function(a){return b("bs_int64").to_string(a.contactId)}));var d=a.filter(function(a){return a!==g});if(a.length===d.length||d.length!==c.size)return!1;else return d.every(function(a){return c.has(a)})})},[f,h,c,g,JSON.stringify(e)]))}function s(a){var c=a.tokensExcludingActor,d=a.tokens,e=a.threadType,f=a.setPreviewThread;a=a.children;var g=i.useMemo(function(){return new Set(c.map(function(a){return b("bs_int64").to_string(a.id)}))},[c]),h=r(c,g,f,e);i.useEffect(function(){h!==void 0&&b("bs_curry")._1(f,function(a){return h})},[h]);if(h!==void 0)return i.jsx(l,{thread:h,children:a});else return i.jsx(p,{tokens:d,tokensExcludingActor:c,tokenContactIdsExcludingActor:g,setPreviewThread:f,threadType:e,children:a})}var t={useFindExistingThreadWithTokens:r,make:s};function c(a){var c=a.tokens,d=a.areWeCreatingASecureThread,e=a.setPreviewThread,f=a.nullstate;a=a.children;f=f!==void 0?b("bs_caml_option").valFromOption(f):null;var g=b("MWLSActor.bs").useActor(void 0),h=i.useMemo(function(){return c.filter(function(a){return b("bs_caml").i64_neq(a.id,g)})},[c,g]);i.useEffect(function(){c.length===0&&b("bs_curry")._1(e,function(a){})},[c]);if(c.length===0)return f;var j=h.length;if(j!==1)if(j!==0)return i.jsx(s,{tokensExcludingActor:h,tokens:c,threadType:d?b("MessagingThreadType.bs").secureMessageOverWaGroup:b("MessagingThreadType.bs").group,setPreviewThread:e,children:a});else if(d)return f;else return i.jsx(m,{recipientToken:b("bs_caml_array").get(c,0),setPreviewThread:e,children:a});j=h[0];if(d)return i.jsx(s,{tokensExcludingActor:h,tokens:c,threadType:b("MessagingThreadType.bs").secureMessageOverWaOneToOne,setPreviewThread:e,children:a});else return i.jsx(m,{recipientToken:j,setPreviewThread:e,children:a})}var u=b("cr:2751");c=c;f.$MAWCreateOptimisticSecureThread$requireCondXplat=b("cr:2751");f.mawCreateOptimisticSecureThread=u;f.styles=j;f.ExistingThreadPreview=d;f.CanonicalThreadPreview=e;f.OneOnOnePreview=a;f.OptimisticThread=q;f.PossiblyOptimisticThread=t;f.make=c}),null);
__d("MWV2InboxNewMessage.bs",["CometPlaceholder.react","CometProgressRingIndeterminate.react","LS.bs","LSAddMessengerContact","LSAuthorityLevel.bs","LSMessagingThreadTypeUtil.bs","LSResult.bs","LSTransaction.bs","MAWGating.bs","MWChatConnectionStatusCard.bs","MWChatLightSpeedSearchTypeahead.bs","MWChatTokenizerLayoutContextualStrategy.react","MWInboxTokenizerTokenStrategy.react","MWInteropTokenUtils.bs","MWLSActor.bs","MWPThreadTheme.bs","MWSearchTypeaheadViewItemDisabledHook.bs","MWThreadListNewMessageHook.bs","MWThreadListNewMessageState.bs","MWV2ComposerCommon.bs","MWV2IsTabFocusedContext.bs","MWV2NewThreadUtils.bs","MWV2OnAuthoritativeThreadInsert.bs","MWV2OpenTabOrThread.bs","MWV2ReplyContext.bs","MWV2ThreadPreview.bs","ReQL.bs","bs_caml","bs_caml_obj","bs_curry","bs_int64","cr:11268","cr:12140","gkx","promiseDone","react","stylex","useCurrentRoute","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={root:{flexBasis:"rj1gh0hx",flexGrow:"buofh1pr",overflowX:"ni8dbmo4",overflowY:"stjgntxs",flexDirection:"cbu4d94t",display:"j83agx80",backgroundColor:"nred35xi",fontSize:"jq4qci2q"},spinner:{display:"j83agx80",alignItems:"bp9cbjyn",justifyContent:"taijpn5t",flexGrow:"buofh1pr"},searchInputForContactsList:{borderBottom:"s1tcr66n",boxShadow:"mvk8q8v6"},searchInput:{display:"j83agx80",flexShrink:"pfnyh3mw",paddingTop:"cxgpxx05",minHeight:"tgvbjcpo",zIndex:"tkr6xdv7",backgroundColor:"nred35xi",maxHeight:"nwf6jgls",boxShadow:"flhsghwj"},spacer:{flexGrow:"buofh1pr"},secureToggle:{marginTop:"aov4n071",paddingEnd:"dflh9lhu"}},k={viewXStyle_DO_NOT_USE:{borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi",boxShadow:"nwpbqux9",paddingTop:"cxgpxx05",paddingBottom:"sj5x9vvc"}};function l(a){var c=b("useCurrentRoute")(),d=i.useRef(c==null?"":c.url);i.useEffect(function(){d.current=c==null?"":c.url},[d,c]);return d}function m(a,c,d,e,f){c=c.clientThreadKey;if(c!==void 0&&b("bs_caml_obj").caml_equal(e,f.current))return b("MWV2OnAuthoritativeThreadInsert.bs").onAuthoritativeThreadInsert(b("LSResult.bs").make(c),a,function(a){return b("bs_curry")._1(d,{threadKey:a.threadKey,clientThreadKey:a.clientThreadKey,threadType:a.threadType})})}function n(a,c,d,e){var f=i.useState(function(){return!1}),g=f[1],h=l(void 0),j=b("MWThreadListNewMessageState.bs").useDispatch(void 0),k=b("useReStore")(),n=b("MWLSActor.bs").useActor(void 0);return i.useCallback(function(f){if(a===void 0)return;b("bs_curry")._1(c,function(a){return!0});b("bs_curry")._1(g,function(a){return!0});b("bs_curry")._1(j,0);f=b("bs_caml").i64_eq(a.authorityLevel,b("LSAuthorityLevel.bs").optimistic)&&b("LSMessagingThreadTypeUtil.bs").isGroup(a.threadType);var i=b("bs_caml").i64_eq(a.authorityLevel,b("LSAuthorityLevel.bs").optimistic)&&b("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType);f||i?m(k,a,d,h.current,h):b("bs_curry")._1(d,{threadKey:a.threadKey,clientThreadKey:a.clientThreadKey,threadType:a.threadType});b("promiseDone")(b("LSTransaction.bs").run(k,function(c){var d;return(d=b("ReQL.bs")).first(d.filter(d.map(d.getKeyRange(d.fromTableAscending(k.table("participants")),{hd:a.threadKey,tl:0}),function(a){return a.contactId}),function(a){return b("bs_caml").i64_neq(a,n)})).then(function(d){if(d!==void 0&&e&&b("LSMessagingThreadTypeUtil.bs").isOneToOne(a.threadType))return b("LSAddMessengerContact")(d,b("LS.bs").make(c))})},"readWrite"),void 0,void 0)},[h,d,a,c,j,k])}function a(a){(a=b("MWV2NewThreadUtils.bs")).useSyncRanking(void 0);var c=i.useMemo(function(){return b("MWChatTokenizerLayoutContextualStrategy.react").createMWChatTokenizerLayoutContextualStrategy(!0,"input")},[]),d=i.useState(function(){if(b("gkx")("2761"))return b("MAWGating.bs").isArmadillo(void 0);else return!1}),e=d[0],f=i.useContext(b("MWThreadListNewMessageState.bs").context);f=a.useTokens(f.entries,e);var g=f[1],l=f[0];b("MWThreadListNewMessageHook.bs").useHook(l);var m=i.useState(function(){return!1}),o=m[1],p=b("MWV2OpenTabOrThread.bs").useHook(void 0),q=i.useMemo(function(){return function(a){return b("bs_curry")._2(p.openInbox,a,"inboxNewMessage")}},[p]),r=a.useOnAddToken(e,o,q),s=i.useState(function(){}),t=s[0];a=a.useTokensShimmed(l,e);var u=i.useMemo(function(){return l.some(b("MWInteropTokenUtils.bs").isInterop)},[l]);o=n(t,o,q,e);q=b("MWSearchTypeaheadViewItemDisabledHook.bs").useIsDisabled(l,e);if(t!==void 0){var v=t.clientThreadKey;v=b("bs_int64").to_string(v!==void 0?v:t.threadKey);t=i.jsx(b("MWPThreadTheme.bs").make,{themeFbid:t.themeFbid,children:i.jsx(b("MWV2ComposerCommon.bs").make,{thread:t,isPreviewThread:!0,afterSendMessage:o,onSendEmptyMessage:function(a){}},v)})}else t=null;return i.jsxs("div",{className:(h||(h=b("stylex")))(j.root),children:[i.jsxs("div",{className:h(j.searchInput,l.length===0?j.searchInputForContactsList:!1),children:[i.jsx(b("MWChatLightSpeedSearchTypeahead.bs").make,{isDisabled:m[0],isSecure:e,getIsViewItemDisabled:q,onAddToken:r,onChangeTokens:g,onSearchAbandon:function(a){},onSearchCompletion:function(a){},tokens:l,xstyles:k,excludedIDs:f[2],tokenItemRenderer:b("MWInboxTokenizerTokenStrategy.react"),layoutStategyRenderer:c}),i.jsx("div",{className:h(j.spacer)}),i.jsx("div",{className:h(j.secureToggle),children:b("cr:11268")==null?null:i.jsx(b("cr:11268").make,{setAreWeCreatingASecureThread:d[1],areWeCreatingASecureThread:e,disabled:u})})]}),i.jsx(b("MWChatConnectionStatusCard.bs").make,{}),i.jsx(b("CometPlaceholder.react"),{children:i.jsx(b("MWV2IsTabFocusedContext.bs").make,{children:i.jsx(b("MWV2ReplyContext.bs").make,{children:i.jsx(b("MWV2ThreadPreview.bs").make,{tokens:a,areWeCreatingASecureThread:e,setTokens:g,setPreviewThread:s[1],children:t})}),isFocused:!0}),fallback:i.jsx("div",{className:h(j.spinner),children:i.jsx(b("CometProgressRingIndeterminate.react"),{color:"disabled",size:24})})})]})}c=b("cr:12140");d=a;f.$MAWSecureComposer$requireCondXplat=b("cr:12140");f.mawSecureComposer=c;f.$MAWSecureThreadToggle$requireCond=b("cr:11268");f.make=d}),null);
__d("MDSFriendWomanAddSVGIcon.bs",["MDSSvgIcon.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.color;a=a.size;return h.jsx(b("MDSSvgIcon.bs").make,{size:a,color:c,children:h.jsx("path",{d:"M17.25 12.305C17.25 16.207 19.446 18 22 18s4.75-1.793 4.75-5.695C26.75 9.123 24.75 7 22 7s-4.75 2.123-4.75 5.305zM29.94 28c.69 0 1.06-.595 1.06-1.335C31 22.985 26.835 20 22 20s-9 2.985-9 6.665c0 .74.37 1.335 1.06 1.335h15.88zM8 12a1 1 0 112 0v2.75c0 .138.112.25.25.25H13a1 1 0 110 2h-2.75a.25.25 0 00-.25.25V20a1 1 0 11-2 0v-2.75a.25.25 0 00-.25-.25H5a1 1 0 110-2h2.75a.25.25 0 00.25-.25V12z"})})}c=a;f.make=c}),null);
__d("MDSGroupGenericSvgIcon.bs",["MDSSvgIcon.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.color;a=a.size;return h.jsx(b("MDSSvgIcon.bs").make,{size:a,color:c,children:h.jsx("path",{d:"M18 18c-2.554 0-4.75-1.793-4.75-5.695C13.25 9.123 15.25 7 18 7s4.75 2.123 4.75 5.305C22.75 16.207 20.554 18 18 18zM25.94 28c.69 0 1.06-.595 1.06-1.335C27 22.985 22.835 20 18 20s-9 2.985-9 6.665c0 .74.37 1.335 1.06 1.335h15.88zM25.5 14.858C25.5 17.696 27.118 19 29 19s3.5-1.304 3.5-4.142C32.5 12.544 31.026 11 29 11s-3.5 1.544-3.5 3.858zM29.977 27h4.082c.559 0 .941-.45.941-.997C35 23 32.036 20.5 29 20.5c-.648 0-1.292.114-1.905.322-.335.114-.403.539-.164.8 1.102 1.202 1.875 2.69 2.037 4.378l.017.13a1 1 0 00.992.87zM7 19c-1.882 0-3.5-1.304-3.5-4.142C3.5 12.544 4.974 11 7 11s3.5 1.544 3.5 3.858C10.5 17.696 8.882 19 7 19zM1.94 27h4.083a1 1 0 00.992-.87l.017-.13c.162-1.687.935-3.176 2.037-4.379.239-.26.17-.685-.164-.8A5.939 5.939 0 007 20.5c-3.036 0-6 2.5-6 5.503 0 .548.382.997.94.997z"})})}c=a;f.make=c}),null);
__d("MDSContextBannerQuickActionsIcons.bs",["MDSFriendWomanAddSVGIcon.bs","MDSGroupGenericSvgIcon.bs","MDSLinkSvgIcon.bs","MDSPencilSvgIcon.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){return h.jsx(b("MDSFriendWomanAddSVGIcon.bs").make,{color:"primary",size:"28"})}a={make:a,icon:a};function c(a){return h.jsx(b("MDSPencilSvgIcon.bs").make,{color:"primary",size:"28"})}c={make:c,icon:c};function d(a){return h.jsx(b("MDSGroupGenericSvgIcon.bs").make,{color:"primary",size:"28"})}d={make:d,icon:d};function e(a){return h.jsx(b("MDSLinkSvgIcon.bs").make,{color:"primary",size:"28"})}e={make:e,icon:e};f.AddPeople=a;f.EditName=c;f.Members=d;f.Link=e}),null);
__d("MWContextBannerQuickActionsIcons.bs",["cr:808"],(function(a,b,c,d,e,f){"use strict";c=(a=b("cr:808")).AddPeople;d=a.EditName;e=a.Members;b=a.Link;f.$MDSContextBannerQuickActionsIcons$OR$FDSContextBannerQuickActionsIcons$requireCond=a;f.AddPeople=c;f.EditName=d;f.Members=e;f.Link=b}),null);
__d("MWContextBannerQuickActions.bs",["fbt","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","MDSCircleButton.react","MDSText.react","MWAddMemberToGroupDialogTrigger.bs","MWCMEditChatInfoDialogTrigger.bs","MWCMLinkShare.bs","MWCMThreadTypes.bs","MWContextBannerQuickActionsIcons.bs","MWEditThreadNameDialogTrigger.bs","MWGroupLimitContainer.bs","MWLSGroupMembershipDialogTrigger.bs","MWVerticalRhythm.bs","bs_curry","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={container:{alignItems:"bp9cbjyn",display:"j83agx80",justifyContent:"taijpn5t",paddingBottom:"f10w8fjw",paddingTop:"cxgpxx05"},item:{alignItems:"bp9cbjyn",display:"j83agx80",flexDirection:"cbu4d94t",width:"orwu60u2"}};function a(a){a=a.thread;var c=b("MWCMThreadTypes.bs").isAnyCMThread(a.threadType),d=j.useMemo(function(){return[c?g._(/*FBT_CALL*/"\u590d\u5236\u94fe\u63a5"/*FBT_CALL*/):g._(/*FBT_CALL*/"\u6dfb\u52a0"/*FBT_CALL*/),c?g._(/*FBT_CALL*/"\u4fe1\u606f"/*FBT_CALL*/):g._(/*FBT_CALL*/"\u540d\u79f0"/*FBT_CALL*/),g._(/*FBT_CALL*/"\u6210\u5458"/*FBT_CALL*/)]},[c]),e=d[2],f=d[1],h=d[0];d=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").threadNameCustomization,a);var l=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").threadDescriptionCustomization,a),m=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").addMember,a);return j.jsxs("ul",{className:(i||(i=b("stylex")))(k.container),children:[c?j.jsx(b("MWCMLinkShare.bs").make,{thread:a,children:function(a){return j.jsxs("li",{className:(i||(i=b("stylex")))(k.item),children:[j.jsx(b("MDSCircleButton.react"),{icon:b("MWContextBannerQuickActionsIcons.bs").Link.icon,size:36,label:h,onPress:a}),j.jsx(b("MWVerticalRhythm.bs").make,{height:8}),j.jsx(b("MDSText.react"),{align:"center",color:"primary",type:"body4",numberOfLines:1,children:h})]})}}):null,!c&&m?j.jsx(b("MWGroupLimitContainer.bs").make,{children:j.jsxs("li",{className:(i||(i=b("stylex")))(k.item),children:[j.jsx(b("MWAddMemberToGroupDialogTrigger.bs").make,{thread:a,children:function(a,c){return j.jsx(b("MDSCircleButton.react"),{icon:b("MWContextBannerQuickActionsIcons.bs").AddPeople.icon,size:36,label:h,onPress:function(c){return b("bs_curry")._1(a,void 0)},ref:c})}}),j.jsx(b("MWVerticalRhythm.bs").make,{height:8}),j.jsx(b("MDSText.react"),{align:"center",color:"primary",type:"body4",numberOfLines:1,children:h})]}),groupLimitReachedContent:null,thread:a}):null,c&&d&&l?j.jsxs("li",{className:(i||(i=b("stylex")))(k.item),children:[j.jsx(b("MWCMEditChatInfoDialogTrigger.bs").make,{thread:a,children:function(a){return j.jsx(b("MDSCircleButton.react"),{icon:b("MWContextBannerQuickActionsIcons.bs").EditName.icon,size:36,label:f,onPress:function(c){return b("bs_curry")._1(a,void 0)}})}}),j.jsx(b("MWVerticalRhythm.bs").make,{height:8}),j.jsx(b("MDSText.react"),{align:"center",color:"primary",type:"body4",numberOfLines:1,children:f})]}):null,!c&&d?j.jsxs("li",{className:(i||(i=b("stylex")))(k.item),children:[j.jsx(b("MWEditThreadNameDialogTrigger.bs").make,{thread:a,children:function(a,c){return j.jsx(b("MDSCircleButton.react"),{icon:b("MWContextBannerQuickActionsIcons.bs").EditName.icon,size:36,label:f,onPress:function(c){return b("bs_curry")._1(a,void 0)},ref:c})}}),j.jsx(b("MWVerticalRhythm.bs").make,{height:8}),j.jsx(b("MDSText.react"),{align:"center",color:"primary",type:"body4",numberOfLines:1,children:f})]}):null,j.jsxs("li",{className:i(k.item),children:[j.jsx(b("MWLSGroupMembershipDialogTrigger.bs").make,{children:function(a,c){return j.jsx(b("MDSCircleButton.react"),{icon:b("MWContextBannerQuickActionsIcons.bs").Members.icon,size:36,label:e,onPress:function(c){return b("bs_curry")._1(a,void 0)},ref:c})}}),j.jsx(b("MWVerticalRhythm.bs").make,{height:8}),j.jsx(b("MDSText.react"),{align:"center",color:"primary",type:"body4",numberOfLines:1,children:e})]})]})}c=a;f.styles=k;f.make=c}),null);
__d("LSSyncChannel.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").one;c=[0,2];d=[0,3];f.mqtt=a;f.http=c;f.dgw=d}),null);
__d("LSPlatformClientStartLoadingEarly.bs",["LSPlatformClient.bs","LSPlatformClientInstances.bs","Promise"],(function(a,b,c,d,e,f){"use strict";function a(a){b("LSPlatformClientInstances.bs").getOrInit(a,function(a){return b("Promise").resolve(b("LSPlatformClient.bs"))})}f.start=a}),null);
__d("MDSNoProfilePictureSvg.bs",["react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=a.size;a=a!==void 0?a:"36";return h.jsxs("svg",{width:a,height:a,viewBox:"0 0 100 100",fill:"none",children:[h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M50 100C77.6142 100 100 77.6142 100 50C100 22.3858 77.6142 0 50 0C22.3858 0 0 22.3858 0 50C0 77.6142 22.3858 100 50 100Z",fill:"#9BA0A8",fillOpacity:"0.5"}),h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M50.8333 66.6665C38.6402 66.6665 28.2008 71.8541 23.6611 79.2551C23.4411 79.6156 23.3333 80.0346 23.3333 80.4556C23.3333 81.1559 23.6421 81.8291 24.1942 82.2709C31.4711 88.1171 40.7154 91.6665 50.8333 91.6665C60.9511 91.6665 70.1954 88.1171 77.4723 82.2709C78.0244 81.8291 78.3333 81.1559 78.3333 80.4556C78.3333 80.0346 78.2254 79.6156 78.0054 79.2551C73.4657 71.8541 63.0263 66.6665 50.8333 66.6665Z",fill:"white",fillOpacity:"0.5"}),h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M49.9991 16.6665C40.015 16.6665 31.6667 25.4126 31.6667 36.7616C31.6667 51.5425 40.1494 58.3332 49.9991 58.3332C59.8507 58.3332 68.3334 51.5425 68.3334 36.7616C68.3334 25.4126 59.9872 16.6665 49.9991 16.6665Z",fill:"white",fillOpacity:"0.5"})]})}c=a;f.make=c}),null);
__d("MWChatBlockQuote.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.children;return h.jsx("blockquote",{className:"ii04i59q dati1w0a hv4rvrfc tvmbv18p aahdfvyu hcukyx3x cxmmr5t8 peup4ujy mk2mc5f4 lmiizvyk",children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("getRingbackUrl",["URI"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(a==null)return null;a=new(c("URI"))(a);a.addQueryData("users_to_ring",[b]);return a.toString()}g["default"]=a}),98);
__d("MakeRoomRingback.bs",["FBID.bs","MWThreadKey.bs","MessagingThreadType.bs","Promise","RTWebPreCallHooks","ReQL.bs","bs_caml","bs_int64","getRingbackUrl","promiseDone","react","recoverableViolation","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("getRingbackUrl");function a(a){var c=b("RTWebPreCallHooks").useJoinMeetupCallback(),d=b("useReStore")(),e=b("MWThreadKey.bs").useIdMemoizedExn(void 0);return h.useCallback(function(a){var f=a.linkUrl;a=b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(d.table("threads")),{hd:e,tl:0})).then(function(a){if(a!==void 0){a=b("bs_caml").i64_eq(a.threadType,b("MessagingThreadType.bs").oneToOne)?i(f,b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.threadKey))):(b("recoverableViolation")("Cannot ring a non user thread","rtc_www"),f);return b("Promise").resolve(c(a))}b("recoverableViolation")("Cannot find thread when trying to ring a user","rtc_www");return b("Promise").resolve(void 0)});b("promiseDone")(a,void 0,function(a){b("recoverableViolation")("Error making a ring back","rtc_www",{error:a.Error})})},[c,e,d])}f.getRingbackUrl=i;f.useHook=a}),null);
__d("PopupWindow",["DOMDimensions","DOMQuery","FlowMigrationUtilsForLegacyFiles","Layer","Popup","getViewportDimensions","isFalsey"],(function(a,b,c,d,e,f,g){var h={allowShrink:!0,strategy:"vector",timeout:100,widthElement:null};function b(a){Object.assign(h,a),window.setInterval(i,h.timeout)}function i(){var a=c("getViewportDimensions")(),b=j(),e=c("Layer").getTopmostLayer();if(e){e=(e=e.getRoot())==null?void 0:e.firstChild;e||d("FlowMigrationUtilsForLegacyFiles").invariantViolation("topMostLayer.getRoot().firstChild is null.");var f=d("DOMDimensions").getElementDimensions(e);f.height+=d("DOMDimensions").measureElementBox(e,"height",!0,!0,!0);f.width+=d("DOMDimensions").measureElementBox(e,"width",!0,!0,!0);b.height=Math.max(b.height,f.height);b.width=Math.max(b.width,f.width)}e=b.height-a.height;f=b.width-a.width;f<0&&c("isFalsey")(h.widthElement)&&(f=0);f=f>1?f:0;c("isFalsey")(h.allowShrink)&&e<0&&(e=0);if(e||f)try{window.console&&window.console.firebug,window.resizeBy(f,e),f&&window.moveBy(f/-2,0)}catch(a){}}function j(){var b=d("DOMDimensions").getDocumentDimensions();if(h.strategy==="offsetHeight"){var e=document.body;if(!e)d("FlowMigrationUtilsForLegacyFiles").invariantViolation("document.body is null.");else{b.height=(e=e.offsetHeight)!=null?e:0}}if(c("isFalsey")(h.widthElement)&&typeof h.widthElement==="string"){e=d("DOMQuery").scry(document.body,h.widthElement)[0];e&&(b.width=d("DOMDimensions").getElementDimensions(e).width)}e=a.Dialog;e&&e.max_bottom&&e.max_bottom>b.height&&(b.height=e.max_bottom);return b}function e(a,b,c,e){return d("Popup").open(a,c,b,e)}g._opts=h;g.init=b;g._resizeCheck=i;g._getDocumentSize=j;g.open=e}),98);
__d("XMNCommerceCTAPostProcessController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/commerce/cta/postprocess/",{cta_id:{type:"String",required:!0},message_id:{type:"String"}})}),null);
__d("MNCommerceCTAProcessor",["AsyncRequest","CurrentUser","GraphQLMessengerPlatformCtaPostHandlingMutation.graphql","MessengerPlatformClientTypedLogger","PopupWindow","WebGraphQLMutationHelper","XMNCommerceCTAPostProcessController","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var b=a.prototype;b.process=function(a,b){b===void 0&&(b=null);var e=d("PopupWindow").open("",500,1024);a=c("XMNCommerceCTAPostProcessController").getURIBuilder().setString("cta_id",a).setString("message_id",b).getURI();new(c("AsyncRequest"))().setURI(a).setMethod("POST").setHandler(function(a){return e.location=a.payload}).send()};b.postHandle=function(a,b){a=d("WebGraphQLMutationHelper").getMutationURI(c("nullthrows")(c("GraphQLMessengerPlatformCtaPostHandlingMutation.graphql").params.id),{cta_id:a,message_id:b});new(c("AsyncRequest"))().setURI(a).send()};b.logCTAClick=function(a){var b,d;d=(d=a)!=null?d.logging_token:d;var e=d?JSON.parse(d).click_source:"UNKNOWN";e={action_id:(b=a)!=null?b.id:b,action_type:(b=a)!=null?b.action_type:b,action_url:((b=a)!=null?b.action_url:b)||((b=a)!=null?b.action_link:b),click_source:e,page_id:(b=a)!=null?b.page_id:b};new(c("MessengerPlatformClientTypedLogger"))().setClientUserID(c("CurrentUser").getID()).setName("did_tap_call_to_action").setExtraClientData(JSON.stringify(e)).setLoggingToken(d).log()};return a}();b=new a();g["default"]=b}),98);
__d("MNCommerceCTAProcessor.bs",["MNCommerceCTAProcessor","bs_caml_option"],(function(a,b,c,d,e,f){"use strict";function a(a){b("MNCommerceCTAProcessor").logCTAClick(a)}function c(a,c){b("MNCommerceCTAProcessor").process(a,c!==void 0?b("bs_caml_option").valFromOption(c):void 0)}f.logCTAClick=a;f.$$process=c}),null);